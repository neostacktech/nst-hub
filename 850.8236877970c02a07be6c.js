var It=Object.defineProperty,Nt=Object.defineProperties,Bt=Object.getOwnPropertyDescriptors,pt=Object.getOwnPropertySymbols,Ut=Object.prototype.hasOwnProperty,jt=Object.prototype.propertyIsEnumerable,ht=(fe,v,Z)=>v in fe?It(fe,v,{enumerable:!0,configurable:!0,writable:!0,value:Z}):fe[v]=Z,ut=(fe,v)=>{for(var Z in v||(v={}))Ut.call(v,Z)&&ht(fe,Z,v[Z]);if(pt)for(var Z of pt(v))jt.call(v,Z)&&ht(fe,Z,v[Z]);return fe},dt=(fe,v)=>Nt(fe,Bt(v)),at=(fe,v,Z)=>(ht(fe,"symbol"!=typeof v?v+"":v,Z),Z),ft=(fe,v,Z)=>{if(!v.has(fe))throw TypeError("Cannot "+Z)},ye=(fe,v,Z)=>(ft(fe,v,"read from private field"),Z?Z.call(fe):v.get(fe)),Me=(fe,v,Z)=>{if(v.has(fe))throw TypeError("Cannot add the same private member more than once");v instanceof WeakSet?v.add(fe):v.set(fe,Z)},De=(fe,v,Z,d)=>(ft(fe,v,"write to private field"),d?d.call(fe,Z):v.set(fe,Z),Z),Be=(fe,v,Z)=>(ft(fe,v,"access private method"),Z);(self.webpackChunkhub_demo=self.webpackChunkhub_demo||[]).push([[850],{8552:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(1052).default,Z;Z=function(){return(()=>{"use strict";var __webpack_modules__=[,(fe,v,Z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.VerbosityLevel=v.Util=v.UnknownErrorException=v.UnexpectedResponseException=v.UNSUPPORTED_FEATURES=v.TextRenderingMode=v.StreamType=v.RenderingIntentFlag=v.PermissionFlag=v.PasswordResponses=v.PasswordException=v.PageActionEventType=v.OPS=v.MissingPDFException=v.IsLittleEndianCached=v.IsEvalSupportedCached=v.InvalidPDFException=v.ImageKind=v.IDENTITY_MATRIX=v.FormatError=v.FontType=v.FONT_IDENTITY_MATRIX=v.DocumentActionEventType=v.CMapCompressionType=v.BaseException=v.AnnotationType=v.AnnotationStateModelType=v.AnnotationReviewState=v.AnnotationReplyType=v.AnnotationMode=v.AnnotationMarkedState=v.AnnotationFlag=v.AnnotationFieldFlag=v.AnnotationBorderStyleType=v.AnnotationActionEventType=v.AbortException=void 0,v.arrayByteLength=W,v.arraysToBytes=function(ae){const z=ae.length;if(1===z&&ae[0]instanceof Uint8Array)return ae[0];let J=0;for(let ve=0;ve<z;ve++)J+=W(ae[ve]);let pe=0;const be=new Uint8Array(J);for(let ve=0;ve<z;ve++){let Ce=ae[ve];Ce instanceof Uint8Array||(Ce="string"==typeof Ce?H(Ce):new Uint8Array(Ce));const Ue=Ce.byteLength;be.set(Ce,pe),pe+=Ue}return be},v.assert=function(ae,z){ae||U(z)},v.bytesToString=function(ae){("object"!=typeof ae||null===ae||void 0===ae.length)&&U("Invalid argument for bytesToString");const z=ae.length,J=8192;if(z<J)return String.fromCharCode.apply(null,ae);const pe=[];for(let be=0;be<z;be+=J){const ve=Math.min(be+J,z),Ce=ae.subarray(be,ve);pe.push(String.fromCharCode.apply(null,Ce))}return pe.join("")},v.createPromiseCapability=function(){const ae=Object.create(null);let z=!1;return Object.defineProperty(ae,"settled",{get:()=>z}),ae.promise=new Promise(function(J,pe){ae.resolve=function(be){z=!0,J(be)},ae.reject=function(be){z=!0,pe(be)}}),ae},v.createValidAbsoluteUrl=function(ae,z=null,J=null){if(!ae)return null;try{if(J&&"string"==typeof ae){if(J.addDefaultProtocol&&ae.startsWith("www.")){const be=ae.match(/\./g);be&&be.length>=2&&(ae=`http://${ae}`)}if(J.tryConvertEncoding)try{ae=Te(ae)}catch(be){}}const pe=z?new URL(ae,z):new URL(ae);if(function(ae){if(!ae)return!1;switch(ae.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(pe))return pe}catch(pe){}return null},v.escapeString=function(ae){return ae.replace(/([()\\\n\r])/g,z=>"\n"===z?"\\n":"\r"===z?"\\r":`\\${z}`)},v.getModificationDate=function(ae=new Date){return[ae.getUTCFullYear().toString(),(ae.getUTCMonth()+1).toString().padStart(2,"0"),ae.getUTCDate().toString().padStart(2,"0"),ae.getUTCHours().toString().padStart(2,"0"),ae.getUTCMinutes().toString().padStart(2,"0"),ae.getUTCSeconds().toString().padStart(2,"0")].join("")},v.getVerbosityLevel=function(){return V},v.info=function(ae){V>=S.INFOS&&console.log(`Info: ${ae}`)},v.isArrayBuffer=function(ae){return"object"==typeof ae&&null!==ae&&void 0!==ae.byteLength},v.isArrayEqual=function(ae,z){if(ae.length!==z.length)return!1;for(let J=0,pe=ae.length;J<pe;J++)if(ae[J]!==z[J])return!1;return!0},v.isAscii=function(ae){return/^[\x00-\x7F]*$/.test(ae)},v.isSameOrigin=function(ae,z){let J;try{if(J=new URL(ae),!J.origin||"null"===J.origin)return!1}catch(be){return!1}const pe=new URL(z,J);return J.origin===pe.origin},v.objectFromMap=function(ae){const z=Object.create(null);for(const[J,pe]of ae)z[J]=pe;return z},v.objectSize=function(ae){return Object.keys(ae).length},v.setVerbosityLevel=function(ae){Number.isInteger(ae)&&(V=ae)},v.shadow=p,v.string32=function(ae){return String.fromCharCode(ae>>24&255,ae>>16&255,ae>>8&255,255&ae)},v.stringToBytes=H,v.stringToPDFString=function(ae){if(ae[0]>="\xef"){let J;if("\xfe"===ae[0]&&"\xff"===ae[1]?J="utf-16be":"\xff"===ae[0]&&"\xfe"===ae[1]?J="utf-16le":"\xef"===ae[0]&&"\xbb"===ae[1]&&"\xbf"===ae[2]&&(J="utf-8"),J)try{const pe=new TextDecoder(J,{fatal:!0}),be=H(ae);return pe.decode(be)}catch(pe){G(`stringToPDFString: "${pe}".`)}}const z=[];for(let J=0,pe=ae.length;J<pe;J++){const be=me[ae.charCodeAt(J)];z.push(be?String.fromCharCode(be):ae.charAt(J))}return z.join("")},v.stringToUTF16BEString=function(ae){const z=["\xfe\xff"];for(let J=0,pe=ae.length;J<pe;J++){const be=ae.charCodeAt(J);z.push(String.fromCharCode(be>>8&255),String.fromCharCode(255&be))}return z.join("")},v.stringToUTF8String=Te,v.unreachable=U,v.utf8StringToString=function(ae){return unescape(encodeURIComponent(ae))},v.warn=G,Z(2),v.IDENTITY_MATRIX=[1,0,0,1,0,0],v.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],v.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},v.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},v.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},v.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},v.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},v.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},v.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},v.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},v.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},v.AnnotationReplyType={GROUP:"Group",REPLY:"R"},v.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},v.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},v.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},v.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},v.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},v.PageActionEventType={O:"PageOpen",C:"PageClose"},v.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},v.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const S={ERRORS:0,WARNINGS:1,INFOS:5};v.VerbosityLevel=S,v.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},v.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},v.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},v.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let V=S.WARNINGS;function G(ae){V>=S.WARNINGS&&console.log(`Warning: ${ae}`)}function U(ae){throw new Error(ae)}function p(ae,z,J){return Object.defineProperty(ae,z,{value:J,enumerable:!0,configurable:!0,writable:!1}),J}const b=function(){function z(J,pe){this.constructor===z&&U("Cannot initialize BaseException."),this.message=J,this.name=pe}return z.prototype=new Error,z.constructor=z,z}();function H(ae){"string"!=typeof ae&&U("Invalid argument for stringToBytes");const z=ae.length,J=new Uint8Array(z);for(let pe=0;pe<z;++pe)J[pe]=255&ae.charCodeAt(pe);return J}function W(ae){return void 0!==ae.length?ae.length:void 0!==ae.byteLength?ae.byteLength:void U("Invalid argument for arrayByteLength")}v.BaseException=b,v.PasswordException=class extends b{constructor(z,J){super(z,"PasswordException"),this.code=J}},v.UnknownErrorException=class extends b{constructor(z,J){super(z,"UnknownErrorException"),this.details=J}},v.InvalidPDFException=class extends b{constructor(z){super(z,"InvalidPDFException")}},v.MissingPDFException=class extends b{constructor(z){super(z,"MissingPDFException")}},v.UnexpectedResponseException=class extends b{constructor(z,J){super(z,"UnexpectedResponseException"),this.status=J}},v.FormatError=class extends b{constructor(z){super(z,"FormatError")}},v.AbortException=class extends b{constructor(z){super(z,"AbortException")}},v.IsLittleEndianCached={get value(){return p(this,"value",function(){const ae=new Uint8Array(4);return ae[0]=1,1===new Uint32Array(ae.buffer,0,1)[0]}())}},v.IsEvalSupportedCached={get value(){return p(this,"value",function(){try{return new Function(""),!0}catch(ae){return!1}}())}};const re=[...Array(256).keys()].map(ae=>ae.toString(16).padStart(2,"0"));class de{static makeHexColor(z,J,pe){return`#${re[z]}${re[J]}${re[pe]}`}static transform(z,J){return[z[0]*J[0]+z[2]*J[1],z[1]*J[0]+z[3]*J[1],z[0]*J[2]+z[2]*J[3],z[1]*J[2]+z[3]*J[3],z[0]*J[4]+z[2]*J[5]+z[4],z[1]*J[4]+z[3]*J[5]+z[5]]}static applyTransform(z,J){return[z[0]*J[0]+z[1]*J[2]+J[4],z[0]*J[1]+z[1]*J[3]+J[5]]}static applyInverseTransform(z,J){const pe=J[0]*J[3]-J[1]*J[2];return[(z[0]*J[3]-z[1]*J[2]+J[2]*J[5]-J[4]*J[3])/pe,(-z[0]*J[1]+z[1]*J[0]+J[4]*J[1]-J[5]*J[0])/pe]}static getAxialAlignedBoundingBox(z,J){const pe=de.applyTransform(z,J),be=de.applyTransform(z.slice(2,4),J),ve=de.applyTransform([z[0],z[3]],J),Ce=de.applyTransform([z[2],z[1]],J);return[Math.min(pe[0],be[0],ve[0],Ce[0]),Math.min(pe[1],be[1],ve[1],Ce[1]),Math.max(pe[0],be[0],ve[0],Ce[0]),Math.max(pe[1],be[1],ve[1],Ce[1])]}static inverseTransform(z){const J=z[0]*z[3]-z[1]*z[2];return[z[3]/J,-z[1]/J,-z[2]/J,z[0]/J,(z[2]*z[5]-z[4]*z[3])/J,(z[4]*z[1]-z[5]*z[0])/J]}static apply3dTransform(z,J){return[z[0]*J[0]+z[1]*J[1]+z[2]*J[2],z[3]*J[0]+z[4]*J[1]+z[5]*J[2],z[6]*J[0]+z[7]*J[1]+z[8]*J[2]]}static singularValueDecompose2dScale(z){const J=[z[0],z[2],z[1],z[3]],pe=z[0]*J[0]+z[1]*J[2],Ce=z[2]*J[1]+z[3]*J[3],Ue=(pe+Ce)/2,Ve=Math.sqrt((pe+Ce)**2-4*(pe*Ce-(z[2]*J[0]+z[3]*J[2])*(z[0]*J[1]+z[1]*J[3])))/2,Ie=Ue-Ve||1;return[Math.sqrt(Ue+Ve||1),Math.sqrt(Ie)]}static normalizeRect(z){const J=z.slice(0);return z[0]>z[2]&&(J[0]=z[2],J[2]=z[0]),z[1]>z[3]&&(J[1]=z[3],J[3]=z[1]),J}static intersect(z,J){function pe(Ue,Ve){return Ue-Ve}const be=[z[0],z[2],J[0],J[2]].sort(pe),ve=[z[1],z[3],J[1],J[3]].sort(pe),Ce=[];return z=de.normalizeRect(z),J=de.normalizeRect(J),be[0]===z[0]&&be[1]===J[0]||be[0]===J[0]&&be[1]===z[0]?(Ce[0]=be[1],Ce[2]=be[2],ve[0]===z[1]&&ve[1]===J[1]||ve[0]===J[1]&&ve[1]===z[1]?(Ce[1]=ve[1],Ce[3]=ve[2],Ce):null):null}static bezierBoundingBox(z,J,pe,be,ve,Ce,Ue,Ve){const He=[],Ie=[[],[]];let $e,Ge,Ke,Fe,et,ze,Ye,tt;for(let nt=0;nt<2;++nt)if(0===nt?(Ge=6*z-12*pe+6*ve,$e=-3*z+9*pe-9*ve+3*Ue,Ke=3*pe-3*z):(Ge=6*J-12*be+6*Ce,$e=-3*J+9*be-9*Ce+3*Ve,Ke=3*be-3*J),Math.abs($e)<1e-12){if(Math.abs(Ge)<1e-12)continue;Fe=-Ke/Ge,0<Fe&&Fe<1&&He.push(Fe)}else Ye=Ge*Ge-4*Ke*$e,tt=Math.sqrt(Ye),!(Ye<0)&&(et=(-Ge+tt)/(2*$e),0<et&&et<1&&He.push(et),ze=(-Ge-tt)/(2*$e),0<ze&&ze<1&&He.push(ze));let Oe,Je=He.length;const Qe=Je;for(;Je--;)Fe=He[Je],Oe=1-Fe,Ie[0][Je]=Oe*Oe*Oe*z+3*Oe*Oe*Fe*pe+3*Oe*Fe*Fe*ve+Fe*Fe*Fe*Ue,Ie[1][Je]=Oe*Oe*Oe*J+3*Oe*Oe*Fe*be+3*Oe*Fe*Fe*Ce+Fe*Fe*Fe*Ve;return Ie[0][Qe]=z,Ie[1][Qe]=J,Ie[0][Qe+1]=Ue,Ie[1][Qe+1]=Ve,Ie[0].length=Ie[1].length=Qe+2,[Math.min(...Ie[0]),Math.min(...Ie[1]),Math.max(...Ie[0]),Math.max(...Ie[1])]}}v.Util=de;const me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Te(ae){return decodeURIComponent(escape(ae))}},(fe,v,Z)=>{Z(3)},(fe,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.isNodeJS=void 0;const Z=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);v.isNodeJS=Z},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var fe,v,Z,d,te,D,se,gt;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_node_utils=__w_pdfjs_require__(8),_annotation_storage=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),_xfa_text=__w_pdfjs_require__(17);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory(L){createPDFNetworkStream=L}function getDocument(L){const n=new PDFDocumentLoadingTask;let o;if("string"==typeof L||L instanceof URL)o={url:L};else if((0,_util.isArrayBuffer)(L))o={data:L};else if(L instanceof PDFDataRangeTransport)o={range:L};else{if("object"!=typeof L)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!L.url&&!L.data&&!L.range)throw new Error("Invalid parameter object: need either .data, .range or .url");o=L}const i=Object.create(null);let c=null,g=null;for(const u in o){const r=o[u];switch(u){case"url":if("undefined"!=typeof window)try{i[u]=new URL(r,window.location).href;continue}catch(T){(0,_util.warn)(`Cannot create valid URL: "${T}".`)}else if("string"==typeof r||r instanceof URL){i[u]=r.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":c=r;continue;case"worker":g=r;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&r instanceof Buffer)i[u]=new Uint8Array(r);else{if(r instanceof Uint8Array)break;if("string"==typeof r)i[u]=(0,_util.stringToBytes)(r);else if("object"!=typeof r||null===r||isNaN(r.length)){if(!(0,_util.isArrayBuffer)(r))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");i[u]=new Uint8Array(r)}else i[u]=new Uint8Array(r)}continue}i[u]=r}if(i.rangeChunkSize=i.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,i.CMapReaderFactory=i.CMapReaderFactory||DefaultCMapReaderFactory,i.StandardFontDataFactory=i.StandardFontDataFactory||DefaultStandardFontDataFactory,i.ignoreErrors=!0!==i.stopAtErrors,i.fontExtraProperties=!0===i.fontExtraProperties,i.pdfBug=!0===i.pdfBug,i.enableXfa=!0===i.enableXfa,("string"!=typeof i.docBaseUrl||(0,_display_utils.isDataScheme)(i.docBaseUrl))&&(i.docBaseUrl=null),Number.isInteger(i.maxImageSize)||(i.maxImageSize=-1),"boolean"!=typeof i.useWorkerFetch&&(i.useWorkerFetch=i.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&i.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof i.isEvalSupported&&(i.isEvalSupported=!0),"boolean"!=typeof i.disableFontFace&&(i.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof i.useSystemFonts&&(i.useSystemFonts=!_is_node.isNodeJS&&!i.disableFontFace),void 0===i.ownerDocument&&(i.ownerDocument=globalThis.document),"boolean"!=typeof i.disableRange&&(i.disableRange=!1),"boolean"!=typeof i.disableStream&&(i.disableStream=!1),"boolean"!=typeof i.disableAutoFetch&&(i.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(i.verbosity),!g){const u={verbosity:i.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};g=u.port?PDFWorker.fromPort(u):new PDFWorker(u),n._worker=g}const y=n.docId;return g.promise.then(function(){if(n.destroyed)throw new Error("Loading aborted");const u=_fetchDocument(g,i,c,y),r=new Promise(function(T){let R;c?R=new _transport_stream.PDFDataTransportStream({length:i.length,initialData:i.initialData,progressiveDone:i.progressiveDone,contentDispositionFilename:i.contentDispositionFilename,disableRange:i.disableRange,disableStream:i.disableStream},c):i.data||(R=createPDFNetworkStream({url:i.url,length:i.length,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials,rangeChunkSize:i.rangeChunkSize,disableRange:i.disableRange,disableStream:i.disableStream})),T(R)});return Promise.all([u,r]).then(function([T,R]){if(n.destroyed)throw new Error("Loading aborted");const E=new _message_handler.MessageHandler(y,T,g.port),P=new WorkerTransport(E,n,R,i);n._transport=P,E.send("Ready",null)})}).catch(n._capability.reject),n}function _fetchDocument(L,n,o,i){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(L,n,o,i){if(L.destroyed)throw new Error("Worker was destroyed");o&&(n.length=o.length,n.initialData=o.initialData,n.progressiveDone=o.progressiveDone,n.contentDispositionFilename=o.contentDispositionFilename);const c=yield L.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.13.216",source:{data:n.data,url:n.url,password:n.password,disableAutoFetch:n.disableAutoFetch,rangeChunkSize:n.rangeChunkSize,length:n.length},maxImageSize:n.maxImageSize,disableFontFace:n.disableFontFace,docBaseUrl:n.docBaseUrl,ignoreErrors:n.ignoreErrors,isEvalSupported:n.isEvalSupported,fontExtraProperties:n.fontExtraProperties,enableXfa:n.enableXfa,useSystemFonts:n.useSystemFonts,cMapUrl:n.useWorkerFetch?n.cMapUrl:null,standardFontDataUrl:n.useWorkerFetch?n.standardFontDataUrl:null});if(L.destroyed)throw new Error("Worker was destroyed");return c})).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{static get idCounters(){return(0,_util.shadow)(this,"idCounters",{doc:0})}constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.idCounters.doc++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var n=this;return _asyncToGenerator(function*(){var o;n.destroyed=!0,yield null==(o=n._transport)?void 0:o.destroy(),n._transport=null,n._worker&&(n._worker.destroy(),n._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(n,o,i=!1,c=null){this.length=n,this.initialData=o,this.progressiveDone=i,this.contentDispositionFilename=c,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(n){this._rangeListeners.push(n)}addProgressListener(n){this._progressListeners.push(n)}addProgressiveReadListener(n){this._progressiveReadListeners.push(n)}addProgressiveDoneListener(n){this._progressiveDoneListeners.push(n)}onDataRange(n,o){for(const i of this._rangeListeners)i(n,o)}onDataProgress(n,o){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(n,o)})}onDataProgressiveRead(n){this._readyCapability.promise.then(()=>{for(const o of this._progressiveReadListeners)o(n)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const n of this._progressiveDoneListeners)n()})}transportReady(){this._readyCapability.resolve()}requestDataRange(n,o){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(n,o){var c,i=this;this._pdfInfo=n,this._transport=o,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(c=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),i.stats||{streamTypes:{},fontTypes:{}}}),function(){return c.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(n){return this._transport.getPage(n)}getPageIndex(n){return this._transport.getPageIndex(n)}getDestinations(){return this._transport.getDestinations()}getDestination(n){return this._transport.getDestination(n)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(n=!1){return this._transport.startCleanup(n||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(n,o,i,c,g=!1){this._pageIndex=n,this._pageInfo=o,this._ownerDocument=c,this._transport=i,this._stats=g?new _display_utils.StatTimer:null,this._pdfBug=g,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:n,rotation:o=this.rotate,offsetX:i=0,offsetY:c=0,dontFlip:g=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:n,rotation:o,offsetX:i,offsetY:c,dontFlip:g})}getAnnotations({intent:n="display"}={}){const o=this._transport.getRenderingIntent(n);let i=this._annotationPromises.get(o.cacheKey);return i||(i=this._transport.getAnnotations(this._pageIndex,o.renderingIntent),this._annotationPromises.set(o.cacheKey,i),i=i.then(c=>{for(const g of c)void 0!==g.titleObj&&Object.defineProperty(g,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),g.titleObj.str)}),void 0!==g.contentsObj&&Object.defineProperty(g,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),g.contentsObj.str)});return c})),i}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var n=this;return _asyncToGenerator(function*(){var o;return(null==(o=n._transport._htmlForXfa)?void 0:o.children[n._pageIndex])||null})()}render({canvasContext:n,viewport:o,intent:i="display",annotationMode:c=_util.AnnotationMode.ENABLE,transform:g=null,imageLayer:y=null,canvasFactory:u=null,background:r=null,optionalContentConfigPromise:T=null,annotationCanvasMap:R=null}){var N,F;void 0!==(null==(N=arguments[0])?void 0:N.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&c===_util.AnnotationMode.ENABLE&&(c=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null==(F=arguments[0])?void 0:F.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&c===_util.AnnotationMode.ENABLE&&(c=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const E=this._transport.getRenderingIntent(i,c);this.pendingCleanup=!1,T||(T=this._transport.getOptionalContentConfig());let P=this._intentStates.get(E.cacheKey);P||(P=Object.create(null),this._intentStates.set(E.cacheKey,P)),P.streamReaderCancelTimeout&&(clearTimeout(P.streamReaderCancelTimeout),P.streamReaderCancelTimeout=null);const t=u||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),s=!!(E.renderingIntent&_util.RenderingIntentFlag.PRINT);P.displayReadyCapability||(P.displayReadyCapability=(0,_util.createPromiseCapability)(),P.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(E));const S=V=>{P.renderTasks.delete(C),(this.cleanupAfterRender||s)&&(this.pendingCleanup=!0),this._tryCleanup(),V?(C.capability.reject(V),this._abortOperatorList({intentState:P,reason:V instanceof Error?V:new Error(V)})):C.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},C=new InternalRenderTask({callback:S,params:{canvasContext:n,viewport:o,transform:g,imageLayer:y,background:r},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:R,operatorList:P.operatorList,pageIndex:this._pageIndex,canvasFactory:t,useRequestAnimationFrame:!s,pdfBug:this._pdfBug});(P.renderTasks||(P.renderTasks=new Set)).add(C);const _=C.task;return Promise.all([P.displayReadyCapability.promise,T]).then(([V,j])=>{this.pendingCleanup?S():(this._stats&&this._stats.time("Rendering"),C.initializeGraphics({transparency:V,optionalContentConfig:j}),C.operatorListChanged())}).catch(S),_}getOperatorList({intent:n="display",annotationMode:o=_util.AnnotationMode.ENABLE}={}){const c=this._transport.getRenderingIntent(n,o,!0);let y,g=this._intentStates.get(c.cacheKey);return g||(g=Object.create(null),this._intentStates.set(c.cacheKey,g)),g.opListReadCapability||(y=Object.create(null),y.operatorListChanged=function(){g.operatorList.lastChunk&&(g.opListReadCapability.resolve(g.operatorList),g.renderTasks.delete(y))},g.opListReadCapability=(0,_util.createPromiseCapability)(),(g.renderTasks||(g.renderTasks=new Set)).add(y),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(c)),g.opListReadCapability.promise}streamTextContent({disableCombineTextItems:n=!1,includeMarkedContent:o=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==n,includeMarkedContent:!0===o},{highWaterMark:100,size:c=>c.items.length})}getTextContent(n={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_xfa_text.XfaText.textContent(i));const o=this.streamTextContent(n);return new Promise(function(i,c){const y=o.getReader(),u={items:[],styles:Object.create(null)};!function g(){y.read().then(function({value:r,done:T}){T?i(u):(Object.assign(u.styles,r.styles),u.items.push(...r.items),g())},c)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const n=[];for(const o of this._intentStates.values())if(this._abortOperatorList({intentState:o,reason:new Error("Page was destroyed."),force:!0}),!o.opListReadCapability)for(const i of o.renderTasks)n.push(i.completed),i.cancel();return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(n)}cleanup(n=!1){return this.pendingCleanup=!0,this._tryCleanup(n)}_tryCleanup(n=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:o,operatorList:i}of this._intentStates.values())if(o.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,n&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(n,o){const i=this._intentStates.get(o);!i||(this._stats&&this._stats.timeEnd("Page Request"),i.displayReadyCapability&&i.displayReadyCapability.resolve(n))}_renderPageChunk(n,o){for(let i=0,c=n.length;i<c;i++)o.operatorList.fnArray.push(n.fnArray[i]),o.operatorList.argsArray.push(n.argsArray[i]);o.operatorList.lastChunk=n.lastChunk;for(const i of o.renderTasks)i.operatorListChanged();n.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:n,cacheKey:o}){const c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:n,cacheKey:o,annotationStorage:n&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),g=this._intentStates.get(o);g.streamReader=c;const y=()=>{c.read().then(({value:u,done:r})=>{r?g.streamReader=null:this._transport.destroyed||(this._renderPageChunk(u,g),y())},u=>{if(g.streamReader=null,!this._transport.destroyed){if(g.operatorList){g.operatorList.lastChunk=!0;for(const r of g.renderTasks)r.operatorListChanged();this._tryCleanup()}if(g.displayReadyCapability)g.displayReadyCapability.reject(u);else{if(!g.opListReadCapability)throw u;g.opListReadCapability.reject(u)}}})};y()}_abortOperatorList({intentState:n,reason:o,force:i=!1}){if(n.streamReader){if(!i){if(n.renderTasks.size>0)return;if(o instanceof _display_utils.RenderingCancelledException)return void(n.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:n,reason:o,force:!0}),n.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(n.streamReader.cancel(new _util.AbortException(o.message)).catch(()=>{}),n.streamReader=null,!this._transport.destroyed){for(const[c,g]of this._intentStates)if(g===n){this._intentStates.delete(c);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(n,o){const i={data:structuredClone(n,o)};this._deferred.then(()=>{for(const c of this._listeners)c.call(this,i)})}addEventListener(n,o){this._listeners.push(o)}removeEventListener(n,o){const i=this._listeners.indexOf(o);this._listeners.splice(i,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const L=null==(fe=null==document?void 0:document.currentScript)?void 0:fe.src;L&&(PDFWorkerUtil.fallbackWorkerSrc=L.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(L){return URL.createObjectURL(new Blob([`importScripts("${L}");`]))};class PDFWorker{static get _workerPorts(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}constructor({name:L=null,port:n=null,verbosity:o=(0,_util.getVerbosityLevel)()}={}){if(n&&PDFWorker._workerPorts.has(n))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=L,this.destroyed=!1,this.verbosity=o,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,n)return PDFWorker._workerPorts.set(n,this),void this._initializeFromPort(n);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(L){this._port=L,this._messageHandler=new _message_handler.MessageHandler("main","worker",L),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let L=PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,L)||(L=PDFWorkerUtil.createCDNWrapper(new URL(L,window.location).href));const n=new Worker(L),o=new _message_handler.MessageHandler("main","worker",n),i=()=>{n.removeEventListener("error",c),o.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},c=()=>{this._webWorker||i()};n.addEventListener("error",c),o.on("test",y=>{n.removeEventListener("error",c),this.destroyed?i():y?(this._messageHandler=o,this._port=n,this._webWorker=n,this._readyCapability.resolve(),o.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),o.destroy(),n.terminate())}),o.on("ready",y=>{if(n.removeEventListener("error",c),this.destroyed)i();else try{g()}catch(u){this._setupFakeWorker()}});const g=()=>{const y=new Uint8Array([255]);try{o.send("test",y,[y.buffer])}catch(u){(0,_util.warn)("Cannot use postMessage transfers."),y[0]=0,o.send("test",y)}};return void g()}catch(n){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(L=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const n=new LoopbackPort;this._port=n;const o="fake"+PDFWorkerUtil.fakeWorkerId++,i=new _message_handler.MessageHandler(o+"_worker",o,n);L.setup(i,n);const c=new _message_handler.MessageHandler(o,o+"_worker",n);this._messageHandler=c,this._readyCapability.resolve(),c.send("configure",{verbosity:this.verbosity})}).catch(L=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${L.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(L){if(!(null==L?void 0:L.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(L.port)?this._workerPorts.get(L.port):new PDFWorker(L)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var L;try{return(null==(L=globalThis.pdfjsWorker)?void 0:L.WorkerMessageHandler)||null}catch(n){return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(n,o,i,c){Me(this,v,null),Me(this,Z,new Map),Me(this,d,new Map),Me(this,te,null),this.messageHandler=n,this.loadingTask=o,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:o.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:c.ownerDocument,styleElement:c.styleElement}),this._params=c,c.useWorkerFetch||(this.CMapReaderFactory=new c.CMapReaderFactory({baseUrl:c.cMapUrl,isCompressed:c.cMapPacked}),this.StandardFontDataFactory=new c.StandardFontDataFactory({baseUrl:c.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return ye(this,v)}getRenderingIntent(n,o=_util.AnnotationMode.ENABLE,i=!1){let c=_util.RenderingIntentFlag.DISPLAY,g="";switch(n){case"any":c=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":c=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${n}`)}switch(o){case _util.AnnotationMode.DISABLE:c+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:c+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:c+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,g=this.annotationStorage.lastModified;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${o}`)}return i&&(c+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:c,cacheKey:`${c}_${g}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const n=[];for(const i of ye(this,Z).values())n.push(i._destroy());ye(this,Z).clear(),ye(this,d).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const o=this.messageHandler.sendWithPromise("Terminate",null);return n.push(o),Promise.all(n).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),De(this,te,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:n,loadingTask:o}=this;n.on("GetReader",(i,c)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=g=>{this._lastProgress={loaded:g.loaded,total:g.total}},c.onPull=()=>{this._fullReader.read().then(function({value:g,done:y}){y?c.close():((0,_util.assert)((0,_util.isArrayBuffer)(g),"GetReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(g),1,[g]))}).catch(g=>{c.error(g)})},c.onCancel=g=>{this._fullReader.cancel(g),c.ready.catch(y=>{if(!this.destroyed)throw y})}}),n.on("ReaderHeadersReady",i=>{const c=(0,_util.createPromiseCapability)(),g=this._fullReader;return g.headersReady.then(()=>{var y;(!g.isStreamingSupported||!g.isRangeSupported)&&(this._lastProgress&&(null==(y=o.onProgress)||y.call(o,this._lastProgress)),g.onProgress=u=>{var r;null==(r=o.onProgress)||r.call(o,{loaded:u.loaded,total:u.total})}),c.resolve({isStreamingSupported:g.isStreamingSupported,isRangeSupported:g.isRangeSupported,contentLength:g.contentLength})},c.reject),c.promise}),n.on("GetRangeReader",(i,c)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const g=this._networkStream.getRangeReader(i.begin,i.end);g?(c.onPull=()=>{g.read().then(function({value:y,done:u}){u?c.close():((0,_util.assert)((0,_util.isArrayBuffer)(y),"GetRangeReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(y),1,[y]))}).catch(y=>{c.error(y)})},c.onCancel=y=>{g.cancel(y),c.ready.catch(u=>{if(!this.destroyed)throw u})}):c.close()}),n.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,o._capability.resolve(new PDFDocumentProxy(i,this))}),n.on("DocException",function(i){let c;switch(i.name){case"PasswordException":c=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":c=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":c=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":c=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":c=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}o._capability.reject(c)}),n.on("PasswordRequest",i=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),o.onPassword){const c=g=>{g instanceof Error?this._passwordCapability.reject(g):this._passwordCapability.resolve({password:g})};try{o.onPassword(c,i.code)}catch(g){this._passwordCapability.reject(g)}}else this._passwordCapability.reject(new _util.PasswordException(i.message,i.code));return this._passwordCapability.promise}),n.on("DataLoaded",i=>{var c;null==(c=o.onProgress)||c.call(o,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),n.on("StartRenderPage",i=>{this.destroyed||ye(this,Z).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),n.on("commonobj",([i,c,g])=>{var y;if(!this.destroyed&&!this.commonObjs.has(i))switch(c){case"Font":const u=this._params;if("error"in g){const R=g.error;(0,_util.warn)(`Error during font loading: ${R}`),this.commonObjs.resolve(i,R);break}let r=null;u.pdfBug&&(null==(y=globalThis.FontInspector)?void 0:y.enabled)&&(r={registerFont(R,E){globalThis.FontInspector.fontAdded(R,E)}});const T=new _font_loader.FontFaceObject(g,{isEvalSupported:u.isEvalSupported,disableFontFace:u.disableFontFace,ignoreErrors:u.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:r});this.fontLoader.bind(T).catch(R=>n.sendWithPromise("FontFallback",{id:i})).finally(()=>{!u.fontExtraProperties&&T.data&&(T.data=null),this.commonObjs.resolve(i,T)});break;case"FontPath":case"Image":this.commonObjs.resolve(i,g);break;default:throw new Error(`Got unknown common object type ${c}`)}}),n.on("obj",([i,c,g,y])=>{var r;if(this.destroyed)return;const u=ye(this,Z).get(c);if(!u.objs.has(i))switch(g){case"Image":u.objs.resolve(i,y),(null==(r=null==y?void 0:y.data)?void 0:r.length)>8e6&&(u.cleanupAfterRender=!0);break;case"Pattern":u.objs.resolve(i,y);break;default:throw new Error(`Got unknown object type ${g}`)}}),n.on("DocProgress",i=>{var c;this.destroyed||null==(c=o.onProgress)||c.call(o,{loaded:i.loaded,total:i.total})}),n.on("DocStats",i=>{this.destroyed||De(this,v,Object.freeze({streamTypes:Object.freeze(i.streamTypes),fontTypes:Object.freeze(i.fontTypes)}))}),n.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),n.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),n.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:n}){var o,i;this.destroyed||null==(i=(o=this.loadingTask).onUnsupportedFeature)||i.call(o,n)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(n){if(!Number.isInteger(n)||n<=0||n>this._numPages)return Promise.reject(new Error("Invalid page request."));const o=n-1,i=ye(this,d).get(o);if(i)return i;const c=this.messageHandler.sendWithPromise("GetPage",{pageIndex:o}).then(g=>{if(this.destroyed)throw new Error("Transport destroyed");const y=new PDFPageProxy(o,g,this,this._params.ownerDocument,this._params.pdfBug);return ye(this,Z).set(o,y),y});return ye(this,d).set(o,c),c}getPageIndex(n){return"object"!=typeof n||null===n||!Number.isInteger(n.num)||n.num<0||!Number.isInteger(n.gen)||n.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:n.num,gen:n.gen})}getAnnotations(n,o){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:n,intent:o})}saveDocument(){var n,o;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!=(o=null==(n=this._fullReader)?void 0:n.filename)?o:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(n){return"string"!=typeof n?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:n})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(n){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:n})}getStructTree(n){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:n})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(n=>new _optional_content_config.OptionalContentConfig(n))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return ye(this,te)||De(this,te,this.messageHandler.sendWithPromise("GetMetadata",null).then(n=>{var o,i,c,g;return{info:n[0],metadata:n[1]?new _metadata.Metadata(n[1]):null,contentDispositionFilename:null!=(i=null==(o=this._fullReader)?void 0:o.filename)?i:null,contentLength:null!=(g=null==(c=this._fullReader)?void 0:c.contentLength)?g:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(n=!1){var o=this;return _asyncToGenerator(function*(){if(yield o.messageHandler.sendWithPromise("Cleanup",null),!o.destroyed){for(const i of ye(o,Z).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);o.commonObjs.clear(),n||o.fontLoader.clear(),De(o,te,null),o._getFieldObjectsPromise=null,o._hasJSActionsPromise=null}})()}get loadingParams(){const n=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:n.disableAutoFetch,enableXfa:n.enableXfa})}}v=new WeakMap,Z=new WeakMap,d=new WeakMap,te=new WeakMap;class PDFObjects{constructor(){Me(this,se),Me(this,D,Object.create(null))}get(n,o=null){if(o){const c=Be(this,se,gt).call(this,n);return c.capability.promise.then(()=>o(c.data)),null}const i=ye(this,D)[n];if(!(null==i?void 0:i.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${n}.`);return i.data}has(n){const o=ye(this,D)[n];return(null==o?void 0:o.capability.settled)||!1}resolve(n,o=null){const i=Be(this,se,gt).call(this,n);i.data=o,i.capability.resolve()}clear(){De(this,D,Object.create(null))}}D=new WeakMap,se=new WeakSet,gt=function(n){return ye(this,D)[n]||(ye(this,D)[n]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(n){this._internalRenderTask=n,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static get canvasInUse(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}constructor({callback:n,params:o,objs:i,commonObjs:c,annotationCanvasMap:g,operatorList:y,pageIndex:u,canvasFactory:r,useRequestAnimationFrame:T=!1,pdfBug:R=!1}){this.callback=n,this.params=o,this.objs=i,this.commonObjs=c,this.annotationCanvasMap=g,this.operatorListIdx=null,this.operatorList=y,this._pageIndex=u,this.canvasFactory=r,this._pdfBug=R,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===T&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=o.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:n=!1,optionalContentConfig:o}){var r;if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.canvasInUse.add(this._canvas)}this._pdfBug&&(null==(r=globalThis.StepperManager)?void 0:r.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:c,transform:g,imageLayer:y,background:u}=this.params;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,y,o,this.annotationCanvasMap),this.gfx.beginDrawing({transform:g,viewport:c,transparency:n,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(n=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback(n||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var n=this;return _asyncToGenerator(function*(){n.cancelled||(n.operatorListIdx=n.gfx.executeOperatorList(n.operatorList,n.operatorListIdx,n._continueBound,n.stepper),n.operatorListIdx===n.operatorList.argsArray.length&&(n.running=!1,n.operatorList.lastChunk&&(n.gfx.endDrawing(),n._canvas&&InternalRenderTask.canvasInUse.delete(n._canvas),n.callback())))})()}}const version="2.13.216";exports.version=version;const build="399a0ec60";exports.build=build},(fe,v,Z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.StatTimer=v.RenderingCancelledException=v.PixelsPerInch=v.PageViewport=v.PDFDateString=v.DOMStandardFontDataFactory=v.DOMSVGFactory=v.DOMCanvasFactory=v.DOMCMapReaderFactory=void 0,v.deprecated=function(F){console.log("Deprecated API usage: "+F)},v.getFilenameFromUrl=function(F){const V=F.indexOf("#"),j=F.indexOf("?"),O=Math.min(V>0?V:F.length,j>0?j:F.length);return F.substring(F.lastIndexOf("/",O)+1,O)},v.getPdfFilenameFromUrl=function(F,V="document.pdf"){if("string"!=typeof F)return V;if(u(F))return(0,te.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),V;const O=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,B=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(F);let G=O.exec(B[1])||O.exec(B[2])||O.exec(B[3]);if(G&&(G=G[0],G.includes("%")))try{G=O.exec(decodeURIComponent(G))[0]}catch(U){}return G||V},v.getXfaPageViewport=function(F,{scale:V=1,rotation:j=0}){const{width:O,height:B}=F.attributes.style,G=[0,0,parseInt(O),parseInt(B)];return new g({viewBox:G,scale:V,rotation:j})},v.isDataScheme=u,v.isPdfFile=function(F){return"string"==typeof F&&/\.pdf$/i.test(F)},v.isValidFetchUrl=P,v.loadScript=function(F,V=!1){return new Promise((j,O)=>{const B=document.createElement("script");B.src=F,B.onload=function(G){V&&B.remove(),j(G)},B.onerror=function(){O(new Error(`Cannot load script at: ${B.src}`))},(document.head||document.documentElement).appendChild(B)})};var d=Z(6),te=Z(1);const N=class{};let S,se=N;function L(F){return n.apply(this,arguments)}function n(){return(n=_asyncToGenerator(function*(F,V=!1){if(P(F,document.baseURI)){const j=yield fetch(F);if(!j.ok)throw new Error(j.statusText);return V?new Uint8Array(yield j.arrayBuffer()):(0,te.stringToBytes)(yield j.text())}return new Promise((j,O)=>{const B=new XMLHttpRequest;B.open("GET",F,!0),V&&(B.responseType="arraybuffer"),B.onreadystatechange=()=>{if(B.readyState===XMLHttpRequest.DONE){if(200===B.status||0===B.status){let G;if(V&&B.response?G=new Uint8Array(B.response):!V&&B.responseText&&(G=(0,te.stringToBytes)(B.responseText)),G)return void j(G)}O(new Error(B.statusText))}},B.send(null)})})).apply(this,arguments)}at(se,"CSS",96),at(se,"PDF",72),at(se,"PDF_TO_CSS_UNITS",N.CSS/N.PDF),v.PixelsPerInch=se,v.DOMCanvasFactory=class extends d.BaseCanvasFactory{constructor({ownerDocument:V=globalThis.document}={}){super(),this._document=V}_createCanvas(V,j){const O=this._document.createElement("canvas");return O.width=V,O.height=j,O}},v.DOMCMapReaderFactory=class extends d.BaseCMapReaderFactory{_fetchData(V,j){return L(V,this.isCompressed).then(O=>({cMapData:O,compressionType:j}))}},v.DOMStandardFontDataFactory=class extends d.BaseStandardFontDataFactory{_fetchData(V){return L(V,!0)}},v.DOMSVGFactory=class extends d.BaseSVGFactory{_createSVG(V){return document.createElementNS("http://www.w3.org/2000/svg",V)}};class g{constructor({viewBox:V,scale:j,rotation:O,offsetX:B=0,offsetY:G=0,dontFlip:U=!1}){this.viewBox=V,this.scale=j,this.rotation=O,this.offsetX=B,this.offsetY=G;const $=(V[2]+V[0])/2,m=(V[3]+V[1])/2;let l,a,p,b,w,e,f,A;switch((O%=360)<0&&(O+=360),O){case 180:l=-1,a=0,p=0,b=1;break;case 90:l=0,a=1,p=1,b=0;break;case 270:l=0,a=-1,p=-1,b=0;break;case 0:l=1,a=0,p=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}U&&(p=-p,b=-b),0===l?(w=Math.abs(m-V[1])*j+B,e=Math.abs($-V[0])*j+G,f=Math.abs(V[3]-V[1])*j,A=Math.abs(V[2]-V[0])*j):(w=Math.abs($-V[0])*j+B,e=Math.abs(m-V[1])*j+G,f=Math.abs(V[2]-V[0])*j,A=Math.abs(V[3]-V[1])*j),this.transform=[l*j,a*j,p*j,b*j,w-l*j*$-p*j*m,e-a*j*$-b*j*m],this.width=f,this.height=A}clone({scale:V=this.scale,rotation:j=this.rotation,offsetX:O=this.offsetX,offsetY:B=this.offsetY,dontFlip:G=!1}={}){return new g({viewBox:this.viewBox.slice(),scale:V,rotation:j,offsetX:O,offsetY:B,dontFlip:G})}convertToViewportPoint(V,j){return te.Util.applyTransform([V,j],this.transform)}convertToViewportRectangle(V){const j=te.Util.applyTransform([V[0],V[1]],this.transform),O=te.Util.applyTransform([V[2],V[3]],this.transform);return[j[0],j[1],O[0],O[1]]}convertToPdfPoint(V,j){return te.Util.applyInverseTransform([V,j],this.transform)}}function u(F){const V=F.length;let j=0;for(;j<V&&""===F[j].trim();)j++;return"data:"===F.substring(j,j+5).toLowerCase()}function P(F,V){try{const{protocol:j}=V?new URL(F,V):new URL(F);return"http:"===j||"https:"===j}catch(j){return!1}}v.PageViewport=g,v.RenderingCancelledException=class extends te.BaseException{constructor(V,j){super(V,"RenderingCancelledException"),this.type=j}},v.StatTimer=class{constructor(){this.started=Object.create(null),this.times=[]}time(V){V in this.started&&(0,te.warn)(`Timer is already running for ${V}`),this.started[V]=Date.now()}timeEnd(V){V in this.started||(0,te.warn)(`Timer has not been started for ${V}`),this.times.push({name:V,start:this.started[V],end:Date.now()}),delete this.started[V]}toString(){const V=[];let j=0;for(const O of this.times){const B=O.name;B.length>j&&(j=B.length)}for(const O of this.times){const B=O.end-O.start;V.push(`${O.name.padEnd(j)} ${B}ms\n`)}return V.join("")}},v.PDFDateString=class{static toDateObject(V){if(!V||"string"!=typeof V)return null;S||(S=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const j=S.exec(V);if(!j)return null;const O=parseInt(j[1],10);let B=parseInt(j[2],10);B=B>=1&&B<=12?B-1:0;let G=parseInt(j[3],10);G=G>=1&&G<=31?G:1;let U=parseInt(j[4],10);U=U>=0&&U<=23?U:0;let $=parseInt(j[5],10);$=$>=0&&$<=59?$:0;let m=parseInt(j[6],10);m=m>=0&&m<=59?m:0;const l=j[7]||"Z";let a=parseInt(j[8],10);a=a>=0&&a<=23?a:0;let p=parseInt(j[9],10)||0;return p=p>=0&&p<=59?p:0,"-"===l?(U+=a,$+=p):"+"===l&&(U-=a,$-=p),new Date(Date.UTC(O,B,G,U,$,m))}}},(fe,v,Z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.BaseStandardFontDataFactory=v.BaseSVGFactory=v.BaseCanvasFactory=v.BaseCMapReaderFactory=void 0;var d=Z(1);class te{constructor(){this.constructor===te&&(0,d.unreachable)("Cannot initialize BaseCanvasFactory.")}create(n,o){if(n<=0||o<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(n,o);return{canvas:i,context:i.getContext("2d")}}reset(n,o,i){if(!n.canvas)throw new Error("Canvas is not specified");if(o<=0||i<=0)throw new Error("Invalid canvas size");n.canvas.width=o,n.canvas.height=i}destroy(n){if(!n.canvas)throw new Error("Canvas is not specified");n.canvas.width=0,n.canvas.height=0,n.canvas=null,n.context=null}_createCanvas(n,o){(0,d.unreachable)("Abstract method `_createCanvas` called.")}}v.BaseCanvasFactory=te;class D{constructor({baseUrl:n=null,isCompressed:o=!1}){this.constructor===D&&(0,d.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=n,this.isCompressed=o}fetch({name:n}){var o=this;return _asyncToGenerator(function*(){if(!o.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!n)throw new Error("CMap name must be specified.");const i=o.baseUrl+n+(o.isCompressed?".bcmap":"");return o._fetchData(i,o.isCompressed?d.CMapCompressionType.BINARY:d.CMapCompressionType.NONE).catch(g=>{throw new Error(`Unable to load ${o.isCompressed?"binary ":""}CMap at: ${i}`)})})()}_fetchData(n,o){(0,d.unreachable)("Abstract method `_fetchData` called.")}}v.BaseCMapReaderFactory=D;class se{constructor({baseUrl:n=null}){this.constructor===se&&(0,d.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=n}fetch({filename:n}){var o=this;return _asyncToGenerator(function*(){if(!o.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!n)throw new Error("Font filename must be specified.");const i=`${o.baseUrl}${n}`;return o._fetchData(i).catch(c=>{throw new Error(`Unable to load font data at: ${i}`)})})()}_fetchData(n){(0,d.unreachable)("Abstract method `_fetchData` called.")}}v.BaseStandardFontDataFactory=se;class Y{constructor(){this.constructor===Y&&(0,d.unreachable)("Cannot initialize BaseSVGFactory.")}create(n,o){if(n<=0||o<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),i.setAttribute("width",`${n}px`),i.setAttribute("height",`${o}px`),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${n} ${o}`),i}createElement(n){if("string"!=typeof n)throw new Error("Invalid SVG element type");return this._createSVG(n)}_createSVG(n){(0,d.unreachable)("Abstract method `_createSVG` called.")}}v.BaseSVGFactory=Y},(fe,v,Z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.FontLoader=v.FontFaceObject=void 0;var d=Z(1);class te{constructor({docId:L,onUnsupportedFeature:n,ownerDocument:o=globalThis.document,styleElement:i=null}){this.constructor===te&&(0,d.unreachable)("Cannot initialize BaseFontLoader."),this.docId=L,this._onUnsupportedFeature=n,this._document=o,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(L){this.nativeFontFaces.push(L),this._document.fonts.add(L)}insertRule(L){let n=this.styleElement;n||(n=this.styleElement=this._document.createElement("style"),n.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(n));const o=n.sheet;o.insertRule(L,o.cssRules.length)}clear(){for(const L of this.nativeFontFaces)this._document.fonts.delete(L);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(L){var n=this;return _asyncToGenerator(function*(){if(L.attached||L.missingFile)return;if(L.attached=!0,n.isFontLoadingAPISupported){const i=L.createNativeFontFace();if(i){n.addNativeFontFace(i);try{yield i.loaded}catch(c){throw n._onUnsupportedFeature({featureId:d.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,d.warn)(`Failed to load font '${i.family}': '${c}'.`),L.disableFontFace=!0,c}}return}const o=L.createFontFaceRule();if(o){if(n.insertRule(o),n.isSyncFontLoadingSupported)return;yield new Promise(i=>{const c=n._queueLoadingCallback(i);n._prepareFontLoadEvent([o],[L],c)})}})()}_queueLoadingCallback(L){(0,d.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var n;const L=!!(null==(n=this._document)?void 0:n.fonts);return(0,d.shadow)(this,"isFontLoadingAPISupported",L)}get isSyncFontLoadingSupported(){(0,d.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,d.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(L,n,o){(0,d.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let D;v.FontLoader=D,v.FontLoader=D=class extends te{constructor(L){super(L),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let L=!1;if("undefined"==typeof navigator)L=!0;else{const n=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==n?void 0:n[1])>=14&&(L=!0)}return(0,d.shadow)(this,"isSyncFontLoadingSupported",L)}_queueLoadingCallback(L){const o=this.loadingContext,i={id:"pdfjs-font-loading-"+o.nextRequestId++,done:!1,complete:function(){for((0,d.assert)(!i.done,"completeRequest() cannot be called twice."),i.done=!0;o.requests.length>0&&o.requests[0].done;){const c=o.requests.shift();setTimeout(c.callback,0)}},callback:L};return o.requests.push(i),i}get _loadTestFont(){return(0,d.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(L,n,o){function i(j,O){return j.charCodeAt(O)<<24|j.charCodeAt(O+1)<<16|j.charCodeAt(O+2)<<8|255&j.charCodeAt(O+3)}function c(j,O,B,G){return j.substring(0,O)+G+j.substring(O+B)}let g,y;const u=this._document.createElement("canvas");u.width=1,u.height=1;const r=u.getContext("2d");let T=0;const E=`lt${Date.now()}${this.loadTestFontId++}`;let P=this._loadTestFont;P=c(P,976,E.length,E);const S=1482184792;let C=i(P,16);for(g=0,y=E.length-3;g<y;g+=4)C=C-S+i(E,g)|0;g<E.length&&(C=C-S+i(E+"XXX",g)|0),P=c(P,16,4,(0,d.string32)(C));const _=`url(data:font/opentype;base64,${btoa(P)});`;this.insertRule(`@font-face {font-family:"${E}";src:${_}}`);const F=[];for(const j of n)F.push(j.loadedName);F.push(E);const V=this._document.createElement("div");V.style.visibility="hidden",V.style.width=V.style.height="10px",V.style.position="absolute",V.style.top=V.style.left="0px";for(const j of F){const O=this._document.createElement("span");O.textContent="Hi",O.style.fontFamily=j,V.appendChild(O)}this._document.body.appendChild(V),function R(j,O){if(T++,T>30)return(0,d.warn)("Load test font never loaded."),void O();r.font="30px "+j,r.fillText(".",0,20),r.getImageData(0,0,1,1).data[3]>0?O():setTimeout(R.bind(null,j,O))}(E,()=>{V.remove(),o.complete()})}},v.FontFaceObject=class{constructor(L,{isEvalSupported:n=!0,disableFontFace:o=!1,ignoreErrors:i=!1,onUnsupportedFeature:c,fontRegistry:g=null}){this.compiledGlyphs=Object.create(null);for(const y in L)this[y]=L[y];this.isEvalSupported=!1!==n,this.disableFontFace=!0===o,this.ignoreErrors=!0===i,this._onUnsupportedFeature=c,this.fontRegistry=g}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let L;if(this.cssFontInfo){const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),L=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}else L=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),L}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const L=(0,d.bytesToString)(this.data),n=`url(data:${this.mimetype};base64,${btoa(L)});`;let o;if(this.cssFontInfo){let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),o=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${n}}`}else o=`@font-face {font-family:"${this.loadedName}";src:${n}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,n),o}getPathGenerator(L,n){if(void 0!==this.compiledGlyphs[n])return this.compiledGlyphs[n];let o;try{o=L.get(this.loadedName+"_path_"+n)}catch(i){if(!this.ignoreErrors)throw i;return this._onUnsupportedFeature({featureId:d.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,d.warn)(`getPathGenerator - ignoring character: "${i}".`),this.compiledGlyphs[n]=function(c,g){}}if(this.isEvalSupported&&d.IsEvalSupportedCached.value){const i=[];for(const c of o){const g=void 0!==c.args?c.args.join(","):"";i.push("c.",c.cmd,"(",g,");\n")}return this.compiledGlyphs[n]=new Function("c","size",i.join(""))}return this.compiledGlyphs[n]=function(i,c){for(const g of o)"scale"===g.cmd&&(g.args=[c,-c]),i[g.cmd].apply(i,g.args)}}}},(fe,v,Z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.NodeStandardFontDataFactory=v.NodeCanvasFactory=v.NodeCMapReaderFactory=void 0;var d=Z(6),te=Z(3),D=Z(1);let se=class{constructor(){(0,D.unreachable)("Not implemented: NodeCanvasFactory")}};v.NodeCanvasFactory=se;let Y=class{constructor(){(0,D.unreachable)("Not implemented: NodeCMapReaderFactory")}};v.NodeCMapReaderFactory=Y;let L=class{constructor(){(0,D.unreachable)("Not implemented: NodeStandardFontDataFactory")}};if(v.NodeStandardFontDataFactory=L,te.isNodeJS){const n=function(o){return new Promise((i,c)=>{__webpack_require__(172).readFile(o,(y,u)=>{!y&&u?i(new Uint8Array(u)):c(new Error(y))})})};v.NodeCanvasFactory=se=class extends d.BaseCanvasFactory{_createCanvas(o,i){return __webpack_require__(3414).createCanvas(o,i)}},v.NodeCMapReaderFactory=Y=class extends d.BaseCMapReaderFactory{_fetchData(o,i){return n(o).then(c=>({cMapData:c,compressionType:i}))}},v.NodeStandardFontDataFactory=L=class extends d.BaseStandardFontDataFactory{_fetchData(o){return n(o)}}}},(fe,v,Z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.AnnotationStorage=void 0;var d=Z(1);v.AnnotationStorage=class{constructor(){this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(se,Y){const L=this._storage.get(se);return void 0===L?Y:Object.assign(Y,L)}setValue(se,Y){const L=this._storage.get(se);let n=!1;if(void 0!==L)for(const[o,i]of Object.entries(Y))L[o]!==i&&(n=!0,L[o]=i);else n=!0,this._storage.set(se,Y);n&&(this._timeStamp=Date.now(),this._setModified())}getAll(){return this._storage.size>0?(0,d.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get lastModified(){return this._timeStamp.toString()}}},(fe,v,Z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.CanvasGraphics=void 0;var d=Z(1),te=Z(11),D=Z(5);const L=4096,g=16;function r(m){if(m._transformStack&&(m._transformStack=[]),!m.mozCurrentTransform){m._originalSave=m.save,m._originalRestore=m.restore,m._originalRotate=m.rotate,m._originalScale=m.scale,m._originalTranslate=m.translate,m._originalTransform=m.transform,m._originalSetTransform=m.setTransform,m._originalResetTransform=m.resetTransform,m._transformMatrix=m._transformMatrix||[1,0,0,1,0,0],m._transformStack=[];try{const l=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(m),"lineWidth");m._setLineWidth=l.set,m._getLineWidth=l.get,Object.defineProperty(m,"lineWidth",{set:function(p){this._setLineWidth(1.000001*p)},get:function(){return this._getLineWidth()}})}catch(l){}Object.defineProperty(m,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(m,"mozCurrentTransformInverse",{get:function(){const[a,p,b,w,e,f]=this._transformMatrix,A=a*w-p*b,M=p*b-a*w;return[w/A,p/M,b/M,a/A,(w*e-b*f)/M,(p*e-a*f)/A]}}),m.save=function(){const a=this._transformMatrix;this._transformStack.push(a),this._transformMatrix=a.slice(0,6),this._originalSave()},m.restore=function(){0===this._transformStack.length&&(0,d.warn)("Tried to restore a ctx when the stack was already empty.");const a=this._transformStack.pop();a&&(this._transformMatrix=a,this._originalRestore())},m.translate=function(a,p){const b=this._transformMatrix;b[4]=b[0]*a+b[2]*p+b[4],b[5]=b[1]*a+b[3]*p+b[5],this._originalTranslate(a,p)},m.scale=function(a,p){const b=this._transformMatrix;b[0]*=a,b[1]*=a,b[2]*=p,b[3]*=p,this._originalScale(a,p)},m.transform=function(a,p,b,w,e,f){const A=this._transformMatrix;this._transformMatrix=[A[0]*a+A[2]*p,A[1]*a+A[3]*p,A[0]*b+A[2]*w,A[1]*b+A[3]*w,A[0]*e+A[2]*f+A[4],A[1]*e+A[3]*f+A[5]],m._originalTransform(a,p,b,w,e,f)},m.setTransform=function(a,p,b,w,e,f){this._transformMatrix=[a,p,b,w,e,f],m._originalSetTransform(a,p,b,w,e,f)},m.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],m._originalResetTransform()},m.rotate=function(a){const p=Math.cos(a),b=Math.sin(a),w=this._transformMatrix;this._transformMatrix=[w[0]*p+w[2]*b,w[1]*p+w[3]*b,w[0]*-b+w[2]*p,w[1]*-b+w[3]*p,w[4],w[5]],this._originalRotate(a)}}}class T{constructor(l){this.canvasFactory=l,this.cache=Object.create(null)}getCanvas(l,a,p,b){let w;return void 0!==this.cache[l]?(w=this.cache[l],this.canvasFactory.reset(w,a,p),w.context.setTransform(1,0,0,1,0,0)):(w=this.canvasFactory.create(a,p),this.cache[l]=w),b&&r(w.context),w}clear(){for(const l in this.cache)this.canvasFactory.destroy(this.cache[l]),delete this.cache[l]}}class E{constructor(l,a){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=d.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=d.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=d.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,l,a])}clone(){const l=Object.create(this);return l.clipBox=this.clipBox.slice(),l}setCurrentPoint(l,a){this.x=l,this.y=a}updatePathMinMax(l,a,p){[a,p]=d.Util.applyTransform([a,p],l),this.minX=Math.min(this.minX,a),this.minY=Math.min(this.minY,p),this.maxX=Math.max(this.maxX,a),this.maxY=Math.max(this.maxY,p)}updateCurvePathMinMax(l,a,p,b,w,e,f,A,M){const h=d.Util.bezierBoundingBox(a,p,b,w,e,f,A,M);this.updatePathMinMax(l,h[0],h[1]),this.updatePathMinMax(l,h[2],h[3])}getPathBoundingBox(l=te.PathType.FILL,a=null){const p=[this.minX,this.minY,this.maxX,this.maxY];if(l===te.PathType.STROKE){a||(0,d.unreachable)("Stroke bounding box must include transform.");const b=d.Util.singularValueDecompose2dScale(a),w=b[0]*this.lineWidth/2,e=b[1]*this.lineWidth/2;p[0]-=w,p[1]-=e,p[2]+=w,p[3]+=e}return p}updateClipFromPath(){const l=d.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(l||[0,0,0,0])}startNewPathAndClipBox(l){this.clipBox=l,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(l=te.PathType.FILL,a=null){return d.Util.intersect(this.clipBox,this.getPathBoundingBox(l,a))}}function P(m,l,a=null){if("undefined"!=typeof ImageData&&l instanceof ImageData)return void m.putImageData(l,0,0);const p=l.height,b=l.width,w=p%g,e=(p-w)/g,f=0===w?e:e+1,A=m.createImageData(b,g);let h,M=0;const k=l.data,I=A.data;let H,W,Q,oe,le,ue,x,q;if(a)switch(a.length){case 1:le=a[0],ue=a[0],x=a[0],q=a[0];break;case 4:le=a[0],ue=a[1],x=a[2],q=a[3]}if(l.kind===d.ImageKind.GRAYSCALE_1BPP){const ce=k.byteLength,ne=new Uint32Array(I.buffer,0,I.byteLength>>2),re=ne.length,de=b+7>>3;let me=4294967295,ge=d.IsLittleEndianCached.value?4278190080:255;for(q&&255===q[0]&&0===q[255]&&([me,ge]=[ge,me]),H=0;H<f;H++){for(Q=H<e?g:w,h=0,W=0;W<Q;W++){const we=ce-M;let xe=0;const Ae=we>de?b:8*we-7,Te=-8&Ae;let ke=0,Se=0;for(;xe<Te;xe+=8)Se=k[M++],ne[h++]=128&Se?me:ge,ne[h++]=64&Se?me:ge,ne[h++]=32&Se?me:ge,ne[h++]=16&Se?me:ge,ne[h++]=8&Se?me:ge,ne[h++]=4&Se?me:ge,ne[h++]=2&Se?me:ge,ne[h++]=1&Se?me:ge;for(;xe<Ae;xe++)0===ke&&(Se=k[M++],ke=128),ne[h++]=Se&ke?me:ge,ke>>=1}for(;h<re;)ne[h++]=0;m.putImageData(A,0,H*g)}}else if(l.kind===d.ImageKind.RGBA_32BPP){const ce=!!(le||ue||x);for(W=0,oe=b*g*4,H=0;H<e;H++){if(I.set(k.subarray(M,M+oe)),M+=oe,ce)for(let ne=0;ne<oe;ne+=4)le&&(I[ne+0]=le[I[ne+0]]),ue&&(I[ne+1]=ue[I[ne+1]]),x&&(I[ne+2]=x[I[ne+2]]);m.putImageData(A,0,W),W+=g}if(H<f){if(oe=b*w*4,I.set(k.subarray(M,M+oe)),ce)for(let ne=0;ne<oe;ne+=4)le&&(I[ne+0]=le[I[ne+0]]),ue&&(I[ne+1]=ue[I[ne+1]]),x&&(I[ne+2]=x[I[ne+2]]);m.putImageData(A,0,W)}}else{if(l.kind!==d.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${l.kind}`);{const ce=!!(le||ue||x);for(Q=g,oe=b*Q,H=0;H<f;H++){for(H>=e&&(Q=w,oe=b*Q),h=0,W=oe;W--;)I[h++]=k[M++],I[h++]=k[M++],I[h++]=k[M++],I[h++]=255;if(ce)for(let ne=0;ne<h;ne+=4)le&&(I[ne+0]=le[I[ne+0]]),ue&&(I[ne+1]=ue[I[ne+1]]),x&&(I[ne+2]=x[I[ne+2]]);m.putImageData(A,0,H*g)}}}}function t(m,l){const a=l.height,p=l.width,b=a%g,w=(a-b)/g,e=0===b?w:w+1,f=m.createImageData(p,g);let A=0;const M=l.data,h=f.data;for(let k=0;k<e;k++){const I=k<w?g:b;let H=3;for(let W=0;W<I;W++){let Q,oe=0;for(let le=0;le<p;le++)oe||(Q=M[A++],oe=128),h[H]=Q&oe?0:255,H+=4,oe>>=1}m.putImageData(f,0,k*g)}}function s(m,l){const a=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let p=0,b=a.length;p<b;p++){const w=a[p];void 0!==m[w]&&(l[w]=m[w])}void 0!==m.setLineDash&&(l.setLineDash(m.getLineDash()),l.lineDashOffset=m.lineDashOffset)}function S(m){m.strokeStyle="#000000",m.fillStyle="#000000",m.fillRule="nonzero",m.globalAlpha=1,m.lineWidth=1,m.lineCap="butt",m.lineJoin="miter",m.miterLimit=10,m.globalCompositeOperation="source-over",m.font="10px sans-serif",void 0!==m.setLineDash&&(m.setLineDash([]),m.lineDashOffset=0)}function C(m,l,a,p){const b=m.length;for(let w=3;w<b;w+=4){const e=m[w];if(0===e)m[w-3]=l,m[w-2]=a,m[w-1]=p;else if(e<255){const f=255-e;m[w-3]=m[w-3]*e+l*f>>8,m[w-2]=m[w-2]*e+a*f>>8,m[w-1]=m[w-1]*e+p*f>>8}}}function _(m,l,a){const p=m.length;for(let w=3;w<p;w+=4)l[w]=l[w]*(a?a[m[w]]:m[w])*.00392156862745098|0}function N(m,l,a){const p=m.length;for(let b=3;b<p;b+=4){const w=77*m[b-3]+152*m[b-2]+28*m[b-1];l[b]=a?l[b]*a[w>>8]>>8:l[b]*w>>16}}function j(m,l){const a=d.Util.singularValueDecompose2dScale(m);a[0]=Math.fround(a[0]),a[1]=Math.fround(a[1]);const p=Math.fround((globalThis.devicePixelRatio||1)*D.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==l?l:a[0]<=p||a[1]<=p}const O=["butt","round","square"],B=["miter","round","bevel"],G={},U={};class ${constructor(l,a,p,b,w,e,f){this.ctx=l,this.current=new E(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=a,this.objs=p,this.canvasFactory=b,this.imageLayer=w,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=e,this.cachedCanvases=new T(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,l&&r(l),this._cachedGetSinglePixelWidth=null}beginDrawing({transform:l,viewport:a,transparency:p=!1,background:b=null}){const w=this.ctx.canvas.width,e=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=b||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,w,e),this.ctx.restore(),p){const f=this.cachedCanvases.getCanvas("transparent",w,e,!0);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),S(this.ctx),l&&(this.ctx.transform.apply(this.ctx,l),this.outputScaleX=l[0],this.outputScaleY=l[0]),this.ctx.transform.apply(this.ctx,a.transform),this.viewportScale=a.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(l,a,p,b){const w=l.argsArray,e=l.fnArray;let f=a||0;const A=w.length;if(A===f)return f;const M=A-f>10&&"function"==typeof p,h=M?Date.now()+15:0;let k=0;const I=this.commonObjs,H=this.objs;let W;for(;;){if(void 0!==b&&f===b.nextBreakPoint)return b.breakIt(f,p),f;if(W=e[f],W!==d.OPS.dependency)this[W].apply(this,w[f]);else for(const Q of w[f]){const oe=Q.startsWith("g_")?I:H;if(!oe.has(Q))return oe.get(Q,p),f}if(f++,f===A)return f;if(M&&++k>10){if(Date.now()>h)return p(),f;k=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(l,a){const p=l.width,b=l.height;let h,k,w=Math.max(Math.hypot(a[0],a[1]),1),e=Math.max(Math.hypot(a[2],a[3]),1),f=p,A=b,M="prescale1";for(;w>2&&f>1||e>2&&A>1;){let I=f,H=A;w>2&&f>1&&(I=Math.ceil(f/2),w/=f/I),e>2&&A>1&&(H=Math.ceil(A/2),e/=A/H),h=this.cachedCanvases.getCanvas(M,I,H),k=h.context,k.clearRect(0,0,I,H),k.drawImage(l,0,0,f,A,0,0,I,H),l=h.canvas,f=I,A=H,M="prescale1"===M?"prescale2":"prescale1"}return{img:l,paintWidth:f,paintHeight:A}}_createMaskCanvas(l){const a=this.ctx,p=l.width,b=l.height,w=this.current.fillColor,e=this.current.patternFill,f=this.cachedCanvases.getCanvas("maskCanvas",p,b);t(f.context,l);let h=d.Util.transform(a.mozCurrentTransform,[1/p,0,0,-1/b,0,0]);h=d.Util.transform(h,[1,0,0,1,0,-b]);const k=d.Util.applyTransform([0,0],h),I=d.Util.applyTransform([p,b],h),H=d.Util.normalizeRect([k[0],k[1],I[0],I[1]]),W=Math.ceil(H[2]-H[0]),Q=Math.ceil(H[3]-H[1]),oe=this.cachedCanvases.getCanvas("fillCanvas",W,Q,!0),le=oe.context,ue=Math.min(k[0],I[0]),x=Math.min(k[1],I[1]);le.translate(-ue,-x),le.transform.apply(le,h);const q=this._scaleImage(f.canvas,le.mozCurrentTransformInverse);le.imageSmoothingEnabled=j(le.mozCurrentTransform,l.interpolate),le.drawImage(q.img,0,0,q.img.width,q.img.height,0,0,p,b),le.globalCompositeOperation="source-in";const ce=d.Util.transform(le.mozCurrentTransformInverse,[1,0,0,1,-ue,-x]);return le.fillStyle=e?w.getPattern(a,this,ce,te.PathType.FILL):w,le.fillRect(0,0,p,b),{canvas:oe.canvas,offsetX:Math.round(ue),offsetY:Math.round(x)}}setLineWidth(l){this.current.lineWidth=l,this.ctx.lineWidth=l}setLineCap(l){this.ctx.lineCap=O[l]}setLineJoin(l){this.ctx.lineJoin=B[l]}setMiterLimit(l){this.ctx.miterLimit=l}setDash(l,a){const p=this.ctx;void 0!==p.setLineDash&&(p.setLineDash(l),p.lineDashOffset=a)}setRenderingIntent(l){}setFlatness(l){}setGState(l){for(let a=0,p=l.length;a<p;a++){const b=l[a],e=b[1];switch(b[0]){case"LW":this.setLineWidth(e);break;case"LC":this.setLineCap(e);break;case"LJ":this.setLineJoin(e);break;case"ML":this.setMiterLimit(e);break;case"D":this.setDash(e[0],e[1]);break;case"RI":this.setRenderingIntent(e);break;case"FL":this.setFlatness(e);break;case"Font":this.setFont(e[0],e[1]);break;case"CA":this.current.strokeAlpha=b[1];break;case"ca":this.current.fillAlpha=b[1],this.ctx.globalAlpha=b[1];break;case"BM":this.ctx.globalCompositeOperation=e;break;case"SMask":this.current.activeSMask=e?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=e}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const l=this.inSMaskMode;this.current.activeSMask&&!l?this.beginSMaskMode():!this.current.activeSMask&&l&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const b=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=b.context;const w=this.ctx;w.setTransform.apply(w,this.suspendedCtx.mozCurrentTransform),s(this.suspendedCtx,w),function(m,l){if(m._removeMirroring)throw new Error("Context is already forwarding operations.");m.__originalSave=m.save,m.__originalRestore=m.restore,m.__originalRotate=m.rotate,m.__originalScale=m.scale,m.__originalTranslate=m.translate,m.__originalTransform=m.transform,m.__originalSetTransform=m.setTransform,m.__originalResetTransform=m.resetTransform,m.__originalClip=m.clip,m.__originalMoveTo=m.moveTo,m.__originalLineTo=m.lineTo,m.__originalBezierCurveTo=m.bezierCurveTo,m.__originalRect=m.rect,m.__originalClosePath=m.closePath,m.__originalBeginPath=m.beginPath,m._removeMirroring=()=>{m.save=m.__originalSave,m.restore=m.__originalRestore,m.rotate=m.__originalRotate,m.scale=m.__originalScale,m.translate=m.__originalTranslate,m.transform=m.__originalTransform,m.setTransform=m.__originalSetTransform,m.resetTransform=m.__originalResetTransform,m.clip=m.__originalClip,m.moveTo=m.__originalMoveTo,m.lineTo=m.__originalLineTo,m.bezierCurveTo=m.__originalBezierCurveTo,m.rect=m.__originalRect,m.closePath=m.__originalClosePath,m.beginPath=m.__originalBeginPath,delete m._removeMirroring},m.save=function(){l.save(),this.__originalSave()},m.restore=function(){l.restore(),this.__originalRestore()},m.translate=function(p,b){l.translate(p,b),this.__originalTranslate(p,b)},m.scale=function(p,b){l.scale(p,b),this.__originalScale(p,b)},m.transform=function(p,b,w,e,f,A){l.transform(p,b,w,e,f,A),this.__originalTransform(p,b,w,e,f,A)},m.setTransform=function(p,b,w,e,f,A){l.setTransform(p,b,w,e,f,A),this.__originalSetTransform(p,b,w,e,f,A)},m.resetTransform=function(){l.resetTransform(),this.__originalResetTransform()},m.rotate=function(p){l.rotate(p),this.__originalRotate(p)},m.clip=function(p){l.clip(p),this.__originalClip(p)},m.moveTo=function(a,p){l.moveTo(a,p),this.__originalMoveTo(a,p)},m.lineTo=function(a,p){l.lineTo(a,p),this.__originalLineTo(a,p)},m.bezierCurveTo=function(a,p,b,w,e,f){l.bezierCurveTo(a,p,b,w,e,f),this.__originalBezierCurveTo(a,p,b,w,e,f)},m.rect=function(a,p,b,w){l.rect(a,p,b,w),this.__originalRect(a,p,b,w)},m.closePath=function(){l.closePath(),this.__originalClosePath()},m.beginPath=function(){l.beginPath(),this.__originalBeginPath()}}(w,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),s(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(l){this.current.activeSMask&&(l?(l[0]=Math.floor(l[0]),l[1]=Math.floor(l[1]),l[2]=Math.ceil(l[2]),l[3]=Math.ceil(l[3])):l=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function(m,l,a,p){const b=p[0],w=p[1],e=p[2]-b,f=p[3]-w;0===e||0===f||(function(m,l,a,p,b,w,e,f,A,M,h){const k=!!w,I=k?w[0]:0,H=k?w[1]:0,W=k?w[2]:0;let Q;Q="Luminosity"===b?N:_;const le=Math.min(p,Math.ceil(1048576/a));for(let ue=0;ue<p;ue+=le){const x=Math.min(le,p-ue),q=m.getImageData(f-M,ue+(A-h),a,x),ce=l.getImageData(f,ue+A,a,x);k&&C(q.data,I,H,W),Q(q.data,ce.data,e),l.putImageData(ce,f,ue+A)}}(l.context,a,e,f,l.subtype,l.backdrop,l.transferMap,b,w,l.offsetX,l.offsetY),m.save(),m.globalAlpha=1,m.globalCompositeOperation="source-over",m.setTransform(1,0,0,1,0,0),m.drawImage(a.canvas,0,0),m.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,l),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(s(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const l=this.current;this.stateStack.push(l),this.current=l.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),s(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}transform(l,a,p,b,w,e){this.ctx.transform(l,a,p,b,w,e),this._cachedGetSinglePixelWidth=null}constructPath(l,a){const p=this.ctx,b=this.current;let f,A,w=b.x,e=b.y;for(let M=0,h=0,k=l.length;M<k;M++)switch(0|l[M]){case d.OPS.rectangle:w=a[h++],e=a[h++];const I=a[h++],H=a[h++],W=w+I,Q=e+H;p.moveTo(w,e),0===I||0===H?p.lineTo(W,Q):(p.lineTo(W,e),p.lineTo(W,Q),p.lineTo(w,Q)),b.updatePathMinMax(p.mozCurrentTransform,w,e),b.updatePathMinMax(p.mozCurrentTransform,W,Q),p.closePath();break;case d.OPS.moveTo:w=a[h++],e=a[h++],p.moveTo(w,e),b.updatePathMinMax(p.mozCurrentTransform,w,e);break;case d.OPS.lineTo:w=a[h++],e=a[h++],p.lineTo(w,e),b.updatePathMinMax(p.mozCurrentTransform,w,e);break;case d.OPS.curveTo:f=w,A=e,w=a[h+4],e=a[h+5],p.bezierCurveTo(a[h],a[h+1],a[h+2],a[h+3],w,e),b.updateCurvePathMinMax(p.mozCurrentTransform,f,A,a[h],a[h+1],a[h+2],a[h+3],w,e),h+=6;break;case d.OPS.curveTo2:f=w,A=e,p.bezierCurveTo(w,e,a[h],a[h+1],a[h+2],a[h+3]),b.updateCurvePathMinMax(p.mozCurrentTransform,f,A,w,e,a[h],a[h+1],a[h+2],a[h+3]),w=a[h+2],e=a[h+3],h+=4;break;case d.OPS.curveTo3:f=w,A=e,w=a[h+2],e=a[h+3],p.bezierCurveTo(a[h],a[h+1],w,e,w,e),b.updateCurvePathMinMax(p.mozCurrentTransform,f,A,a[h],a[h+1],w,e,w,e),h+=4;break;case d.OPS.closePath:p.closePath()}b.setCurrentPoint(w,e)}closePath(){this.ctx.closePath()}stroke(l){l=void 0===l||l;const a=this.ctx,p=this.current.strokeColor;if(a.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof p&&(null==p?void 0:p.getPattern)){const b=this.getSinglePixelWidth();a.save(),a.strokeStyle=p.getPattern(a,this,a.mozCurrentTransformInverse,te.PathType.STROKE),a.lineWidth=Math.max(b,this.current.lineWidth),a.stroke(),a.restore()}else{const b=this.getSinglePixelWidth();b<0&&-b>=this.current.lineWidth?(a.save(),a.resetTransform(),a.lineWidth=Math.floor(this._combinedScaleFactor),a.stroke(),a.restore()):(a.lineWidth=Math.max(b,this.current.lineWidth),a.stroke())}l&&this.consumePath(this.current.getClippedPathBoundingBox()),a.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(l){l=void 0===l||l;const a=this.ctx,p=this.current.fillColor;let w=!1;this.current.patternFill&&(a.save(),a.fillStyle=p.getPattern(a,this,a.mozCurrentTransformInverse,te.PathType.FILL),w=!0);const e=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==e&&(this.pendingEOFill?(a.fill("evenodd"),this.pendingEOFill=!1):a.fill()),w&&a.restore(),l&&this.consumePath(e)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=G}eoClip(){this.pendingClip=U}beginText(){this.current.textMatrix=d.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const l=this.pendingTextPaths,a=this.ctx;if(void 0!==l){a.save(),a.beginPath();for(let p=0;p<l.length;p++){const b=l[p];a.setTransform.apply(a,b.transform),a.translate(b.x,b.y),b.addToPath(a,b.fontSize)}a.restore(),a.clip(),a.beginPath(),delete this.pendingTextPaths}else a.beginPath()}setCharSpacing(l){this.current.charSpacing=l}setWordSpacing(l){this.current.wordSpacing=l}setHScale(l){this.current.textHScale=l/100}setLeading(l){this.current.leading=-l}setFont(l,a){const p=this.commonObjs.get(l),b=this.current;if(!p)throw new Error(`Can't find font for ${l}`);if(b.fontMatrix=p.fontMatrix||d.FONT_IDENTITY_MATRIX,(0===b.fontMatrix[0]||0===b.fontMatrix[3])&&(0,d.warn)("Invalid font matrix for font "+l),a<0?(a=-a,b.fontDirection=-1):b.fontDirection=1,this.current.font=p,this.current.fontSize=a,p.isType3Font)return;let e="normal";p.black?e="900":p.bold&&(e="bold");const f=p.italic?"italic":"normal",A=`"${p.loadedName||"sans-serif"}", ${p.fallbackName}`;let M=a;a<16?M=16:a>100&&(M=100),this.current.fontSizeScale=a/M,this.ctx.font=`${f} ${e} ${M}px ${A}`}setTextRenderingMode(l){this.current.textRenderingMode=l}setTextRise(l){this.current.textRise=l}moveText(l,a){this.current.x=this.current.lineX+=l,this.current.y=this.current.lineY+=a}setLeadingMoveText(l,a){this.setLeading(-a),this.moveText(l,a)}setTextMatrix(l,a,p,b,w,e){this.current.textMatrix=[l,a,p,b,w,e],this.current.textMatrixScale=Math.hypot(l,a),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(l,a,p,b,w){const e=this.ctx,f=this.current,A=f.font,M=f.textRenderingMode,h=f.fontSize/f.fontSizeScale,k=M&d.TextRenderingMode.FILL_STROKE_MASK,I=!!(M&d.TextRenderingMode.ADD_TO_PATH_FLAG),H=f.patternFill&&!A.missingFile;let W;(A.disableFontFace||I||H)&&(W=A.getPathGenerator(this.commonObjs,l)),A.disableFontFace||H?(e.save(),e.translate(a,p),e.beginPath(),W(e,h),b&&e.setTransform.apply(e,b),(k===d.TextRenderingMode.FILL||k===d.TextRenderingMode.FILL_STROKE)&&e.fill(),(k===d.TextRenderingMode.STROKE||k===d.TextRenderingMode.FILL_STROKE)&&(w&&(e.resetTransform(),e.lineWidth=Math.floor(this._combinedScaleFactor)),e.stroke()),e.restore()):((k===d.TextRenderingMode.FILL||k===d.TextRenderingMode.FILL_STROKE)&&e.fillText(l,a,p),(k===d.TextRenderingMode.STROKE||k===d.TextRenderingMode.FILL_STROKE)&&(w?(e.save(),e.moveTo(a,p),e.resetTransform(),e.lineWidth=Math.floor(this._combinedScaleFactor),e.strokeText(l,0,0),e.restore()):e.strokeText(l,a,p))),I&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:e.mozCurrentTransform,x:a,y:p,fontSize:h,addToPath:W})}get isFontSubpixelAAEnabled(){const{context:l}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);l.scale(1.5,1),l.fillText("I",0,10);const a=l.getImageData(0,0,10,10).data;let p=!1;for(let b=3;b<a.length;b+=4)if(a[b]>0&&a[b]<255){p=!0;break}return(0,d.shadow)(this,"isFontSubpixelAAEnabled",p)}showText(l){const a=this.current,p=a.font;if(p.isType3Font)return this.showType3Text(l);const b=a.fontSize;if(0===b)return;const w=this.ctx,e=a.fontSizeScale,f=a.charSpacing,A=a.wordSpacing,M=a.fontDirection,h=a.textHScale*M,k=l.length,I=p.vertical,H=I?1:-1,W=p.defaultVMetrics,Q=b*a.fontMatrix[0],oe=a.textRenderingMode===d.TextRenderingMode.FILL&&!p.disableFontFace&&!a.patternFill;let le;if(w.save(),w.transform.apply(w,a.textMatrix),w.translate(a.x,a.y+a.textRise),w.scale(h,M>0?-1:1),a.patternFill){w.save();const re=a.fillColor.getPattern(w,this,w.mozCurrentTransformInverse,te.PathType.FILL);le=w.mozCurrentTransform,w.restore(),w.fillStyle=re}let ue=a.lineWidth,x=!1;const q=a.textMatrixScale;if(0===q||0===ue){const re=a.textRenderingMode&d.TextRenderingMode.FILL_STROKE_MASK;(re===d.TextRenderingMode.STROKE||re===d.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,ue=this.getSinglePixelWidth(),x=ue<0)}else ue/=q;1!==e&&(w.scale(e,e),ue/=e),w.lineWidth=ue;let ne,ce=0;for(ne=0;ne<k;++ne){const re=l[ne];if("number"==typeof re){ce+=H*re*b/1e3;continue}let de=!1;const me=(re.isSpace?A:0)+f,ge=re.fontChar,we=re.accent;let xe,Ae,ke,Te=re.width;if(I){const Se=re.vmetric||W,Re=-(re.vmetric?Se[1]:.5*Te)*Q;Te=Se?-Se[0]:Te,xe=Re/e,Ae=(ce+Se[2]*Q)/e}else xe=ce/e,Ae=0;if(p.remeasure&&Te>0){const Se=1e3*w.measureText(ge).width/b*e;if(Te<Se&&this.isFontSubpixelAAEnabled){const Re=Te/Se;de=!0,w.save(),w.scale(Re,1),xe/=Re}else Te!==Se&&(xe+=(Te-Se)/2e3*b/e)}this.contentVisible&&(re.isInFont||p.missingFile)&&(oe&&!we?w.fillText(ge,xe,Ae):(this.paintChar(ge,xe,Ae,le,x),we&&this.paintChar(we.fontChar,xe+b*we.offset.x/e,Ae-b*we.offset.y/e,le,x))),ke=I?Te*Q-me*M:Te*Q+me*M,ce+=ke,de&&w.restore()}I?a.y-=ce:a.x+=ce*h,w.restore(),this.compose()}showType3Text(l){const a=this.ctx,p=this.current,b=p.font,w=p.fontSize,e=p.fontDirection,f=b.vertical?1:-1,A=p.charSpacing,M=p.wordSpacing,h=p.textHScale*e,k=p.fontMatrix||d.FONT_IDENTITY_MATRIX,I=l.length;let W,Q,oe,le;if(p.textRenderingMode!==d.TextRenderingMode.INVISIBLE&&0!==w){for(this._cachedGetSinglePixelWidth=null,a.save(),a.transform.apply(a,p.textMatrix),a.translate(p.x,p.y),a.scale(h,e),W=0;W<I;++W){if(Q=l[W],"number"==typeof Q){le=f*Q*w/1e3,this.ctx.translate(le,0),p.x+=le*h;continue}const ue=(Q.isSpace?M:0)+A,x=b.charProcOperatorList[Q.operatorListId];x?(this.contentVisible&&(this.processingType3=Q,this.save(),a.scale(w,w),a.transform.apply(a,k),this.executeOperatorList(x),this.restore()),oe=d.Util.applyTransform([Q.width,0],k)[0]*w+ue,a.translate(oe,0),p.x+=oe*h):(0,d.warn)(`Type3 character "${Q.operatorListId}" is not available.`)}a.restore(),this.processingType3=null}}setCharWidth(l,a){}setCharWidthAndBounds(l,a,p,b,w,e){this.ctx.rect(p,b,w-p,e-b),this.clip(),this.endPath()}getColorN_Pattern(l){let a;if("TilingPattern"===l[0]){const p=l[1],b=this.baseTransform||this.ctx.mozCurrentTransform.slice();a=new te.TilingPattern(l,p,this.ctx,{createCanvasGraphics:e=>new $(e,this.commonObjs,this.objs,this.canvasFactory)},b)}else a=this._getPattern(l[1],l[2]);return a}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(l,a,p){const b=d.Util.makeHexColor(l,a,p);this.ctx.strokeStyle=b,this.current.strokeColor=b}setFillRGBColor(l,a,p){const b=d.Util.makeHexColor(l,a,p);this.ctx.fillStyle=b,this.current.fillColor=b,this.current.patternFill=!1}_getPattern(l,a=null){let p;return this.cachedPatterns.has(l)?p=this.cachedPatterns.get(l):(p=(0,te.getShadingPattern)(this.objs.get(l)),this.cachedPatterns.set(l,p)),a&&(p.matrix=a),p}shadingFill(l){if(!this.contentVisible)return;const a=this.ctx;this.save();const p=this._getPattern(l);a.fillStyle=p.getPattern(a,this,a.mozCurrentTransformInverse,te.PathType.SHADING);const b=a.mozCurrentTransformInverse;if(b){const w=a.canvas,e=w.width,f=w.height,A=d.Util.applyTransform([0,0],b),M=d.Util.applyTransform([0,f],b),h=d.Util.applyTransform([e,0],b),k=d.Util.applyTransform([e,f],b),I=Math.min(A[0],M[0],h[0],k[0]),H=Math.min(A[1],M[1],h[1],k[1]),W=Math.max(A[0],M[0],h[0],k[0]),Q=Math.max(A[1],M[1],h[1],k[1]);this.ctx.fillRect(I,H,W-I,Q-H)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,d.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,d.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(l,a){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(l)&&6===l.length&&this.transform.apply(this,l),this.baseTransform=this.ctx.mozCurrentTransform,a)&&(this.ctx.rect(a[0],a[1],a[2]-a[0],a[3]-a[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,a[0],a[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,a[2],a[3]),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(l){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const a=this.ctx;l.isolated||(0,d.info)("TODO: Support non-isolated groups."),l.knockout&&(0,d.warn)("Knockout groups not supported.");const p=a.mozCurrentTransform;if(l.matrix&&a.transform.apply(a,l.matrix),!l.bbox)throw new Error("Bounding box is required.");let b=d.Util.getAxialAlignedBoundingBox(l.bbox,a.mozCurrentTransform);b=d.Util.intersect(b,[0,0,a.canvas.width,a.canvas.height])||[0,0,0,0];const e=Math.floor(b[0]),f=Math.floor(b[1]);let A=Math.max(Math.ceil(b[2])-e,1),M=Math.max(Math.ceil(b[3])-f,1),h=1,k=1;A>L&&(h=A/L,A=L),M>L&&(k=M/L,M=L),this.current.startNewPathAndClipBox([0,0,A,M]);let I="groupAt"+this.groupLevel;l.smask&&(I+="_smask_"+this.smaskCounter++%2);const H=this.cachedCanvases.getCanvas(I,A,M,!0),W=H.context;W.scale(1/h,1/k),W.translate(-e,-f),W.transform.apply(W,p),l.smask?this.smaskStack.push({canvas:H.canvas,context:W,offsetX:e,offsetY:f,scaleX:h,scaleY:k,subtype:l.smask.subtype,backdrop:l.smask.backdrop,transferMap:l.smask.transferMap||null,startTransformInverse:null}):(a.setTransform(1,0,0,1,0,0),a.translate(e,f),a.scale(h,k),a.save()),s(a,W),this.ctx=W,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(a),this.groupLevel++}endGroup(l){if(!this.contentVisible)return;this.groupLevel--;const a=this.ctx,p=this.groupStack.pop();if(this.ctx=p,this.ctx.imageSmoothingEnabled=!1,l.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const b=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,b);const w=d.Util.getAxialAlignedBoundingBox([0,0,a.canvas.width,a.canvas.height],b);this.ctx.drawImage(a.canvas,0,0),this.ctx.restore(),this.compose(w)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(l,a,p,b,w){if(this.save(),Array.isArray(a)&&4===a.length){const e=a[2]-a[0],f=a[3]-a[1];if(w&&this.annotationCanvasMap){(p=p.slice())[4]-=a[0],p[5]-=a[1],(a=a.slice())[0]=a[1]=0,a[2]=e,a[3]=f;const[A,M]=d.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:h}=this,k=Math.ceil(e*this.outputScaleX*h),I=Math.ceil(f*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(k,I);const{canvas:H,context:W}=this.annotationCanvas;H.style.width=`calc(${e}px * var(--viewport-scale-factor))`,H.style.height=`calc(${f}px * var(--viewport-scale-factor))`,this.annotationCanvasMap.set(l,H),this.annotationCanvas.savedCtx=this.ctx,this.ctx=W,this.ctx.setTransform(A,0,0,-M,0,f*M),r(this.ctx),S(this.ctx)}else S(this.ctx),this.ctx.rect(a[0],a[1],e,f),this.clip(),this.endPath()}this.current=new E(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,p),this.transform.apply(this,b)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(l){if(!this.contentVisible)return;const a=this.ctx,p=l.width,b=l.height,w=this.processingType3;if(w&&void 0===w.compiled&&(w.compiled=p<=1e3&&b<=1e3?function(m){const a=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),p=m.width,b=m.height,w=p+1;let e,f,A,M;const h=new Uint8Array(w*(b+1)),k=p+7&-8,I=m.data,H=new Uint8Array(k*b);let W=0;for(e=0,f=I.length;e<f;e++){const x=I[e];let q=128;for(;q>0;)H[W++]=x&q?0:255,q>>=1}let Q=0;for(W=0,0!==H[W]&&(h[0]=1,++Q),A=1;A<p;A++)H[W]!==H[W+1]&&(h[A]=H[W]?2:1,++Q),W++;for(0!==H[W]&&(h[A]=2,++Q),e=1;e<b;e++){W=e*k,M=e*w,H[W-k]!==H[W]&&(h[M]=H[W]?1:8,++Q);let x=(H[W]?4:0)+(H[W-k]?8:0);for(A=1;A<p;A++)x=(x>>2)+(H[W+1]?4:0)+(H[W-k+1]?8:0),a[x]&&(h[M+A]=a[x],++Q),W++;if(H[W-k]!==H[W]&&(h[M+A]=H[W]?2:4,++Q),Q>1e3)return null}for(W=k*(b-1),M=e*w,0!==H[W]&&(h[M]=8,++Q),A=1;A<p;A++)H[W]!==H[W+1]&&(h[M+A]=H[W]?4:8,++Q),W++;if(0!==H[W]&&(h[M+A]=4,++Q),Q>1e3)return null;const oe=new Int32Array([0,w,-1,0,-w,0,0,0,1]),le=[];for(e=0;Q&&e<=b;e++){let x=e*w;const q=x+p;for(;x<q&&!h[x];)x++;if(x===q)continue;const ce=[x%w,e],ne=x;let re=h[x];do{const de=oe[re];do{x+=de}while(!h[x]);const me=h[x];5!==me&&10!==me?(re=me,h[x]=0):(re=me&51*re>>4,h[x]&=re>>2|re<<2),ce.push(x%w,x/w|0),h[x]||--Q}while(ne!==x);le.push(ce),--e}return function(x){x.save(),x.scale(1/p,-1/b),x.translate(0,-b),x.beginPath();for(let q=0,ce=le.length;q<ce;q++){const ne=le[q];x.moveTo(ne[0],ne[1]);for(let re=2,de=ne.length;re<de;re+=2)x.lineTo(ne[re],ne[re+1])}x.fill(),x.beginPath(),x.restore()}}({data:l.data,width:p,height:b}):null),null==w?void 0:w.compiled)return void w.compiled(a);const e=this._createMaskCanvas(l),f=e.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(f,e.offsetX,e.offsetY),a.restore(),this.compose()}paintImageMaskXObjectRepeat(l,a,p=0,b=0,w,e){if(!this.contentVisible)return;const f=this.ctx;f.save();const A=f.mozCurrentTransform;f.transform(a,p,b,w,0,0);const M=this._createMaskCanvas(l);f.setTransform(1,0,0,1,0,0);for(let h=0,k=e.length;h<k;h+=2){const I=d.Util.transform(A,[a,p,b,w,e[h],e[h+1]]),[H,W]=d.Util.applyTransform([0,0],I);f.drawImage(M.canvas,H,W)}f.restore(),this.compose()}paintImageMaskXObjectGroup(l){if(!this.contentVisible)return;const a=this.ctx,p=this.current.fillColor,b=this.current.patternFill;for(let w=0,e=l.length;w<e;w++){const f=l[w],A=f.width,M=f.height,h=this.cachedCanvases.getCanvas("maskCanvas",A,M),k=h.context;k.save(),t(k,f),k.globalCompositeOperation="source-in",k.fillStyle=b?p.getPattern(k,this,a.mozCurrentTransformInverse,te.PathType.FILL):p,k.fillRect(0,0,A,M),k.restore(),a.save(),a.transform.apply(a,f.transform),a.scale(1,-1),a.drawImage(h.canvas,0,0,A,M,0,-1,1,1),a.restore()}this.compose()}paintImageXObject(l){if(!this.contentVisible)return;const a=l.startsWith("g_")?this.commonObjs.get(l):this.objs.get(l);a?this.paintInlineImageXObject(a):(0,d.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(l,a,p,b){if(!this.contentVisible)return;const w=l.startsWith("g_")?this.commonObjs.get(l):this.objs.get(l);if(!w)return void(0,d.warn)("Dependent image isn't ready yet");const e=w.width,f=w.height,A=[];for(let M=0,h=b.length;M<h;M+=2)A.push({transform:[a,0,0,p,b[M],b[M+1]],x:0,y:0,w:e,h:f});this.paintInlineImageXObjectGroup(w,A)}paintInlineImageXObject(l){if(!this.contentVisible)return;const a=l.width,p=l.height,b=this.ctx;let w;if(this.save(),b.scale(1/a,-1/p),"function"==typeof HTMLElement&&l instanceof HTMLElement||!l.data)w=l;else{const f=this.cachedCanvases.getCanvas("inlineImage",a,p);P(f.context,l,this.current.transferMaps),w=f.canvas}const e=this._scaleImage(w,b.mozCurrentTransformInverse);if(b.imageSmoothingEnabled=j(b.mozCurrentTransform,l.interpolate),b.drawImage(e.img,0,0,e.paintWidth,e.paintHeight,0,-p,a,p),this.imageLayer){const f=this.getCanvasPosition(0,-p);this.imageLayer.appendImage({imgData:l,left:f[0],top:f[1],width:a/b.mozCurrentTransformInverse[0],height:p/b.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}paintInlineImageXObjectGroup(l,a){if(!this.contentVisible)return;const p=this.ctx,b=l.width,w=l.height,e=this.cachedCanvases.getCanvas("inlineImage",b,w);P(e.context,l,this.current.transferMaps);for(let A=0,M=a.length;A<M;A++){const h=a[A];if(p.save(),p.transform.apply(p,h.transform),p.scale(1,-1),p.drawImage(e.canvas,h.x,h.y,h.w,h.h,0,-1,1,1),this.imageLayer){const k=this.getCanvasPosition(h.x,h.y);this.imageLayer.appendImage({imgData:l,left:k[0],top:k[1],width:b,height:w})}p.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(l){}markPointProps(l,a){}beginMarkedContent(l){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(l,a){this.markedContentStack.push("OC"===l?{visible:this.optionalContentConfig.isVisible(a)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(l){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(l);const a=this.ctx;this.pendingClip&&(this.pendingClip===U?a.clip("evenodd"):a.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),a.beginPath()}getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){const l=this.ctx.mozCurrentTransform,a=Math.abs(l[0]*l[3]-l[2]*l[1]),p=l[0]**2+l[2]**2,b=l[1]**2+l[3]**2,w=Math.sqrt(Math.max(p,b))/a;this._cachedGetSinglePixelWidth=p!==b&&this._combinedScaleFactor*w>1?-this._combinedScaleFactor*w:a>Number.EPSILON?w:1}return this._cachedGetSinglePixelWidth}getCanvasPosition(l,a){const p=this.ctx.mozCurrentTransform;return[p[0]*l+p[2]*a+p[4],p[1]*l+p[3]*a+p[5]]}isContentVisible(){for(let l=this.markedContentStack.length-1;l>=0;l--)if(!this.markedContentStack[l].visible)return!1;return!0}}v.CanvasGraphics=$;for(const m in d.OPS)void 0!==$.prototype[m]&&($.prototype[d.OPS[m]]=$.prototype[m])},(fe,v,Z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.TilingPattern=v.PathType=void 0,v.getShadingPattern=function(u){switch(u[0]){case"RadialAxial":return new Y(u);case"Mesh":return new o(u);case"Dummy":return new i}throw new Error(`Unknown IR type: ${u[0]}`)};var d=Z(1);const te={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function D(u,r){if(!r||"undefined"==typeof Path2D)return;const T=r[2]-r[0],R=r[3]-r[1],E=new Path2D;E.rect(r[0],r[1],T,R),u.clip(E)}v.PathType=te;class se{constructor(){this.constructor===se&&(0,d.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,d.unreachable)("Abstract method `getPattern` called.")}}class Y extends se{constructor(r){super(),this._type=r[1],this._bbox=r[2],this._colorStops=r[3],this._p0=r[4],this._p1=r[5],this._r0=r[6],this._r1=r[7],this.matrix=null}_createGradient(r){let T;"axial"===this._type?T=r.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(T=r.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const R of this._colorStops)T.addColorStop(R[0],R[1]);return T}getPattern(r,T,R,E){let P;if(E===te.STROKE||E===te.FILL){const t=T.current.getClippedPathBoundingBox(E,r.mozCurrentTransform)||[0,0,0,0],s=Math.ceil(t[2]-t[0])||1,S=Math.ceil(t[3]-t[1])||1,C=T.cachedCanvases.getCanvas("pattern",s,S,!0),_=C.context;_.clearRect(0,0,_.canvas.width,_.canvas.height),_.beginPath(),_.rect(0,0,_.canvas.width,_.canvas.height),_.translate(-t[0],-t[1]),R=d.Util.transform(R,[1,0,0,1,t[0],t[1]]),_.transform.apply(_,T.baseTransform),this.matrix&&_.transform.apply(_,this.matrix),D(_,this._bbox),_.fillStyle=this._createGradient(_),_.fill(),P=r.createPattern(C.canvas,"no-repeat");const N=new DOMMatrix(R);try{P.setTransform(N)}catch(F){(0,d.warn)(`RadialAxialShadingPattern.getPattern: "${null==F?void 0:F.message}".`)}}else D(r,this._bbox),P=this._createGradient(r);return P}}function L(u,r,T,R,E,P,t,s){const S=r.coords,C=r.colors,_=u.data,N=4*u.width;let F;S[T+1]>S[R+1]&&(F=T,T=R,R=F,F=P,P=t,t=F),S[R+1]>S[E+1]&&(F=R,R=E,E=F,F=t,t=s,s=F),S[T+1]>S[R+1]&&(F=T,T=R,R=F,F=P,P=t,t=F);const V=(S[T]+r.offsetX)*r.scaleX,j=(S[T+1]+r.offsetY)*r.scaleY,O=(S[R]+r.offsetX)*r.scaleX,B=(S[R+1]+r.offsetY)*r.scaleY,G=(S[E]+r.offsetX)*r.scaleX,U=(S[E+1]+r.offsetY)*r.scaleY;if(j>=U)return;const $=C[P],m=C[P+1],l=C[P+2],a=C[t],p=C[t+1],b=C[t+2],w=C[s],e=C[s+1],f=C[s+2],A=Math.round(j),M=Math.round(U);let h,k,I,H,W,Q,oe,le;for(let ue=A;ue<=M;ue++){if(ue<B){let re;re=ue<j?0:(j-ue)/(j-B),h=V-(V-O)*re,k=$-($-a)*re,I=m-(m-p)*re,H=l-(l-b)*re}else{let re;re=ue>U?1:B===U?0:(B-ue)/(B-U),h=O-(O-G)*re,k=a-(a-w)*re,I=p-(p-e)*re,H=b-(b-f)*re}let x;x=ue<j?0:ue>U?1:(j-ue)/(j-U),W=V-(V-G)*x,Q=$-($-w)*x,oe=m-(m-e)*x,le=l-(l-f)*x;const q=Math.round(Math.min(h,W)),ce=Math.round(Math.max(h,W));let ne=N*ue+4*q;for(let re=q;re<=ce;re++)x=(h-re)/(h-W),x<0?x=0:x>1&&(x=1),_[ne++]=k-(k-Q)*x|0,_[ne++]=I-(I-oe)*x|0,_[ne++]=H-(H-le)*x|0,_[ne++]=255}}function n(u,r,T){const R=r.coords,E=r.colors;let P,t;switch(r.type){case"lattice":const s=r.verticesPerRow,S=Math.floor(R.length/s)-1,C=s-1;for(P=0;P<S;P++){let _=P*s;for(let N=0;N<C;N++,_++)L(u,T,R[_],R[_+1],R[_+s],E[_],E[_+1],E[_+s]),L(u,T,R[_+s+1],R[_+1],R[_+s],E[_+s+1],E[_+1],E[_+s])}break;case"triangles":for(P=0,t=R.length;P<t;P+=3)L(u,T,R[P],R[P+1],R[P+2],E[P],E[P+1],E[P+2]);break;default:throw new Error("illegal figure")}}class o extends se{constructor(r){super(),this._coords=r[2],this._colors=r[3],this._figures=r[4],this._bounds=r[5],this._bbox=r[7],this._background=r[8],this.matrix=null}_createMeshCanvas(r,T,R){const s=Math.floor(this._bounds[0]),S=Math.floor(this._bounds[1]),C=Math.ceil(this._bounds[2])-s,_=Math.ceil(this._bounds[3])-S,N=Math.min(Math.ceil(Math.abs(C*r[0]*1.1)),3e3),F=Math.min(Math.ceil(Math.abs(_*r[1]*1.1)),3e3),V=C/N,j=_/F,O={coords:this._coords,colors:this._colors,offsetX:-s,offsetY:-S,scaleX:1/V,scaleY:1/j},U=R.getCanvas("mesh",N+4,F+4,!1),$=U.context,m=$.createImageData(N,F);if(T){const a=m.data;for(let p=0,b=a.length;p<b;p+=4)a[p]=T[0],a[p+1]=T[1],a[p+2]=T[2],a[p+3]=255}for(const a of this._figures)n(m,a,O);return $.putImageData(m,2,2),{canvas:U.canvas,offsetX:s-2*V,offsetY:S-2*j,scaleX:V,scaleY:j}}getPattern(r,T,R,E){let P;if(D(r,this._bbox),E===te.SHADING)P=d.Util.singularValueDecompose2dScale(r.mozCurrentTransform);else if(P=d.Util.singularValueDecompose2dScale(T.baseTransform),this.matrix){const s=d.Util.singularValueDecompose2dScale(this.matrix);P=[P[0]*s[0],P[1]*s[1]]}const t=this._createMeshCanvas(P,E===te.SHADING?null:this._background,T.cachedCanvases);return E!==te.SHADING&&(r.setTransform.apply(r,T.baseTransform),this.matrix&&r.transform.apply(r,this.matrix)),r.translate(t.offsetX,t.offsetY),r.scale(t.scaleX,t.scaleY),r.createPattern(t.canvas,"no-repeat")}}class i extends se{getPattern(){return"hotpink"}}class y{static get MAX_PATTERN_SIZE(){return(0,d.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(r,T,R,E,P){this.operatorList=r[2],this.matrix=r[3]||[1,0,0,1,0,0],this.bbox=r[4],this.xstep=r[5],this.ystep=r[6],this.paintType=r[7],this.tilingType=r[8],this.color=T,this.ctx=R,this.canvasGraphicsFactory=E,this.baseTransform=P}createPatternCanvas(r){const T=this.operatorList,R=this.bbox,E=this.xstep,P=this.ystep,t=this.paintType,S=this.color,C=this.canvasGraphicsFactory;(0,d.info)("TilingType: "+this.tilingType);const _=R[0],N=R[1],F=R[2],V=R[3],j=d.Util.singularValueDecompose2dScale(this.matrix),O=d.Util.singularValueDecompose2dScale(this.baseTransform),B=[j[0]*O[0],j[1]*O[1]],G=this.getSizeAndScale(E,this.ctx.canvas.width,B[0]),U=this.getSizeAndScale(P,this.ctx.canvas.height,B[1]),$=r.cachedCanvases.getCanvas("pattern",G.size,U.size,!0),m=$.context,l=C.createCanvasGraphics(m);l.groupLevel=r.groupLevel,this.setFillAndStrokeStyleToContext(l,t,S);let a=_,p=N,b=F,w=V;return _<0&&(a=0,b+=Math.abs(_)),N<0&&(p=0,w+=Math.abs(N)),m.translate(-G.scale*a,-U.scale*p),l.transform(G.scale,0,0,U.scale,0,0),m.save(),this.clipBbox(l,a,p,b,w),l.baseTransform=l.ctx.mozCurrentTransform.slice(),l.executeOperatorList(T),l.endDrawing(),{canvas:$.canvas,scaleX:G.scale,scaleY:U.scale,offsetX:a,offsetY:p}}getSizeAndScale(r,T,R){r=Math.abs(r);const E=Math.max(y.MAX_PATTERN_SIZE,T);let P=Math.ceil(r*R);return P>=E?P=E:R=P/r,{scale:R,size:P}}clipBbox(r,T,R,E,P){r.ctx.rect(T,R,E-T,P-R),r.clip(),r.endPath()}setFillAndStrokeStyleToContext(r,T,R){const E=r.ctx,P=r.current;switch(T){case 1:const t=this.ctx;E.fillStyle=t.fillStyle,E.strokeStyle=t.strokeStyle,P.fillColor=t.fillStyle,P.strokeColor=t.strokeStyle;break;case 2:const s=d.Util.makeHexColor(R[0],R[1],R[2]);E.fillStyle=s,E.strokeStyle=s,P.fillColor=s,P.strokeColor=s;break;default:throw new d.FormatError(`Unsupported paint type: ${T}`)}}getPattern(r,T,R,E){let P=R;E!==te.SHADING&&(P=d.Util.transform(P,T.baseTransform),this.matrix&&(P=d.Util.transform(P,this.matrix)));const t=this.createPatternCanvas(T);let s=new DOMMatrix(P);s=s.translate(t.offsetX,t.offsetY),s=s.scale(1/t.scaleX,1/t.scaleY);const S=r.createPattern(t.canvas,"repeat");try{S.setTransform(s)}catch(C){(0,d.warn)(`TilingPattern.getPattern: "${null==C?void 0:C.message}".`)}return S}}v.TilingPattern=y},(fe,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.GlobalWorkerOptions=void 0;const Z=Object.create(null);v.GlobalWorkerOptions=Z,Z.workerPort=void 0===Z.workerPort?null:Z.workerPort,Z.workerSrc=void 0===Z.workerSrc?"":Z.workerSrc},(fe,v,Z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.MessageHandler=void 0;var d=Z(1);function se(L){switch(L instanceof Error||"object"==typeof L&&null!==L||(0,d.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),L.name){case"AbortException":return new d.AbortException(L.message);case"MissingPDFException":return new d.MissingPDFException(L.message);case"PasswordException":return new d.PasswordException(L.message,L.code);case"UnexpectedResponseException":return new d.UnexpectedResponseException(L.message,L.status);case"UnknownErrorException":return new d.UnknownErrorException(L.message,L.details);default:return new d.UnknownErrorException(L.message,L.toString())}}v.MessageHandler=class{constructor(n,o,i){this.sourceName=n,this.targetName=o,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=c=>{const g=c.data;if(g.targetName!==this.sourceName)return;if(g.stream)return void this._processStreamMessage(g);if(g.callback){const u=g.callbackId,r=this.callbackCapabilities[u];if(!r)throw new Error(`Cannot resolve callback ${u}`);if(delete this.callbackCapabilities[u],1===g.callback)r.resolve(g.data);else{if(2!==g.callback)throw new Error("Unexpected callback case");r.reject(se(g.reason))}return}const y=this.actionHandler[g.action];if(!y)throw new Error(`Unknown action from worker: ${g.action}`);if(g.callbackId){const u=this.sourceName,r=g.sourceName;new Promise(function(T){T(y(g.data))}).then(function(T){i.postMessage({sourceName:u,targetName:r,callback:1,callbackId:g.callbackId,data:T})},function(T){i.postMessage({sourceName:u,targetName:r,callback:2,callbackId:g.callbackId,reason:se(T)})})}else g.streamId?this._createStreamSink(g):y(g.data)},i.addEventListener("message",this._onComObjOnMessage)}on(n,o){const i=this.actionHandler;if(i[n])throw new Error(`There is already an actionName called "${n}"`);i[n]=o}send(n,o,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:n,data:o},i)}sendWithPromise(n,o,i){const c=this.callbackId++,g=(0,d.createPromiseCapability)();this.callbackCapabilities[c]=g;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:n,callbackId:c,data:o},i)}catch(y){g.reject(y)}return g.promise}sendWithStream(n,o,i,c){const g=this.streamId++,y=this.sourceName,u=this.targetName,r=this.comObj;return new ReadableStream({start:T=>{const R=(0,d.createPromiseCapability)();return this.streamControllers[g]={controller:T,startCall:R,pullCall:null,cancelCall:null,isClosed:!1},r.postMessage({sourceName:y,targetName:u,action:n,streamId:g,data:o,desiredSize:T.desiredSize},c),R.promise},pull:T=>{const R=(0,d.createPromiseCapability)();return this.streamControllers[g].pullCall=R,r.postMessage({sourceName:y,targetName:u,stream:6,streamId:g,desiredSize:T.desiredSize}),R.promise},cancel:T=>{(0,d.assert)(T instanceof Error,"cancel must have a valid reason");const R=(0,d.createPromiseCapability)();return this.streamControllers[g].cancelCall=R,this.streamControllers[g].isClosed=!0,r.postMessage({sourceName:y,targetName:u,stream:1,streamId:g,reason:se(T)}),R.promise}},i)}_createStreamSink(n){const o=n.streamId,i=this.sourceName,c=n.sourceName,g=this.comObj,y=this,u=this.actionHandler[n.action],r={enqueue(T,R=1,E){if(this.isCancelled)return;const P=this.desiredSize;this.desiredSize-=R,P>0&&this.desiredSize<=0&&(this.sinkCapability=(0,d.createPromiseCapability)(),this.ready=this.sinkCapability.promise),g.postMessage({sourceName:i,targetName:c,stream:4,streamId:o,chunk:T},E)},close(){this.isCancelled||(this.isCancelled=!0,g.postMessage({sourceName:i,targetName:c,stream:3,streamId:o}),delete y.streamSinks[o])},error(T){(0,d.assert)(T instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,g.postMessage({sourceName:i,targetName:c,stream:5,streamId:o,reason:se(T)}))},sinkCapability:(0,d.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:n.desiredSize,ready:null};r.sinkCapability.resolve(),r.ready=r.sinkCapability.promise,this.streamSinks[o]=r,new Promise(function(T){T(u(n.data,r))}).then(function(){g.postMessage({sourceName:i,targetName:c,stream:8,streamId:o,success:!0})},function(T){g.postMessage({sourceName:i,targetName:c,stream:8,streamId:o,reason:se(T)})})}_processStreamMessage(n){const o=n.streamId,i=this.sourceName,c=n.sourceName,g=this.comObj,y=this.streamControllers[o],u=this.streamSinks[o];switch(n.stream){case 8:n.success?y.startCall.resolve():y.startCall.reject(se(n.reason));break;case 7:n.success?y.pullCall.resolve():y.pullCall.reject(se(n.reason));break;case 6:if(!u){g.postMessage({sourceName:i,targetName:c,stream:7,streamId:o,success:!0});break}u.desiredSize<=0&&n.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=n.desiredSize,new Promise(function(r){r(u.onPull&&u.onPull())}).then(function(){g.postMessage({sourceName:i,targetName:c,stream:7,streamId:o,success:!0})},function(r){g.postMessage({sourceName:i,targetName:c,stream:7,streamId:o,reason:se(r)})});break;case 4:if((0,d.assert)(y,"enqueue should have stream controller"),y.isClosed)break;y.controller.enqueue(n.chunk);break;case 3:if((0,d.assert)(y,"close should have stream controller"),y.isClosed)break;y.isClosed=!0,y.controller.close(),this._deleteStreamController(y,o);break;case 5:(0,d.assert)(y,"error should have stream controller"),y.controller.error(se(n.reason)),this._deleteStreamController(y,o);break;case 2:n.success?y.cancelCall.resolve():y.cancelCall.reject(se(n.reason)),this._deleteStreamController(y,o);break;case 1:if(!u)break;new Promise(function(r){r(u.onCancel&&u.onCancel(se(n.reason)))}).then(function(){g.postMessage({sourceName:i,targetName:c,stream:2,streamId:o,success:!0})},function(r){g.postMessage({sourceName:i,targetName:c,stream:2,streamId:o,reason:se(r)})}),u.sinkCapability.reject(se(n.reason)),u.isCancelled=!0,delete this.streamSinks[o];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(n,o){var i=this;return _asyncToGenerator(function*(){yield Promise.allSettled([n.startCall&&n.startCall.promise,n.pullCall&&n.pullCall.promise,n.cancelCall&&n.cancelCall.promise]),delete i.streamControllers[o]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(fe,v,Z)=>{var D,se;Object.defineProperty(v,"__esModule",{value:!0}),v.Metadata=void 0;var d=Z(1);D=new WeakMap,se=new WeakMap,v.Metadata=class{constructor({parsedData:L,rawData:n}){Me(this,D,void 0),Me(this,se,void 0),De(this,D,L),De(this,se,n)}getRaw(){return ye(this,se)}get(L){var n;return null!=(n=ye(this,D).get(L))?n:null}getAll(){return(0,d.objectFromMap)(ye(this,D))}has(L){return ye(this,D).has(L)}}},(fe,v,Z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.OptionalContentConfig=void 0;var d=Z(1);class te{constructor(Y,L){this.visible=!0,this.name=Y,this.intent=L}}v.OptionalContentConfig=class{constructor(Y){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==Y){this.name=Y.name,this.creator=Y.creator,this._order=Y.order;for(const L of Y.groups)this._groups.set(L.id,new te(L.name,L.intent));if("OFF"===Y.baseState)for(const L of this._groups)L.visible=!1;for(const L of Y.on)this._groups.get(L).visible=!0;for(const L of Y.off)this._groups.get(L).visible=!1}}_evaluateVisibilityExpression(Y){const L=Y.length;if(L<2)return!0;const n=Y[0];for(let o=1;o<L;o++){const i=Y[o];let c;if(Array.isArray(i))c=this._evaluateVisibilityExpression(i);else{if(!this._groups.has(i))return(0,d.warn)(`Optional content group not found: ${i}`),!0;c=this._groups.get(i).visible}switch(n){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return"And"===n}isVisible(Y){if(0===this._groups.size)return!0;if(!Y)return(0,d.warn)("Optional content group not defined."),!0;if("OCG"===Y.type)return this._groups.has(Y.id)?this._groups.get(Y.id).visible:((0,d.warn)(`Optional content group not found: ${Y.id}`),!0);if("OCMD"===Y.type){if(Y.expression)return this._evaluateVisibilityExpression(Y.expression);if(!Y.policy||"AnyOn"===Y.policy){for(const L of Y.ids){if(!this._groups.has(L))return(0,d.warn)(`Optional content group not found: ${L}`),!0;if(this._groups.get(L).visible)return!0}return!1}if("AllOn"===Y.policy){for(const L of Y.ids){if(!this._groups.has(L))return(0,d.warn)(`Optional content group not found: ${L}`),!0;if(!this._groups.get(L).visible)return!1}return!0}if("AnyOff"===Y.policy){for(const L of Y.ids){if(!this._groups.has(L))return(0,d.warn)(`Optional content group not found: ${L}`),!0;if(!this._groups.get(L).visible)return!0}return!1}if("AllOff"===Y.policy){for(const L of Y.ids){if(!this._groups.has(L))return(0,d.warn)(`Optional content group not found: ${L}`),!0;if(this._groups.get(L).visible)return!1}return!0}return(0,d.warn)(`Unknown optional content policy ${Y.policy}.`),!0}return(0,d.warn)(`Unknown group type ${Y.type}.`),!0}setVisibility(Y,L=!0){this._groups.has(Y)?this._groups.get(Y).visible=!!L:(0,d.warn)(`Optional content group not found: ${Y}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,d.objectFromMap)(this._groups):null}getGroup(Y){return this._groups.get(Y)||null}}},(fe,v,Z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.PDFDataTransportStream=void 0;var d=Z(1),te=Z(5);v.PDFDataTransportStream=class{constructor(n,o){(0,d.assert)(o,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=n.progressiveDone||!1,this._contentDispositionFilename=n.contentDispositionFilename||null;const i=n.initialData;if((null==i?void 0:i.length)>0){const c=new Uint8Array(i).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=o,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._contentLength=n.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((c,g)=>{this._onReceiveData({begin:c,chunk:g})}),this._pdfDataRangeTransport.addProgressListener((c,g)=>{this._onProgress({loaded:c,total:g})}),this._pdfDataRangeTransport.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(n){const o=new Uint8Array(n.chunk).buffer;if(void 0===n.begin)this._fullRequestReader?this._fullRequestReader._enqueue(o):this._queuedChunks.push(o);else{const i=this._rangeReaders.some(function(c){return c._begin===n.begin&&(c._enqueue(o),!0)});(0,d.assert)(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var n,o;return null!=(o=null==(n=this._fullRequestReader)?void 0:n._loaded)?o:0}_onProgress(n){if(void 0===n.total){const o=this._rangeReaders[0];(null==o?void 0:o.onProgress)&&o.onProgress({loaded:n.loaded})}else{const o=this._fullRequestReader;(null==o?void 0:o.onProgress)&&o.onProgress({loaded:n.loaded,total:n.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(n){const o=this._rangeReaders.indexOf(n);o>=0&&this._rangeReaders.splice(o,1)}getFullReader(){(0,d.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const n=this._queuedChunks;return this._queuedChunks=null,new se(this,n,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(n,o){if(o<=this._progressiveDataLength)return null;const i=new Y(this,n,o);return this._pdfDataRangeTransport.requestDataRange(n,o),this._rangeReaders.push(i),i}cancelAllRequests(n){this._fullRequestReader&&this._fullRequestReader.cancel(n);for(const o of this._rangeReaders.slice(0))o.cancel(n);this._pdfDataRangeTransport.abort()}};class se{constructor(n,o,i=!1,c=null){this._stream=n,this._done=i||!1,this._filename=(0,te.isPdfFile)(c)?c:null,this._queuedChunks=o||[],this._loaded=0;for(const g of this._queuedChunks)this._loaded+=g.byteLength;this._requests=[],this._headersReady=Promise.resolve(),n._fullRequestReader=this,this.onProgress=null}_enqueue(n){this._done||(this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunks.push(n),this._loaded+=n.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var n=this;return _asyncToGenerator(function*(){if(n._queuedChunks.length>0)return{value:n._queuedChunks.shift(),done:!1};if(n._done)return{value:void 0,done:!0};const o=(0,d.createPromiseCapability)();return n._requests.push(o),o.promise})()}cancel(n){this._done=!0;for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Y{constructor(n,o,i){this._stream=n,this._begin=o,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(n){if(!this._done){if(0===this._requests.length)this._queuedChunk=n;else{this._requests.shift().resolve({value:n,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var n=this;return _asyncToGenerator(function*(){if(n._queuedChunk){const i=n._queuedChunk;return n._queuedChunk=null,{value:i,done:!1}}if(n._done)return{value:void 0,done:!0};const o=(0,d.createPromiseCapability)();return n._requests.push(o),o.promise})()}cancel(n){this._done=!0;for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(fe,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.XfaText=void 0;class Z{static textContent(te){const D=[],se={items:D,styles:Object.create(null)};return function Y(L){var i;if(!L)return;let n=null;const o=L.name;if("#text"===o)n=L.value;else{if(!Z.shouldBuildText(o))return;(null==(i=null==L?void 0:L.attributes)?void 0:i.textContent)?n=L.attributes.textContent:L.value&&(n=L.value)}if(null!==n&&D.push({str:n}),L.children)for(const c of L.children)Y(c)}(te),se}static shouldBuildText(te){return!("textarea"===te||"input"===te||"option"===te||"select"===te)}}v.XfaText=Z},(fe,v,Z)=>{var p,mt;Object.defineProperty(v,"__esModule",{value:!0}),v.AnnotationLayer=void 0;var d=Z(1),te=Z(5),D=Z(9),se=Z(19),Y=Z(20);const L=1e3,n=new WeakSet;function o(w){return{width:w[2]-w[0],height:w[3]-w[1]}}class i{static create(e){switch(e.data.annotationType){case d.AnnotationType.LINK:return new g(e);case d.AnnotationType.TEXT:return new y(e);case d.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new r(e);case"Btn":return e.data.radioButton?new R(e):e.data.checkBox?new T(e):new E(e);case"Ch":return new P(e)}return new u(e);case d.AnnotationType.POPUP:return new t(e);case d.AnnotationType.FREETEXT:return new S(e);case d.AnnotationType.LINE:return new C(e);case d.AnnotationType.SQUARE:return new _(e);case d.AnnotationType.CIRCLE:return new N(e);case d.AnnotationType.POLYLINE:return new F(e);case d.AnnotationType.CARET:return new j(e);case d.AnnotationType.INK:return new O(e);case d.AnnotationType.POLYGON:return new V(e);case d.AnnotationType.HIGHLIGHT:return new B(e);case d.AnnotationType.UNDERLINE:return new G(e);case d.AnnotationType.SQUIGGLY:return new U(e);case d.AnnotationType.STRIKEOUT:return new $(e);case d.AnnotationType.STAMP:return new m(e);case d.AnnotationType.FILEATTACHMENT:return new l(e);default:return new c(e)}}}class c{constructor(e,{isRenderable:f=!1,ignoreBorder:A=!1,createQuadrilaterals:M=!1}={}){this.isRenderable=f,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,f&&(this.container=this._createContainer(A)),M&&(this.quadrilaterals=this._createQuadrilaterals(A))}_createContainer(e=!1){const f=this.data,A=this.page,M=this.viewport,h=document.createElement("section");let{width:k,height:I}=o(f.rect);h.setAttribute("data-annotation-id",f.id);const H=d.Util.normalizeRect([f.rect[0],A.view[3]-f.rect[1]+A.view[1],f.rect[2],A.view[3]-f.rect[3]+A.view[1]]);if(f.hasOwnCanvas){const W=M.transform.slice(),[Q,oe]=d.Util.singularValueDecompose2dScale(W);k=Math.ceil(k*Q),I=Math.ceil(I*oe),H[0]*=Q,H[1]*=oe;for(let le=0;le<4;le++)W[le]=Math.sign(W[le]);h.style.transform=`matrix(${W.join(",")})`}else h.style.transform=`matrix(${M.transform.join(",")})`;if(h.style.transformOrigin=`${-H[0]}px ${-H[1]}px`,!e&&f.borderStyle.width>0){h.style.borderWidth=`${f.borderStyle.width}px`,f.borderStyle.style!==d.AnnotationBorderStyleType.UNDERLINE&&(k-=2*f.borderStyle.width,I-=2*f.borderStyle.width);const W=f.borderStyle.horizontalCornerRadius,Q=f.borderStyle.verticalCornerRadius;switch((W>0||Q>0)&&(h.style.borderRadius=`${W}px / ${Q}px`),f.borderStyle.style){case d.AnnotationBorderStyleType.SOLID:h.style.borderStyle="solid";break;case d.AnnotationBorderStyleType.DASHED:h.style.borderStyle="dashed";break;case d.AnnotationBorderStyleType.BEVELED:(0,d.warn)("Unimplemented border style: beveled");break;case d.AnnotationBorderStyleType.INSET:(0,d.warn)("Unimplemented border style: inset");break;case d.AnnotationBorderStyleType.UNDERLINE:h.style.borderBottomStyle="solid"}f.borderColor||f.color?h.style.borderColor=d.Util.makeHexColor(0|f.color[0],0|f.color[1],0|f.color[2]):h.style.borderWidth=0}return h.style.left=`${H[0]}px`,h.style.top=`${H[1]}px`,f.hasOwnCanvas?h.style.width=h.style.height="auto":(h.style.width=`${k}px`,h.style.height=`${I}px`),h}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const f=[],A=this.data.rect;for(const M of this.data.quadPoints)this.data.rect=[M[2].x,M[2].y,M[1].x,M[1].y],f.push(this._createContainer(e));return this.data.rect=A,f}_createPopup(e,f){let A=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,A=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=A.style.height,e.style.width=A.style.width,A.appendChild(e));const h=new s({container:A,trigger:e,color:f.color,titleObj:f.titleObj,modificationDate:f.modificationDate,contentsObj:f.contentsObj,richText:f.richText,hideWrapper:!0}).render();h.style.left=A.style.width,A.appendChild(h)}_renderQuadrilaterals(e){for(const f of this.quadrilaterals)f.className=e;return this.quadrilaterals}render(){(0,d.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,f=null){const A=[];if(this._fieldObjects){const M=this._fieldObjects[e];if(M)for(const{page:h,id:k,exportValues:I}of M){if(-1===h||k===f)continue;const H="string"==typeof I?I:null,W=document.getElementById(k);!W||n.has(W)?A.push({id:k,exportValue:H,domElement:W}):(0,d.warn)(`_getElementsByName - element not allowed: ${k}`)}return A}for(const M of document.getElementsByName(e)){const{id:h,exportValue:k}=M;h!==f&&(!n.has(M)||A.push({id:h,exportValue:k,domElement:M}))}return A}static get platform(){const e="undefined"!=typeof navigator?navigator.platform:"";return(0,d.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class g extends c{constructor(e,f=null){super(e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),ignoreBorder:!!(null==f?void 0:f.ignoreBorder),createQuadrilaterals:!0})}render(){var M;const{data:e,linkService:f}=this,A=document.createElement("a");if(e.url)f.addLinkAttributes||(0,d.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),null==(M=f.addLinkAttributes)||M.call(f,A,e.url,e.newWindow);else if(e.action)this._bindNamedAction(A,e.action);else if(e.dest)this._bindLink(A,e.dest);else{let h=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(h=!0,this._bindJSAction(A,e)),e.resetForm?this._bindResetFormAction(A,e.resetForm):h||this._bindLink(A,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((h,k)=>{const I=0===k?A:A.cloneNode();return h.appendChild(I),h}):(this.container.className="linkAnnotation",this.container.appendChild(A),this.container)}_bindLink(e,f){e.href=this.linkService.getDestinationHash(f),e.onclick=()=>(f&&this.linkService.goToDestination(f),!1),(f||""===f)&&(e.className="internalLink")}_bindNamedAction(e,f){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(f),!1),e.className="internalLink"}_bindJSAction(e,f){e.href=this.linkService.getAnchorUrl("");const A=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const M of Object.keys(f.actions)){const h=A.get(M);!h||(e[h]=()=>{var k;return null==(k=this.linkService.eventBus)||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f.id,name:M}}),!1})}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,f){const A=e.onclick;if(A||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,d.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(A||(e.onclick=()=>!1));e.onclick=()=>{var Q;A&&A();const{fields:M,refs:h,include:k}=f,I=[];if(0!==M.length||0!==h.length){const oe=new Set(h);for(const le of M){const ue=this._fieldObjects[le]||[];for(const{id:x}of ue)oe.add(x)}for(const le of Object.values(this._fieldObjects))for(const ue of le)oe.has(ue.id)===k&&I.push(ue)}else for(const oe of Object.values(this._fieldObjects))I.push(...oe);const H=this.annotationStorage,W=[];for(const oe of I){const{id:le}=oe;switch(W.push(le),oe.type){case"text":{const x=oe.defaultValue||"";H.setValue(le,{value:x,valueAsString:x});break}case"checkbox":case"radiobutton":H.setValue(le,{value:oe.defaultValue===oe.exportValues});break;case"combobox":case"listbox":H.setValue(le,{value:oe.defaultValue||""});break;default:continue}const ue=document.getElementById(le);!ue||!n.has(ue)||ue.dispatchEvent(new Event("resetform"))}return this.enableScripting&&(null==(Q=this.linkService.eventBus)||Q.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:W,name:"ResetForm"}})),!1}}}class y extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str))})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}class u extends c{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:f,isMac:A}=c.platform;return f&&e.ctrlKey||A&&e.metaKey}_setEventListener(e,f,A,M){f.includes("mouse")?e.addEventListener(f,h=>{var k;null==(k=this.linkService.eventBus)||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:A,value:M(h),shift:h.shiftKey,modifier:this._getKeyModifier(h)}})}):e.addEventListener(f,h=>{var k;null==(k=this.linkService.eventBus)||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:A,value:M(h)}})})}_setEventListeners(e,f,A){var M;for(const[h,k]of f)("Action"===k||(null==(M=this.data.actions)?void 0:M[k]))&&this._setEventListener(e,h,k,A)}_setBackgroundColor(e){const f=this.data.backgroundColor||null;e.style.backgroundColor=null===f?"transparent":d.Util.makeHexColor(f[0],f[1],f[2])}_dispatchEventFromSandbox(e,f){const A=(h,k,I)=>{const H=I.detail[h];I.target.style[k]=se.ColorConverters[`${H[0]}_HTML`](H.slice(1))},M={display:h=>{const k=h.detail.display%2==1;h.target.style.visibility=k?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:k,print:0===h.detail.display||3===h.detail.display})},print:h=>{this.annotationStorage.setValue(this.data.id,{print:h.detail.print})},hidden:h=>{h.target.style.visibility=h.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:h.detail.hidden})},focus:h=>{setTimeout(()=>h.target.focus({preventScroll:!1}),0)},userName:h=>{h.target.title=h.detail.userName},readonly:h=>{h.detail.readonly?h.target.setAttribute("readonly",""):h.target.removeAttribute("readonly")},required:h=>{h.detail.required?h.target.setAttribute("required",""):h.target.removeAttribute("required")},bgColor:h=>{A("bgColor","backgroundColor",h)},fillColor:h=>{A("fillColor","backgroundColor",h)},fgColor:h=>{A("fgColor","color",h)},textColor:h=>{A("textColor","color",h)},borderColor:h=>{A("borderColor","borderColor",h)},strokeColor:h=>{A("strokeColor","borderColor",h)}};for(const h of Object.keys(f.detail)){const k=e[h]||M[h];k&&k(f)}}}class r extends u{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,f,A,M){const h=this.annotationStorage;for(const k of this._getElementsByName(e.name,e.id))k.domElement&&(k.domElement[f]=A),h.setValue(k.id,{[M]:A})}render(){var M;const e=this.annotationStorage,f=this.data.id;this.container.className="textWidgetAnnotation";let A=null;if(this.renderForms){const h=e.getValue(f,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),k=h.valueAsString||h.value||"",I={userValue:null,formattedValue:null};this.data.multiLine?(A=document.createElement("textarea"),A.textContent=k):(A=document.createElement("input"),A.type="text",A.setAttribute("value",k)),n.add(A),A.disabled=this.data.readOnly,A.name=this.data.fieldName,A.tabIndex=L,I.userValue=k,A.setAttribute("id",f),A.addEventListener("input",W=>{e.setValue(f,{value:W.target.value}),this.setPropertyOnSiblings(A,"value",W.target.value,"value")}),A.addEventListener("resetform",W=>{A.value=I.userValue=this.data.defaultFieldValue||"",delete I.formattedValue});let H=W=>{I.formattedValue&&(W.target.value=I.formattedValue),W.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){A.addEventListener("focus",Q=>{I.userValue&&(Q.target.value=I.userValue)}),A.addEventListener("updatefromsandbox",Q=>{this._dispatchEventFromSandbox({value(le){I.userValue=le.detail.value||"",e.setValue(f,{value:I.userValue.toString()}),I.formattedValue||(le.target.value=I.userValue)},valueAsString(le){I.formattedValue=le.detail.valueAsString||"",le.target!==document.activeElement&&(le.target.value=I.formattedValue),e.setValue(f,{formattedValue:I.formattedValue})},selRange(le){const[ue,x]=le.detail.selRange;ue>=0&&x<le.target.value.length&&le.target.setSelectionRange(ue,x)}},Q)}),A.addEventListener("keydown",Q=>{var le;let oe=-1;"Escape"===Q.key?oe=0:"Enter"===Q.key?oe=2:"Tab"===Q.key&&(oe=3),-1!==oe&&(I.userValue=Q.target.value,null==(le=this.linkService.eventBus)||le.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:Q.target.value,willCommit:!0,commitKey:oe,selStart:Q.target.selectionStart,selEnd:Q.target.selectionEnd}}))});const W=H;H=null,A.addEventListener("blur",Q=>{var oe;I.userValue=Q.target.value,this._mouseState.isDown&&(null==(oe=this.linkService.eventBus)||oe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:Q.target.value,willCommit:!0,commitKey:1,selStart:Q.target.selectionStart,selEnd:Q.target.selectionEnd}})),W(Q)}),(null==(M=this.data.actions)?void 0:M.Keystroke)&&A.addEventListener("beforeinput",Q=>{var ce;I.formattedValue="";const{data:oe,target:le}=Q,{value:ue,selectionStart:x,selectionEnd:q}=le;null==(ce=this.linkService.eventBus)||ce.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:ue,change:oe,willCommit:!1,selStart:x,selEnd:q}})}),this._setEventListeners(A,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Q=>Q.target.value)}if(H&&A.addEventListener("blur",H),null!==this.data.maxLen&&(A.maxLength=this.data.maxLen),this.data.comb){const Q=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;A.classList.add("comb"),A.style.letterSpacing=`calc(${Q}px - 1ch)`}}else A=document.createElement("div"),A.textContent=this.data.fieldValue,A.style.verticalAlign="middle",A.style.display="table-cell";return this._setTextStyle(A),this._setBackgroundColor(A),this.container.appendChild(A),this.container}_setTextStyle(e){const{fontSize:A,fontColor:M}=this.data.defaultAppearanceData,h=e.style;A&&(h.fontSize=`${A}px`),h.color=d.Util.makeHexColor(M[0],M[1],M[2]),null!==this.data.textAlignment&&(h.textAlign=["left","center","right"][this.data.textAlignment])}}class T extends u{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,f=this.data,A=f.id;let M=e.getValue(A,{value:f.exportValue===f.fieldValue}).value;"string"==typeof M&&(M="Off"!==M,e.setValue(A,{value:M})),this.container.className="buttonWidgetAnnotation checkBox";const h=document.createElement("input");return n.add(h),h.disabled=f.readOnly,h.type="checkbox",h.name=f.fieldName,M&&h.setAttribute("checked",!0),h.setAttribute("id",A),h.setAttribute("exportValue",f.exportValue),h.tabIndex=L,h.addEventListener("change",k=>{const{name:I,checked:H}=k.target;for(const W of this._getElementsByName(I,A)){const Q=H&&W.exportValue===f.exportValue;W.domElement&&(W.domElement.checked=Q),e.setValue(W.id,{value:Q})}e.setValue(A,{value:H})}),h.addEventListener("resetform",k=>{k.target.checked=(f.defaultFieldValue||"Off")===f.exportValue}),this.enableScripting&&this.hasJSActions&&(h.addEventListener("updatefromsandbox",k=>{this._dispatchEventFromSandbox({value(H){H.target.checked="Off"!==H.detail.value,e.setValue(A,{value:H.target.checked})}},k)}),this._setEventListeners(h,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],k=>k.target.checked)),this._setBackgroundColor(h),this.container.appendChild(h),this.container}}class R extends u{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,f=this.data,A=f.id;let M=e.getValue(A,{value:f.fieldValue===f.buttonValue}).value;"string"==typeof M&&(M=M!==f.buttonValue,e.setValue(A,{value:M}));const h=document.createElement("input");if(n.add(h),h.disabled=f.readOnly,h.type="radio",h.name=f.fieldName,M&&h.setAttribute("checked",!0),h.setAttribute("id",A),h.tabIndex=L,h.addEventListener("change",k=>{const{name:I,checked:H}=k.target;for(const W of this._getElementsByName(I,A))e.setValue(W.id,{value:!1});e.setValue(A,{value:H})}),h.addEventListener("resetform",k=>{const I=f.defaultFieldValue;k.target.checked=null!=I&&I===f.buttonValue}),this.enableScripting&&this.hasJSActions){const k=f.buttonValue;h.addEventListener("updatefromsandbox",I=>{this._dispatchEventFromSandbox({value:W=>{const Q=k===W.detail.value;for(const oe of this._getElementsByName(W.target.name)){const le=Q&&oe.id===A;oe.domElement&&(oe.domElement.checked=le),e.setValue(oe.id,{value:le})}}},I)}),this._setEventListeners(h,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],I=>I.target.checked)}return this._setBackgroundColor(h),this.container.appendChild(h),this.container}}class E extends g{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),e}}class P extends u{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,f=this.data.id;e.getValue(f,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});let{fontSize:A}=this.data.defaultAppearanceData;A||(A=9);const M=`calc(${A}px * var(--zoom-factor))`,h=document.createElement("select");n.add(h),h.disabled=this.data.readOnly,h.name=this.data.fieldName,h.setAttribute("id",f),h.tabIndex=L,h.style.fontSize=`${A}px`,this.data.combo||(h.size=this.data.options.length,this.data.multiSelect&&(h.multiple=!0)),h.addEventListener("resetform",H=>{const W=this.data.defaultFieldValue;for(const Q of h.options)Q.selected=Q.value===W});for(const H of this.data.options){const W=document.createElement("option");W.textContent=H.displayValue,W.value=H.exportValue,this.data.combo&&(W.style.fontSize=M),this.data.fieldValue.includes(H.exportValue)&&W.setAttribute("selected",!0),h.appendChild(W)}const k=(H,W)=>{const Q=W?"value":"textContent",oe=H.target.options;return H.target.multiple?Array.prototype.filter.call(oe,le=>le.selected).map(le=>le[Q]):-1===oe.selectedIndex?null:oe[oe.selectedIndex][Q]},I=H=>Array.prototype.map.call(H.target.options,Q=>({displayValue:Q.textContent,exportValue:Q.value}));return this.enableScripting&&this.hasJSActions?(h.addEventListener("updatefromsandbox",H=>{this._dispatchEventFromSandbox({value(Q){const oe=Q.detail.value,le=new Set(Array.isArray(oe)?oe:[oe]);for(const ue of h.options)ue.selected=le.has(ue.value);e.setValue(f,{value:k(Q,!0)})},multipleSelection(Q){h.multiple=!0},remove(Q){const oe=h.options,le=Q.detail.remove;oe[le].selected=!1,h.remove(le),oe.length>0&&-1===Array.prototype.findIndex.call(oe,x=>x.selected)&&(oe[0].selected=!0),e.setValue(f,{value:k(Q,!0),items:I(Q)})},clear(Q){for(;0!==h.length;)h.remove(0);e.setValue(f,{value:null,items:[]})},insert(Q){const{index:oe,displayValue:le,exportValue:ue}=Q.detail.insert,x=document.createElement("option");x.textContent=le,x.value=ue,h.insertBefore(x,h.children[oe]),e.setValue(f,{value:k(Q,!0),items:I(Q)})},items(Q){const{items:oe}=Q.detail;for(;0!==h.length;)h.remove(0);for(const le of oe){const{displayValue:ue,exportValue:x}=le,q=document.createElement("option");q.textContent=ue,q.value=x,h.appendChild(q)}h.options.length>0&&(h.options[0].selected=!0),e.setValue(f,{value:k(Q,!0),items:I(Q)})},indices(Q){const oe=new Set(Q.detail.indices);for(const le of Q.target.options)le.selected=oe.has(le.index);e.setValue(f,{value:k(Q,!0)})},editable(Q){Q.target.disabled=!Q.detail.editable}},H)}),h.addEventListener("input",H=>{var oe;const W=k(H,!0),Q=k(H,!1);e.setValue(f,{value:W}),null==(oe=this.linkService.eventBus)||oe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:Q,changeEx:W,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],H=>H.target.checked)):h.addEventListener("input",function(H){e.setValue(f,{value:k(H)})}),this._setBackgroundColor(h),this.container.appendChild(h),this.container}}class t extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!((null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str))})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const A=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===A.length)return this.container;const M=new s({container:this.container,trigger:Array.from(A),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),h=this.page,k=d.Util.normalizeRect([this.data.parentRect[0],h.view[3]-this.data.parentRect[1]+h.view[1],this.data.parentRect[2],h.view[3]-this.data.parentRect[3]+h.view[1]]),I=k[0]+this.data.parentRect[2]-this.data.parentRect[0],H=k[1];return this.container.style.transformOrigin=`${-I}px ${-H}px`,this.container.style.left=`${I}px`,this.container.style.top=`${H}px`,this.container.appendChild(M.render()),this.container}}class s{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){var I,H;const f=document.createElement("div");f.className="popupWrapper",this.hideElement=this.hideWrapper?f:this.container,this.hideElement.hidden=!0;const A=document.createElement("div");A.className="popup";const M=this.color;M&&(A.style.backgroundColor=d.Util.makeHexColor(0|.7*(255-M[0])+M[0],0|.7*(255-M[1])+M[1],0|.7*(255-M[2])+M[2]));const h=document.createElement("h1");h.dir=this.titleObj.dir,h.textContent=this.titleObj.str,A.appendChild(h);const k=te.PDFDateString.toDateObject(this.modificationDate);if(k){const W=document.createElement("span");W.className="popupDate",W.textContent="{{date}}, {{time}}",W.dataset.l10nId="annotation_date_string",W.dataset.l10nArgs=JSON.stringify({date:k.toLocaleDateString(),time:k.toLocaleTimeString()}),A.appendChild(W)}if(!(null==(I=this.richText)?void 0:I.str)||(null==(H=this.contentsObj)?void 0:H.str)&&this.contentsObj.str!==this.richText.str){const W=this._formatContents(this.contentsObj);A.appendChild(W)}else Y.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:A}),A.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const W of this.trigger)W.addEventListener("click",this._toggle.bind(this)),W.addEventListener("mouseover",this._show.bind(this,!1)),W.addEventListener("mouseout",this._hide.bind(this,!1));return A.addEventListener("click",this._hide.bind(this,!0)),f.appendChild(A),f}_formatContents({str:e,dir:f}){const A=document.createElement("p");A.className="popupContent",A.dir=f;const M=e.split(/(?:\r\n?|\n)/);for(let h=0,k=M.length;h<k;++h)A.appendChild(document.createTextNode(M[h])),h<k-1&&A.appendChild(document.createElement("br"));return A}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class S extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str)),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class C extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str)),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:f,height:A}=o(e.rect),M=this.svgFactory.create(f,A),h=this.svgFactory.createElement("svg:line");return h.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),h.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),h.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),h.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),h.setAttribute("stroke-width",e.borderStyle.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),M.appendChild(h),this.container.append(M),this._createPopup(h,e),this.container}}class _ extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str)),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:f,height:A}=o(e.rect),M=this.svgFactory.create(f,A),h=e.borderStyle.width,k=this.svgFactory.createElement("svg:rect");return k.setAttribute("x",h/2),k.setAttribute("y",h/2),k.setAttribute("width",f-h),k.setAttribute("height",A-h),k.setAttribute("stroke-width",h||1),k.setAttribute("stroke","transparent"),k.setAttribute("fill","transparent"),M.appendChild(k),this.container.append(M),this._createPopup(k,e),this.container}}class N extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str)),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:f,height:A}=o(e.rect),M=this.svgFactory.create(f,A),h=e.borderStyle.width,k=this.svgFactory.createElement("svg:ellipse");return k.setAttribute("cx",f/2),k.setAttribute("cy",A/2),k.setAttribute("rx",f/2-h/2),k.setAttribute("ry",A/2-h/2),k.setAttribute("stroke-width",h||1),k.setAttribute("stroke","transparent"),k.setAttribute("fill","transparent"),M.appendChild(k),this.container.append(M),this._createPopup(k,e),this.container}}class F extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str)),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:f,height:A}=o(e.rect),M=this.svgFactory.create(f,A);let h=[];for(const I of e.vertices)h.push(I.x-e.rect[0]+","+(e.rect[3]-I.y));h=h.join(" ");const k=this.svgFactory.createElement(this.svgElementName);return k.setAttribute("points",h),k.setAttribute("stroke-width",e.borderStyle.width||1),k.setAttribute("stroke","transparent"),k.setAttribute("fill","transparent"),M.appendChild(k),this.container.append(M),this._createPopup(k,e),this.container}}class V extends F{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class j extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str)),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class O extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str)),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:f,height:A}=o(e.rect),M=this.svgFactory.create(f,A);for(const h of e.inkLists){let k=[];for(const H of h)k.push(`${H.x-e.rect[0]},${e.rect[3]-H.y}`);k=k.join(" ");const I=this.svgFactory.createElement(this.svgElementName);I.setAttribute("points",k),I.setAttribute("stroke-width",e.borderStyle.width||1),I.setAttribute("stroke","transparent"),I.setAttribute("fill","transparent"),this._createPopup(I,e),M.appendChild(I)}return this.container.append(M),this.container}}class B extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class G extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class U extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class $ extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class m extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str)),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class l extends c{constructor(e){var M;super(e,{isRenderable:!0});const{filename:f,content:A}=this.data.file;this.filename=(0,te.getFilenameFromUrl)(f),this.content=A,null==(M=this.linkService.eventBus)||M.dispatch("fileattachmentannotation",{source:this,id:(0,d.stringToPDFString)(f),filename:f,content:A})}render(){var f,A;this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((null==(f=this.data.titleObj)?void 0:f.str)||(null==(A=this.data.contentsObj)?void 0:A.str)||this.data.richText)&&this._createPopup(e,this.data),this.container.appendChild(e),this.container}_download(){var e;null==(e=this.downloadManager)||e.openOrDownloadData(this.container,this.content,this.filename)}}class a{static render(e){const f=[],A=[];for(const h of e.annotations){if(!h)continue;const{width:k,height:I}=o(h.rect);if(!(k<=0||I<=0)){if(h.annotationType===d.AnnotationType.POPUP){A.push(h);continue}f.push(h)}}A.length&&f.push(...A);const M=e.div;for(const h of f){const k=i.create({data:h,layer:M,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new te.DOMSVGFactory,annotationStorage:e.annotationStorage||new D.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(k.isRenderable){const I=k.render();if(h.hidden&&(I.style.visibility="hidden"),Array.isArray(I))for(const H of I)M.appendChild(H);else k instanceof t?M.prepend(I):M.appendChild(I)}}Be(this,p,mt).call(this,M,e.annotationCanvasMap)}static update(e){const{page:f,viewport:A,annotations:M,annotationCanvasMap:h,div:k}=e,I=A.transform,H=`matrix(${I.join(",")})`;let W,Q;for(const oe of M){const le=k.querySelectorAll(`[data-annotation-id="${oe.id}"]`);if(le)for(const ue of le)if(oe.hasOwnCanvas){const x=d.Util.normalizeRect([oe.rect[0],f.view[3]-oe.rect[1]+f.view[1],oe.rect[2],f.view[3]-oe.rect[3]+f.view[1]]);if(!Q){W=Math.abs(I[0]||I[1]);const ne=I.slice();for(let re=0;re<4;re++)ne[re]=Math.sign(ne[re]);Q=`matrix(${ne.join(",")})`}const q=x[0]*W,ce=x[1]*W;ue.style.left=`${q}px`,ue.style.top=`${ce}px`,ue.style.transformOrigin=`${-q}px ${-ce}px`,ue.style.transform=Q}else ue.style.transform=H}Be(this,p,mt).call(this,k,h),k.hidden=!1}}p=new WeakSet,mt=function(e,f){if(f){for(const[A,M]of f){const h=e.querySelector(`[data-annotation-id="${A}"]`);if(!h)continue;const{firstChild:k}=h;"CANVAS"===k.nodeName?h.replaceChild(M,k):h.insertBefore(M,k)}f.clear()}},Me(a,p),v.AnnotationLayer=a},(fe,v)=>{function Z(te){return Math.floor(255*Math.max(0,Math.min(1,te))).toString(16).padStart(2,"0")}Object.defineProperty(v,"__esModule",{value:!0}),v.ColorConverters=void 0,v.ColorConverters=class{static CMYK_G([D,se,Y,L]){return["G",1-Math.min(1,.3*D+.59*Y+.11*se+L)]}static G_CMYK([D]){return["CMYK",0,0,0,1-D]}static G_RGB([D]){return["RGB",D,D,D]}static G_HTML([D]){const se=Z(D);return`#${se}${se}${se}`}static RGB_G([D,se,Y]){return["G",.3*D+.59*se+.11*Y]}static RGB_HTML([D,se,Y]){return`#${Z(D)}${Z(se)}${Z(Y)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([D,se,Y,L]){return["RGB",1-Math.min(1,D+L),1-Math.min(1,Y+L),1-Math.min(1,se+L)]}static CMYK_HTML(D){return this.RGB_HTML(this.CMYK_RGB(D))}static RGB_CMYK([D,se,Y]){const L=1-D,n=1-se,o=1-Y;return["CMYK",L,n,o,Math.min(L,n,o)]}}},(fe,v,Z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.XfaLayer=void 0;var d=Z(1),te=Z(17);v.XfaLayer=class{static setupStorage(Y,L,n,o,i){const c=o.getValue(L,{value:null});switch(n.name){case"textarea":if(null!==c.value&&(Y.textContent=c.value),"print"===i)break;Y.addEventListener("input",g=>{o.setValue(L,{value:g.target.value})});break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(c.value===n.attributes.xfaOn?Y.setAttribute("checked",!0):c.value===n.attributes.xfaOff&&Y.removeAttribute("checked"),"print"===i)break;Y.addEventListener("change",g=>{o.setValue(L,{value:g.target.getAttribute(g.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==c.value&&Y.setAttribute("value",c.value),"print"===i)break;Y.addEventListener("input",g=>{o.setValue(L,{value:g.target.value})})}break;case"select":if(null!==c.value)for(const g of n.children)g.attributes.value===c.value&&(g.attributes.selected=!0);Y.addEventListener("input",g=>{const y=g.target.options;o.setValue(L,{value:-1===y.selectedIndex?"":y[y.selectedIndex].value})})}}static setAttributes({html:Y,element:L,storage:n=null,intent:o,linkService:i}){var y;const{attributes:c}=L,g=Y instanceof HTMLAnchorElement;"radio"===c.type&&(c.name=`${c.name}-${o}`);for(const[u,r]of Object.entries(c))if(null!=r&&"dataId"!==u)if("style"!==u)if("textContent"===u)Y.textContent=r;else if("class"===u)r.length&&Y.setAttribute(u,r.join(" "));else{if(g&&("href"===u||"newWindow"===u))continue;Y.setAttribute(u,r)}else Object.assign(Y.style,r);g&&(i.addLinkAttributes||(0,d.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),null==(y=i.addLinkAttributes)||y.call(i,Y,c.href,c.newWindow)),n&&c.dataId&&this.setupStorage(Y,c.dataId,L,n)}static render(Y){var r;const L=Y.annotationStorage,n=Y.linkService,o=Y.xfaHtml,i=Y.intent||"display",c=document.createElement(o.name);o.attributes&&this.setAttributes({html:c,element:o,intent:i,linkService:n});const g=[[o,-1,c]],y=Y.div;if(y.appendChild(c),Y.viewport){const T=`matrix(${Y.viewport.transform.join(",")})`;y.style.transform=T}"richText"!==i&&y.setAttribute("class","xfaLayer xfaFont");const u=[];for(;g.length>0;){const[T,R,E]=g[g.length-1];if(R+1===T.children.length){g.pop();continue}const P=T.children[++g[g.length-1][1]];if(null===P)continue;const{name:t}=P;if("#text"===t){const S=document.createTextNode(P.value);u.push(S),E.appendChild(S);continue}let s;if(s=(null==(r=null==P?void 0:P.attributes)?void 0:r.xmlns)?document.createElementNS(P.attributes.xmlns,t):document.createElement(t),E.appendChild(s),P.attributes&&this.setAttributes({html:s,element:P,storage:L,intent:i,linkService:n}),P.children&&P.children.length>0)g.push([P,-1,s]);else if(P.value){const S=document.createTextNode(P.value);te.XfaText.shouldBuildText(t)&&u.push(S),s.appendChild(S)}}for(const T of y.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))T.setAttribute("readOnly",!0);return{textDivs:u}}static update(Y){const L=`matrix(${Y.viewport.transform.join(",")})`;Y.div.style.transform=L,Y.div.hidden=!1}}},(fe,v,Z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.renderTextLayer=function(R){const E=new r({textContent:R.textContent,textContentStream:R.textContentStream,container:R.container,viewport:R.viewport,textDivs:R.textDivs,textContentItemsStr:R.textContentItemsStr,enhanceTextSelection:R.enhanceTextSelection});return E._render(R.timeout),E};var d=Z(1);const D=30,Y=new Map,L=/^\s+$/g;function o(R,E,P,t){const s=document.createElement("span"),S=R._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==E.str,hasEOL:E.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==E.str,hasEOL:E.hasEOL};R._textDivs.push(s);const C=d.Util.transform(R._viewport.transform,E.transform);let _=Math.atan2(C[1],C[0]);const N=P[E.fontName];N.vertical&&(_+=Math.PI/2);const F=Math.hypot(C[2],C[3]),V=F*function(R,E){const P=Y.get(R);if(P)return P;E.save(),E.font=`30px ${R}`;const t=E.measureText("");let s=t.fontBoundingBoxAscent,S=Math.abs(t.fontBoundingBoxDescent);if(s){E.restore();const _=s/(s+S);return Y.set(R,_),_}E.strokeStyle="red",E.clearRect(0,0,D,D),E.strokeText("g",0,0);let C=E.getImageData(0,0,D,D).data;S=0;for(let _=C.length-1-3;_>=0;_-=4)if(C[_]>0){S=Math.ceil(_/4/D);break}E.clearRect(0,0,D,D),E.strokeText("A",0,D),C=E.getImageData(0,0,D,D).data,s=0;for(let _=0,N=C.length;_<N;_+=4)if(C[_]>0){s=D-Math.floor(_/4/D);break}if(E.restore(),s){const _=s/(s+S);return Y.set(R,_),_}return Y.set(R,.8),.8}(N.fontFamily,t);let j,O;0===_?(j=C[4],O=C[5]-V):(j=C[4]+V*Math.sin(_),O=C[5]-V*Math.cos(_)),s.style.left=`${j}px`,s.style.top=`${O}px`,s.style.fontSize=`${F}px`,s.style.fontFamily=N.fontFamily,s.setAttribute("role","presentation"),s.textContent=E.str,s.dir=E.dir,R._fontInspectorEnabled&&(s.dataset.fontName=E.fontName),0!==_&&(S.angle=_*(180/Math.PI));let B=!1;if(E.str.length>1||R._enhanceTextSelection&&L.test(E.str))B=!0;else if(" "!==E.str&&E.transform[0]!==E.transform[3]){const G=Math.abs(E.transform[0]),U=Math.abs(E.transform[3]);G!==U&&Math.max(G,U)/Math.min(G,U)>1.5&&(B=!0)}if(B&&(S.canvasWidth=N.vertical?E.height*R._viewport.scale:E.width*R._viewport.scale),R._textDivProperties.set(s,S),R._textContentStream&&R._layoutText(s),R._enhanceTextSelection&&S.hasText){let G=1,U=0;0!==_&&(G=Math.cos(_),U=Math.sin(_));const $=(N.vertical?E.height:E.width)*R._viewport.scale,m=F;let l,a;0!==_?(l=[G,U,-U,G,j,O],a=d.Util.getAxialAlignedBoundingBox([0,0,$,m],l)):a=[j,O,j+$,O+m],R._bounds.push({left:a[0],top:a[1],right:a[2],bottom:a[3],div:s,size:[$,m],m:l})}}function i(R){if(R._canceled)return;const E=R._textDivs,P=R._capability,t=E.length;if(t>1e5)return R._renderingDone=!0,void P.resolve();if(!R._textContentStream)for(let s=0;s<t;s++)R._layoutText(E[s]);R._renderingDone=!0,P.resolve()}function c(R,E,P){let t=0;for(let s=0;s<P;s++){const S=R[E++];S>0&&(t=t?Math.min(S,t):S)}return t}function u(R,E){E.sort(function(s,S){return s.x1-S.x1||s.index-S.index});const t=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const s of E){let S=0;for(;S<t.length&&t[S].end<=s.y1;)S++;let C=t.length-1;for(;C>=0&&t[C].start>=s.y2;)C--;let _,N,F,V,j=-1/0;for(F=S;F<=C;F++){let G;_=t[F],N=_.boundary,G=N.x2>s.x1?N.index>s.index?N.x1New:s.x1:void 0===N.x2New?(N.x2+s.x1)/2:N.x2New,G>j&&(j=G)}for(s.x1New=j,F=S;F<=C;F++)_=t[F],N=_.boundary,void 0===N.x2New?N.x2>s.x1?N.index>s.index&&(N.x2New=N.x2):N.x2New=j:N.x2New>j&&(N.x2New=Math.max(j,N.x2));const O=[];let B=null;for(F=S;F<=C;F++){_=t[F],N=_.boundary;const G=N.x2>s.x2?N:s;B===G?O[O.length-1].end=_.end:(O.push({start:_.start,end:_.end,boundary:G}),B=G)}for(t[S].start<s.y1&&(O[0].start=s.y1,O.unshift({start:t[S].start,end:s.y1,boundary:t[S].boundary})),s.y2<t[C].end&&(O[O.length-1].end=s.y2,O.push({start:s.y2,end:t[C].end,boundary:t[C].boundary})),F=S;F<=C;F++){if(_=t[F],N=_.boundary,void 0!==N.x2New)continue;let G=!1;for(V=S-1;!G&&V>=0&&t[V].start>=N.y1;V--)G=t[V].boundary===N;for(V=C+1;!G&&V<t.length&&t[V].end<=N.y2;V++)G=t[V].boundary===N;for(V=0;!G&&V<O.length;V++)G=O[V].boundary===N;G||(N.x2New=j)}Array.prototype.splice.apply(t,[S,C-S+1].concat(O))}for(const s of t){const S=s.boundary;void 0===S.x2New&&(S.x2New=Math.max(R,S.x2))}}class r{constructor({textContent:E,textContentStream:P,container:t,viewport:s,textDivs:S,textContentItemsStr:C,enhanceTextSelection:_}){var N;this._textContent=E,this._textContentStream=P,this._container=t,this._document=t.ownerDocument,this._viewport=s,this._textDivs=S||[],this._textContentItemsStr=C||[],this._enhanceTextSelection=!!_,this._fontInspectorEnabled=!!(null==(N=globalThis.FontInspector)?void 0:N.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,d.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new d.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(E,P){for(let t=0,s=E.length;t<s;t++)if(void 0!==E[t].str)this._textContentItemsStr.push(E[t].str),o(this,E[t],P,this._layoutTextCtx);else if("beginMarkedContentProps"===E[t].type||"beginMarkedContent"===E[t].type){const S=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==E[t].id&&this._container.setAttribute("id",`${E[t].id}`),S.appendChild(this._container)}else"endMarkedContent"===E[t].type&&(this._container=this._container.parentNode)}_layoutText(E){const P=this._textDivProperties.get(E);let t="";if(0!==P.canvasWidth&&P.hasText){const{fontSize:s,fontFamily:S}=E.style;(s!==this._layoutTextLastFontSize||S!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${s} ${S}`,this._layoutTextLastFontSize=s,this._layoutTextLastFontFamily=S);const{width:C}=this._layoutTextCtx.measureText(E.textContent);if(C>0){const _=P.canvasWidth/C;this._enhanceTextSelection&&(P.scale=_),t=`scaleX(${_})`}}if(0!==P.angle&&(t=`rotate(${P.angle}deg) ${t}`),t.length>0&&(this._enhanceTextSelection&&(P.originalTransform=t),E.style.transform=t),P.hasText&&this._container.appendChild(E),P.hasEOL){const s=document.createElement("br");s.setAttribute("role","presentation"),this._container.appendChild(s)}}_render(E=0){const P=(0,d.createPromiseCapability)();let t=Object.create(null);const s=this._document.createElement("canvas");if(s.height=s.width=D,s.mozOpaque=!0,this._layoutTextCtx=s.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),P.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const S=()=>{this._reader.read().then(({value:C,done:_})=>{_?P.resolve():(Object.assign(t,C.styles),this._processItems(C.items,t),S())},P.reject)};this._reader=this._textContentStream.getReader(),S()}}P.promise.then(()=>{t=null,E?this._renderTimer=setTimeout(()=>{i(this),this._renderTimer=null},E):i(this)},this._capability.reject)}expandTextDivs(E=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function(R){const E=R._bounds,P=R._viewport,t=function(R,E,P){const t=P.map(function(S,C){return{x1:S.left,y1:S.top,x2:S.right,y2:S.bottom,index:C,x1New:void 0,x2New:void 0}});u(R,t);const s=new Array(P.length);for(const S of t)s[S.index]={left:S.x1New,top:0,right:S.x2New,bottom:0};P.map(function(S,C){const _=s[C],N=t[C];N.x1=S.top,N.y1=R-_.right,N.x2=S.bottom,N.y2=R-_.left,N.index=C,N.x1New=void 0,N.x2New=void 0}),u(E,t);for(const S of t){const C=S.index;s[C].top=S.x1New,s[C].bottom=S.x2New}return s}(P.width,P.height,E);for(let s=0;s<t.length;s++){const S=E[s].div,C=R._textDivProperties.get(S);if(0===C.angle){C.paddingLeft=E[s].left-t[s].left,C.paddingTop=E[s].top-t[s].top,C.paddingRight=t[s].right-E[s].right,C.paddingBottom=t[s].bottom-E[s].bottom,R._textDivProperties.set(S,C);continue}const _=t[s],N=E[s],F=N.m,V=F[0],j=F[1],O=[[0,0],[0,N.size[1]],[N.size[0],0],N.size],B=new Float64Array(64);for(let U=0,$=O.length;U<$;U++){const m=d.Util.applyTransform(O[U],F);B[U+0]=V&&(_.left-m[0])/V,B[U+4]=j&&(_.top-m[1])/j,B[U+8]=V&&(_.right-m[0])/V,B[U+12]=j&&(_.bottom-m[1])/j,B[U+16]=j&&(_.left-m[0])/-j,B[U+20]=V&&(_.top-m[1])/V,B[U+24]=j&&(_.right-m[0])/-j,B[U+28]=V&&(_.bottom-m[1])/V,B[U+32]=V&&(_.left-m[0])/-V,B[U+36]=j&&(_.top-m[1])/-j,B[U+40]=V&&(_.right-m[0])/-V,B[U+44]=j&&(_.bottom-m[1])/-j,B[U+48]=j&&(_.left-m[0])/j,B[U+52]=V&&(_.top-m[1])/-V,B[U+56]=j&&(_.right-m[0])/j,B[U+60]=V&&(_.bottom-m[1])/-V}const G=1+Math.min(Math.abs(V),Math.abs(j));C.paddingLeft=c(B,32,16)/G,C.paddingTop=c(B,48,16)/G,C.paddingRight=c(B,0,16)/G,C.paddingBottom=c(B,16,16)/G,R._textDivProperties.set(S,C)}}(this),this._bounds=null);const P=[],t=[];for(let s=0,S=this._textDivs.length;s<S;s++){const C=this._textDivs[s],_=this._textDivProperties.get(C);!_.hasText||(E?(P.length=0,t.length=0,_.originalTransform&&P.push(_.originalTransform),_.paddingTop>0?(t.push(`${_.paddingTop}px`),P.push(`translateY(${-_.paddingTop}px)`)):t.push(0),t.push(_.paddingRight>0?_.paddingRight/_.scale+"px":0),t.push(_.paddingBottom>0?`${_.paddingBottom}px`:0),_.paddingLeft>0?(t.push(_.paddingLeft/_.scale+"px"),P.push(`translateX(${-_.paddingLeft/_.scale}px)`)):t.push(0),C.style.padding=t.join(" "),P.length&&(C.style.transform=P.join(" "))):(C.style.padding=null,C.style.transform=_.originalTransform))}}}},(fe,v,Z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.SVGGraphics=void 0;var d=Z(1),te=Z(5),D=Z(3);let se=class{constructor(){(0,d.unreachable)("Not implemented: SVGGraphics")}};v.SVGGraphics=se;{let u=function(t){let s=[];const S=[];for(const C of t)"save"!==C.fn?"restore"===C.fn?s=S.pop():s.push(C):(s.push({fnId:92,fn:"group",items:[]}),S.push(s),s=s[s.length-1].items);return s},r=function(t){if(Number.isInteger(t))return t.toString();const s=t.toFixed(10);let S=s.length-1;if("0"!==s[S])return s;do{S--}while("0"===s[S]);return s.substring(0,"."===s[S]?S:S+1)},T=function(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":`scale(${r(t[0])} ${r(t[3])})`;if(t[0]===t[3]&&t[1]===-t[2]){const s=180*Math.acos(t[0])/Math.PI;return`rotate(${r(s)})`}}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return`translate(${r(t[4])} ${r(t[5])})`;return`matrix(${r(t[0])} ${r(t[1])} ${r(t[2])} ${r(t[3])} ${r(t[4])} ${r(t[5])})`};const Y={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},L="http://www.w3.org/XML/1998/namespace",n="http://www.w3.org/1999/xlink",o=["butt","round","square"],i=["miter","round","bevel"],c=function(t,s="",S=!1){if(URL.createObjectURL&&"undefined"!=typeof Blob&&!S)return URL.createObjectURL(new Blob([t],{type:s}));const C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let _=`data:${s};base64,`;for(let N=0,F=t.length;N<F;N+=3){const V=255&t[N],j=255&t[N+1],O=255&t[N+2];_+=C[V>>2]+C[(3&V)<<4|j>>4]+C[N+1<F?(15&j)<<2|O>>6:64]+C[N+2<F?63&O:64]}return _},g=function(){const t=new Uint8Array([137,80,78,71,13,10,26,10]),S=new Int32Array(256);for(let O=0;O<256;O++){let B=O;for(let G=0;G<8;G++)B=1&B?3988292384^B>>1&2147483647:B>>1&2147483647;S[O]=B}function _(O,B,G,U){let $=U;const m=B.length;G[$]=m>>24&255,G[$+1]=m>>16&255,G[$+2]=m>>8&255,G[$+3]=255&m,$+=4,G[$]=255&O.charCodeAt(0),G[$+1]=255&O.charCodeAt(1),G[$+2]=255&O.charCodeAt(2),G[$+3]=255&O.charCodeAt(3),$+=4,G.set(B,$),$+=B.length;const l=function(O,B,G){let U=-1;for(let $=B;$<G;$++)U=U>>>8^S[255&(U^O[$])];return-1^U}(G,U+4,$);G[$]=l>>24&255,G[$+1]=l>>16&255,G[$+2]=l>>8&255,G[$+3]=255&l}function V(O){let B=O.length;const G=65535,U=Math.ceil(B/G),$=new Uint8Array(2+B+5*U+4);let m=0;$[m++]=120,$[m++]=156;let l=0;for(;B>G;)$[m++]=0,$[m++]=255,$[m++]=255,$[m++]=0,$[m++]=0,$.set(O.subarray(l,l+G),m),m+=G,l+=G,B-=G;$[m++]=1,$[m++]=255&B,$[m++]=B>>8&255,$[m++]=255&~B,$[m++]=(65535&~B)>>8&255,$.set(O.subarray(l),m),m+=O.length-l;const a=function(O,B,G){let U=1,$=0;for(let m=0;m<G;++m)U=(U+(255&O[m]))%65521,$=($+U)%65521;return $<<16|U}(O,0,O.length);return $[m++]=a>>24&255,$[m++]=a>>16&255,$[m++]=a>>8&255,$[m++]=255&a,$}return function(B,G,U){return function(O,B,G,U){const $=O.width,m=O.height;let l,a,p;const b=O.data;switch(B){case d.ImageKind.GRAYSCALE_1BPP:a=0,l=1,p=$+7>>3;break;case d.ImageKind.RGB_24BPP:a=2,l=8,p=3*$;break;case d.ImageKind.RGBA_32BPP:a=6,l=8,p=4*$;break;default:throw new Error("invalid format")}const w=new Uint8Array((1+p)*m);let e=0,f=0;for(let H=0;H<m;++H)w[e++]=0,w.set(b.subarray(f,f+p),e),f+=p,e+=p;if(B===d.ImageKind.GRAYSCALE_1BPP&&U){e=0;for(let H=0;H<m;H++){e++;for(let W=0;W<p;W++)w[e++]^=255}}const A=new Uint8Array([$>>24&255,$>>16&255,$>>8&255,255&$,m>>24&255,m>>16&255,m>>8&255,255&m,l,a,0,0,0]),M=function(O){if(!D.isNodeJS)return V(O);try{let B;B=parseInt(process.versions.node)>=8?O:Buffer.from(O);const G=__webpack_require__(2258).deflateSync(B,{level:9});return G instanceof Uint8Array?G:new Uint8Array(G)}catch(B){(0,d.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+B)}return V(O)}(w),k=new Uint8Array(t.length+36+A.length+M.length);let I=0;return k.set(t,I),I+=t.length,_("IHDR",A,k,I),I+=12+A.length,_("IDATA",M,k,I),I+=12+M.length,_("IEND",new Uint8Array(0),k,I),c(k,"image/png",G)}(B,void 0===B.kind?d.ImageKind.GRAYSCALE_1BPP:B.kind,G,U)}}();class y{constructor(){this.fontSizeScale=1,this.fontWeight=Y.fontWeight,this.fontSize=0,this.textMatrix=d.IDENTITY_MATRIX,this.fontMatrix=d.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=d.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=Y.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(s,S){this.x=s,this.y=S}}let R=0,E=0,P=0;v.SVGGraphics=se=class{constructor(t,s,S=!1){this.svgFactory=new te.DOMSVGFactory,this.current=new y,this.transformMatrix=d.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=s,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!S,this._operatorIdMapping=[];for(const C in d.OPS)this._operatorIdMapping[d.OPS[C]]=C}save(){this.transformStack.push(this.transformMatrix);const t=this.current;this.extraStack.push(t),this.current=t.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(t){this.save(),this.executeOpTree(t),this.restore()}loadDependencies(t){const s=t.fnArray,S=t.argsArray;for(let C=0,_=s.length;C<_;C++)if(s[C]===d.OPS.dependency)for(const N of S[C]){const F=N.startsWith("g_")?this.commonObjs:this.objs,V=new Promise(j=>{F.get(N,j)});this.current.dependencies.push(V)}return Promise.all(this.current.dependencies)}transform(t,s,S,C,_,N){this.transformMatrix=d.Util.transform(this.transformMatrix,[t,s,S,C,_,N]),this.tgrp=null}getSVG(t,s){this.viewport=s;const S=this._initialize(s);return this.loadDependencies(t).then(()=>(this.transformMatrix=d.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(t)),S))}convertOpList(t){const s=this._operatorIdMapping,S=t.argsArray,C=t.fnArray,_=[];for(let N=0,F=C.length;N<F;N++){const V=C[N];_.push({fnId:V,fn:s[V],args:S[N]})}return u(_)}executeOpTree(t){for(const s of t){const S=s.fn,_=s.args;switch(0|s.fnId){case d.OPS.beginText:this.beginText();break;case d.OPS.dependency:break;case d.OPS.setLeading:this.setLeading(_);break;case d.OPS.setLeadingMoveText:this.setLeadingMoveText(_[0],_[1]);break;case d.OPS.setFont:this.setFont(_);break;case d.OPS.showText:case d.OPS.showSpacedText:this.showText(_[0]);break;case d.OPS.endText:this.endText();break;case d.OPS.moveText:this.moveText(_[0],_[1]);break;case d.OPS.setCharSpacing:this.setCharSpacing(_[0]);break;case d.OPS.setWordSpacing:this.setWordSpacing(_[0]);break;case d.OPS.setHScale:this.setHScale(_[0]);break;case d.OPS.setTextMatrix:this.setTextMatrix(_[0],_[1],_[2],_[3],_[4],_[5]);break;case d.OPS.setTextRise:this.setTextRise(_[0]);break;case d.OPS.setTextRenderingMode:this.setTextRenderingMode(_[0]);break;case d.OPS.setLineWidth:this.setLineWidth(_[0]);break;case d.OPS.setLineJoin:this.setLineJoin(_[0]);break;case d.OPS.setLineCap:this.setLineCap(_[0]);break;case d.OPS.setMiterLimit:this.setMiterLimit(_[0]);break;case d.OPS.setFillRGBColor:this.setFillRGBColor(_[0],_[1],_[2]);break;case d.OPS.setStrokeRGBColor:this.setStrokeRGBColor(_[0],_[1],_[2]);break;case d.OPS.setStrokeColorN:this.setStrokeColorN(_);break;case d.OPS.setFillColorN:this.setFillColorN(_);break;case d.OPS.shadingFill:this.shadingFill(_[0]);break;case d.OPS.setDash:this.setDash(_[0],_[1]);break;case d.OPS.setRenderingIntent:this.setRenderingIntent(_[0]);break;case d.OPS.setFlatness:this.setFlatness(_[0]);break;case d.OPS.setGState:this.setGState(_[0]);break;case d.OPS.fill:this.fill();break;case d.OPS.eoFill:this.eoFill();break;case d.OPS.stroke:this.stroke();break;case d.OPS.fillStroke:this.fillStroke();break;case d.OPS.eoFillStroke:this.eoFillStroke();break;case d.OPS.clip:this.clip("nonzero");break;case d.OPS.eoClip:this.clip("evenodd");break;case d.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case d.OPS.paintImageXObject:this.paintImageXObject(_[0]);break;case d.OPS.paintInlineImageXObject:this.paintInlineImageXObject(_[0]);break;case d.OPS.paintImageMaskXObject:this.paintImageMaskXObject(_[0]);break;case d.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(_[0],_[1]);break;case d.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case d.OPS.closePath:this.closePath();break;case d.OPS.closeStroke:this.closeStroke();break;case d.OPS.closeFillStroke:this.closeFillStroke();break;case d.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case d.OPS.nextLine:this.nextLine();break;case d.OPS.transform:this.transform(_[0],_[1],_[2],_[3],_[4],_[5]);break;case d.OPS.constructPath:this.constructPath(_[0],_[1]);break;case d.OPS.endPath:this.endPath();break;case 92:this.group(s.items);break;default:(0,d.warn)(`Unimplemented operator ${S}`)}}}setWordSpacing(t){this.current.wordSpacing=t}setCharSpacing(t){this.current.charSpacing=t}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(t,s,S,C,_,N){const F=this.current;F.textMatrix=F.lineMatrix=[t,s,S,C,_,N],F.textMatrixScale=Math.hypot(t,s),F.x=F.lineX=0,F.y=F.lineY=0,F.xcoords=[],F.ycoords=[],F.tspan=this.svgFactory.createElement("svg:tspan"),F.tspan.setAttributeNS(null,"font-family",F.fontFamily),F.tspan.setAttributeNS(null,"font-size",`${r(F.fontSize)}px`),F.tspan.setAttributeNS(null,"y",r(-F.y)),F.txtElement=this.svgFactory.createElement("svg:text"),F.txtElement.appendChild(F.tspan)}beginText(){const t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=d.IDENTITY_MATRIX,t.lineMatrix=d.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}moveText(t,s){const S=this.current;S.x=S.lineX+=t,S.y=S.lineY+=s,S.xcoords=[],S.ycoords=[],S.tspan=this.svgFactory.createElement("svg:tspan"),S.tspan.setAttributeNS(null,"font-family",S.fontFamily),S.tspan.setAttributeNS(null,"font-size",`${r(S.fontSize)}px`),S.tspan.setAttributeNS(null,"y",r(-S.y))}showText(t){const s=this.current,S=s.font,C=s.fontSize;if(0===C)return;const _=s.fontSizeScale,N=s.charSpacing,F=s.wordSpacing,V=s.fontDirection,j=s.textHScale*V,O=S.vertical,B=O?1:-1,G=S.defaultVMetrics,U=C*s.fontMatrix[0];let $=0;for(const a of t){if(null===a){$+=V*F;continue}if("number"==typeof a){$+=B*a*C/1e3;continue}const p=(a.isSpace?F:0)+N,b=a.fontChar;let w,e,A,f=a.width;if(O){let M;const h=a.vmetric||G;M=a.vmetric?h[1]:.5*f,M=-M*U,f=h?-h[0]:f,w=M/_,e=($+h[2]*U)/_}else w=$/_,e=0;(a.isInFont||S.missingFile)&&(s.xcoords.push(s.x+w),O&&s.ycoords.push(-s.y+e),s.tspan.textContent+=b),A=O?f*U-p*V:f*U+p*V,$+=A}s.tspan.setAttributeNS(null,"x",s.xcoords.map(r).join(" ")),s.tspan.setAttributeNS(null,"y",O?s.ycoords.map(r).join(" "):r(-s.y)),O?s.y-=$:s.x+=$*j,s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size",`${r(s.fontSize)}px`),s.fontStyle!==Y.fontStyle&&s.tspan.setAttributeNS(null,"font-style",s.fontStyle),s.fontWeight!==Y.fontWeight&&s.tspan.setAttributeNS(null,"font-weight",s.fontWeight);const m=s.textRenderingMode&d.TextRenderingMode.FILL_STROKE_MASK;m===d.TextRenderingMode.FILL||m===d.TextRenderingMode.FILL_STROKE?(s.fillColor!==Y.fillColor&&s.tspan.setAttributeNS(null,"fill",s.fillColor),s.fillAlpha<1&&s.tspan.setAttributeNS(null,"fill-opacity",s.fillAlpha)):s.tspan.setAttributeNS(null,"fill",s.textRenderingMode===d.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(m===d.TextRenderingMode.STROKE||m===d.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(s.tspan,1/(s.textMatrixScale||1));let l=s.textMatrix;0!==s.textRise&&(l=l.slice(),l[5]+=s.textRise),s.txtElement.setAttributeNS(null,"transform",`${T(l)} scale(${r(j)}, -1)`),s.txtElement.setAttributeNS(L,"xml:space","preserve"),s.txtElement.appendChild(s.tspan),s.txtgrp.appendChild(s.txtElement),this._ensureTransformGroup().appendChild(s.txtElement)}setLeadingMoveText(t,s){this.setLeading(-s),this.moveText(t,s)}addFontStyle(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const s=c(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${t.loadedName}"; src: url(${s}); }\n`}setFont(t){const s=this.current,S=this.commonObjs.get(t[0]);let C=t[1];s.font=S,this.embedFonts&&!S.missingFile&&!this.embeddedFonts[S.loadedName]&&(this.addFontStyle(S),this.embeddedFonts[S.loadedName]=S),s.fontMatrix=S.fontMatrix||d.FONT_IDENTITY_MATRIX;let _="normal";S.black?_="900":S.bold&&(_="bold");const N=S.italic?"italic":"normal";C<0?(C=-C,s.fontDirection=-1):s.fontDirection=1,s.fontSize=C,s.fontFamily=S.loadedName,s.fontWeight=_,s.fontStyle=N,s.tspan=this.svgFactory.createElement("svg:tspan"),s.tspan.setAttributeNS(null,"y",r(-s.y)),s.xcoords=[],s.ycoords=[]}endText(){var s;const t=this.current;t.textRenderingMode&d.TextRenderingMode.ADD_TO_PATH_FLAG&&(null==(s=t.txtElement)?void 0:s.hasChildNodes())&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(t){t>0&&(this.current.lineWidth=t)}setLineCap(t){this.current.lineCap=o[t]}setLineJoin(t){this.current.lineJoin=i[t]}setMiterLimit(t){this.current.miterLimit=t}setStrokeAlpha(t){this.current.strokeAlpha=t}setStrokeRGBColor(t,s,S){this.current.strokeColor=d.Util.makeHexColor(t,s,S)}setFillAlpha(t){this.current.fillAlpha=t}setFillRGBColor(t,s,S){this.current.fillColor=d.Util.makeHexColor(t,s,S),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}shadingFill(t){const s=this.viewport.width,S=this.viewport.height,C=d.Util.inverseTransform(this.transformMatrix),_=d.Util.applyTransform([0,0],C),N=d.Util.applyTransform([0,S],C),F=d.Util.applyTransform([s,0],C),V=d.Util.applyTransform([s,S],C),j=Math.min(_[0],N[0],F[0],V[0]),O=Math.min(_[1],N[1],F[1],V[1]),B=Math.max(_[0],N[0],F[0],V[0]),G=Math.max(_[1],N[1],F[1],V[1]),U=this.svgFactory.createElement("svg:rect");U.setAttributeNS(null,"x",j),U.setAttributeNS(null,"y",O),U.setAttributeNS(null,"width",B-j),U.setAttributeNS(null,"height",G-O),U.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&U.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(U)}_makeColorN_Pattern(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}_makeTilingPattern(t){const s=t[1],S=t[2],C=t[3]||d.IDENTITY_MATRIX,[_,N,F,V]=t[4],j=t[5],O=t[6],B=t[7],G="shading"+P++,[U,$,m,l]=d.Util.normalizeRect([...d.Util.applyTransform([_,N],C),...d.Util.applyTransform([F,V],C)]),[a,p]=d.Util.singularValueDecompose2dScale(C),b=j*a,w=O*p,e=this.svgFactory.createElement("svg:pattern");e.setAttributeNS(null,"id",G),e.setAttributeNS(null,"patternUnits","userSpaceOnUse"),e.setAttributeNS(null,"width",b),e.setAttributeNS(null,"height",w),e.setAttributeNS(null,"x",`${U}`),e.setAttributeNS(null,"y",`${$}`);const f=this.svg,A=this.transformMatrix,M=this.current.fillColor,h=this.current.strokeColor,k=this.svgFactory.create(m-U,l-$);if(this.svg=k,this.transformMatrix=C,2===B){const I=d.Util.makeHexColor(...s);this.current.fillColor=I,this.current.strokeColor=I}return this.executeOpTree(this.convertOpList(S)),this.svg=f,this.transformMatrix=A,this.current.fillColor=M,this.current.strokeColor=h,e.appendChild(k.childNodes[0]),this.defs.appendChild(e),`url(#${G})`}_makeShadingPattern(t){switch("string"==typeof t&&(t=this.objs.get(t)),t[0]){case"RadialAxial":const s="shading"+P++,S=t[3];let C;switch(t[1]){case"axial":const _=t[4],N=t[5];C=this.svgFactory.createElement("svg:linearGradient"),C.setAttributeNS(null,"id",s),C.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),C.setAttributeNS(null,"x1",_[0]),C.setAttributeNS(null,"y1",_[1]),C.setAttributeNS(null,"x2",N[0]),C.setAttributeNS(null,"y2",N[1]);break;case"radial":const F=t[4],V=t[5],j=t[6],O=t[7];C=this.svgFactory.createElement("svg:radialGradient"),C.setAttributeNS(null,"id",s),C.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),C.setAttributeNS(null,"cx",V[0]),C.setAttributeNS(null,"cy",V[1]),C.setAttributeNS(null,"r",O),C.setAttributeNS(null,"fx",F[0]),C.setAttributeNS(null,"fy",F[1]),C.setAttributeNS(null,"fr",j);break;default:throw new Error(`Unknown RadialAxial type: ${t[1]}`)}for(const _ of S){const N=this.svgFactory.createElement("svg:stop");N.setAttributeNS(null,"offset",_[0]),N.setAttributeNS(null,"stop-color",_[1]),C.appendChild(N)}return this.defs.appendChild(C),`url(#${s})`;case"Mesh":return(0,d.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${t[0]}`)}}setDash(t,s){this.current.dashArray=t,this.current.dashPhase=s}constructPath(t,s){const S=this.current;let C=S.x,_=S.y,N=[],F=0;for(const V of t)switch(0|V){case d.OPS.rectangle:C=s[F++],_=s[F++];const B=C+s[F++],G=_+s[F++];N.push("M",r(C),r(_),"L",r(B),r(_),"L",r(B),r(G),"L",r(C),r(G),"Z");break;case d.OPS.moveTo:C=s[F++],_=s[F++],N.push("M",r(C),r(_));break;case d.OPS.lineTo:C=s[F++],_=s[F++],N.push("L",r(C),r(_));break;case d.OPS.curveTo:C=s[F+4],_=s[F+5],N.push("C",r(s[F]),r(s[F+1]),r(s[F+2]),r(s[F+3]),r(C),r(_)),F+=6;break;case d.OPS.curveTo2:N.push("C",r(C),r(_),r(s[F]),r(s[F+1]),r(s[F+2]),r(s[F+3])),C=s[F+2],_=s[F+3],F+=4;break;case d.OPS.curveTo3:C=s[F+2],_=s[F+3],N.push("C",r(s[F]),r(s[F+1]),r(C),r(_),r(C),r(_)),F+=4;break;case d.OPS.closePath:N.push("Z")}N=N.join(" "),S.path&&t.length>0&&t[0]!==d.OPS.rectangle&&t[0]!==d.OPS.moveTo?N=S.path.getAttributeNS(null,"d")+N:(S.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(S.path)),S.path.setAttributeNS(null,"d",N),S.path.setAttributeNS(null,"fill","none"),S.element=S.path,S.setCurrentPoint(C,_)}endPath(){const t=this.current;if(t.path=null,!this.pendingClip)return;if(!t.element)return void(this.pendingClip=null);const s="clippath"+R++,S=this.svgFactory.createElement("svg:clipPath");S.setAttributeNS(null,"id",s),S.setAttributeNS(null,"transform",T(this.transformMatrix));const C=t.element.cloneNode(!0);if(C.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,S.appendChild(C),this.defs.appendChild(S),t.activeClipUrl){t.clipGroup=null;for(const _ of this.extraStack)_.clipGroup=null;S.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl=`url(#${s})`,this.tgrp=null}clip(t){this.pendingClip=t}closePath(){const t=this.current;if(t.path){const s=`${t.path.getAttributeNS(null,"d")}Z`;t.path.setAttributeNS(null,"d",s)}}setLeading(t){this.current.leading=-t}setTextRise(t){this.current.textRise=t}setTextRenderingMode(t){this.current.textRenderingMode=t}setHScale(t){this.current.textHScale=t/100}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[s,S]of t)switch(s){case"LW":this.setLineWidth(S);break;case"LC":this.setLineCap(S);break;case"LJ":this.setLineJoin(S);break;case"ML":this.setMiterLimit(S);break;case"D":this.setDash(S[0],S[1]);break;case"RI":this.setRenderingIntent(S);break;case"FL":this.setFlatness(S);break;case"Font":this.setFont(S);break;case"CA":this.setStrokeAlpha(S);break;case"ca":this.setFillAlpha(S);break;default:(0,d.warn)(`Unimplemented graphic state operator ${s}`)}}fill(){const t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}stroke(){const t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(t,s=1){const S=this.current;let C=S.dashArray;1!==s&&C.length>0&&(C=C.map(function(_){return s*_})),t.setAttributeNS(null,"stroke",S.strokeColor),t.setAttributeNS(null,"stroke-opacity",S.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",r(S.miterLimit)),t.setAttributeNS(null,"stroke-linecap",S.lineCap),t.setAttributeNS(null,"stroke-linejoin",S.lineJoin),t.setAttributeNS(null,"stroke-width",r(s*S.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",C.map(r).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",r(s*S.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(t)}paintImageXObject(t){const s=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);s?this.paintInlineImageXObject(s):(0,d.warn)(`Dependent image with object ID ${t} is not ready yet`)}paintInlineImageXObject(t,s){const S=t.width,C=t.height,_=g(t,this.forceDataSchema,!!s),N=this.svgFactory.createElement("svg:rect");N.setAttributeNS(null,"x","0"),N.setAttributeNS(null,"y","0"),N.setAttributeNS(null,"width",r(S)),N.setAttributeNS(null,"height",r(C)),this.current.element=N,this.clip("nonzero");const F=this.svgFactory.createElement("svg:image");F.setAttributeNS(n,"xlink:href",_),F.setAttributeNS(null,"x","0"),F.setAttributeNS(null,"y",r(-C)),F.setAttributeNS(null,"width",r(S)+"px"),F.setAttributeNS(null,"height",r(C)+"px"),F.setAttributeNS(null,"transform",`scale(${r(1/S)} ${r(-1/C)})`),s?s.appendChild(F):this._ensureTransformGroup().appendChild(F)}paintImageMaskXObject(t){const s=this.current,S=t.width,C=t.height,_=s.fillColor;s.maskId="mask"+E++;const N=this.svgFactory.createElement("svg:mask");N.setAttributeNS(null,"id",s.maskId);const F=this.svgFactory.createElement("svg:rect");F.setAttributeNS(null,"x","0"),F.setAttributeNS(null,"y","0"),F.setAttributeNS(null,"width",r(S)),F.setAttributeNS(null,"height",r(C)),F.setAttributeNS(null,"fill",_),F.setAttributeNS(null,"mask",`url(#${s.maskId})`),this.defs.appendChild(N),this._ensureTransformGroup().appendChild(F),this.paintInlineImageXObject(t,N)}paintFormXObjectBegin(t,s){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),s){const S=s[2]-s[0],C=s[3]-s[1],_=this.svgFactory.createElement("svg:rect");_.setAttributeNS(null,"x",s[0]),_.setAttributeNS(null,"y",s[1]),_.setAttributeNS(null,"width",r(S)),_.setAttributeNS(null,"height",r(C)),this.current.element=_,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(t){const s=this.svgFactory.create(t.width,t.height),S=this.svgFactory.createElement("svg:defs");s.appendChild(S),this.defs=S;const C=this.svgFactory.createElement("svg:g");return C.setAttributeNS(null,"transform",T(t.transform)),s.appendChild(C),this.svg=C,s}_ensureClipGroup(){if(!this.current.clipGroup){const t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(t),this.current.clipGroup=t}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",T(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(fe,v,Z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.PDFNodeStream=void 0;var d=Z(1),te=Z(24);const D=__webpack_require__(172),se=__webpack_require__(2001),Y=__webpack_require__(3779),L=__webpack_require__(6558),n=/^file:\/\/\/[a-zA-Z]:\//;v.PDFNodeStream=class{constructor(P){this.source=P,this.url=function(E){const P=L.parse(E);return"file:"===P.protocol||P.host?P:/^[a-z]:[/\\]/i.test(E)?L.parse(`file:///${E}`):(P.host||(P.protocol="file:"),P)}(P.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&P.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var P,t;return null!=(t=null==(P=this._fullRequestReader)?void 0:P._loaded)?t:0}getFullReader(){return(0,d.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new T(this):new u(this),this._fullRequestReader}getRangeReader(P,t){if(t<=this._progressiveDataLength)return null;const s=this.isFsUrl?new R(this,P,t):new r(this,P,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(P){this._fullRequestReader&&this._fullRequestReader.cancel(P);for(const t of this._rangeRequestReaders.slice(0))t.cancel(P)}};class c{constructor(P){this._url=P.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=P.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,d.createPromiseCapability)(),this._headersCapability=(0,d.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var P=this;return _asyncToGenerator(function*(){if(yield P._readCapability.promise,P._done)return{value:void 0,done:!0};if(P._storedError)throw P._storedError;const t=P._readableStream.read();return null===t?(P._readCapability=(0,d.createPromiseCapability)(),P.read()):(P._loaded+=t.length,P.onProgress&&P.onProgress({loaded:P._loaded,total:P._contentLength}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(P){this._readableStream?this._readableStream.destroy(P):this._error(P)}_error(P){this._storedError=P,this._readCapability.resolve()}_setReadableStream(P){this._readableStream=P,P.on("readable",()=>{this._readCapability.resolve()}),P.on("end",()=>{P.destroy(),this._done=!0,this._readCapability.resolve()}),P.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new d.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class g{constructor(P){this._url=P.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,d.createPromiseCapability)(),this._isStreamingSupported=!P.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var P=this;return _asyncToGenerator(function*(){if(yield P._readCapability.promise,P._done)return{value:void 0,done:!0};if(P._storedError)throw P._storedError;const t=P._readableStream.read();return null===t?(P._readCapability=(0,d.createPromiseCapability)(),P.read()):(P._loaded+=t.length,P.onProgress&&P.onProgress({loaded:P._loaded}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(P){this._readableStream?this._readableStream.destroy(P):this._error(P)}_error(P){this._storedError=P,this._readCapability.resolve()}_setReadableStream(P){this._readableStream=P,P.on("readable",()=>{this._readCapability.resolve()}),P.on("end",()=>{P.destroy(),this._done=!0,this._readCapability.resolve()}),P.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function y(E,P){return{protocol:E.protocol,auth:E.auth,host:E.hostname,port:E.port,path:E.path,method:"GET",headers:P}}class u extends c{constructor(P){super(P);const t=s=>{if(404===s.statusCode){const N=new d.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=N,void this._headersCapability.reject(N)}this._headersCapability.resolve(),this._setReadableStream(s);const S=N=>this._readableStream.headers[N.toLowerCase()],{allowRangeRequests:C,suggestedLength:_}=(0,te.validateRangeRequestCapabilities)({getResponseHeader:S,isHttp:P.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=C,this._contentLength=_||this._contentLength,this._filename=(0,te.extractFilenameFromHeader)(S)};this._request=null,this._request="http:"===this._url.protocol?se.request(y(this._url,P.httpHeaders),t):Y.request(y(this._url,P.httpHeaders),t),this._request.on("error",s=>{this._storedError=s,this._headersCapability.reject(s)}),this._request.end()}}class r extends g{constructor(P,t,s){super(P),this._httpHeaders={};for(const C in P.httpHeaders){const _=P.httpHeaders[C];void 0!==_&&(this._httpHeaders[C]=_)}this._httpHeaders.Range=`bytes=${t}-${s-1}`;const S=C=>{if(404!==C.statusCode)this._setReadableStream(C);else{const _=new d.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=_}};this._request=null,this._request="http:"===this._url.protocol?se.request(y(this._url,this._httpHeaders),S):Y.request(y(this._url,this._httpHeaders),S),this._request.on("error",C=>{this._storedError=C}),this._request.end()}}class T extends c{constructor(P){super(P);let t=decodeURIComponent(this._url.path);n.test(this._url.href)&&(t=t.replace(/^\//,"")),D.lstat(t,(s,S)=>{if(s)return"ENOENT"===s.code&&(s=new d.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=s,void this._headersCapability.reject(s);this._contentLength=S.size,this._setReadableStream(D.createReadStream(t)),this._headersCapability.resolve()})}}class R extends g{constructor(P,t,s){super(P);let S=decodeURIComponent(this._url.path);n.test(this._url.href)&&(S=S.replace(/^\//,"")),this._setReadableStream(D.createReadStream(S,{start:t,end:s-1}))}}},(fe,v,Z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.createResponseStatusError=function(o,i){return 404===o||0===o&&i.startsWith("file:")?new d.MissingPDFException('Missing PDF "'+i+'".'):new d.UnexpectedResponseException(`Unexpected server response (${o}) while retrieving PDF "${i}".`,o)},v.extractFilenameFromHeader=function(o){const i=o("Content-Disposition");if(i){let c=(0,te.getFilenameFromContentDispositionHeader)(i);if(c.includes("%"))try{c=decodeURIComponent(c)}catch(g){}if((0,D.isPdfFile)(c))return c}return null},v.validateRangeRequestCapabilities=function({getResponseHeader:o,isHttp:i,rangeChunkSize:c,disableRange:g}){(0,d.assert)(c>0,"Range chunk size must be larger than zero");const y={allowRangeRequests:!1,suggestedLength:void 0},u=parseInt(o("Content-Length"),10);return!Number.isInteger(u)||(y.suggestedLength=u,u<=2*c)||g||!i||"bytes"!==o("Accept-Ranges")||"identity"!==(o("Content-Encoding")||"identity")||(y.allowRangeRequests=!0),y},v.validateResponseStatus=function(o){return 200===o||206===o};var d=Z(1),te=Z(25),D=Z(5)},(fe,v,Z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.getFilenameFromContentDispositionHeader=function(D){let se=!0,Y=L("filename\\*","i").exec(D);if(Y){Y=Y[1];let u=c(Y);return u=unescape(u),u=g(u),u=y(u),o(u)}if(Y=function(u){const r=[];let T;const R=L("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(T=R.exec(u));){let[,P,t,s]=T;if(P=parseInt(P,10),P in r){if(0===P)break}else r[P]=[t,s]}const E=[];for(let P=0;P<r.length&&P in r;++P){let[t,s]=r[P];s=c(s),t&&(s=unescape(s),0===P&&(s=g(s))),E.push(s)}return E.join("")}(D),Y)return o(y(Y));if(Y=L("filename","i").exec(D),Y){Y=Y[1];let u=c(Y);return u=y(u),o(u)}function L(u,r){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',r)}function n(u,r){if(u){if(!/^[\x00-\xFF]+$/.test(r))return r;try{const T=new TextDecoder(u,{fatal:!0}),R=(0,d.stringToBytes)(r);r=T.decode(R),se=!1}catch(T){}}return r}function o(u){return se&&/[\x80-\xff]/.test(u)&&(u=n("utf-8",u),se&&(u=n("iso-8859-1",u))),u}function c(u){if(u.startsWith('"')){const r=u.slice(1).split('\\"');for(let T=0;T<r.length;++T){const R=r[T].indexOf('"');-1!==R&&(r[T]=r[T].slice(0,R),r.length=T+1),r[T]=r[T].replace(/\\(.)/g,"$1")}u=r.join('"')}return u}function g(u){const r=u.indexOf("'");return-1===r?u:n(u.slice(0,r),u.slice(r+1).replace(/^[^']*'/,""))}function y(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(r,T,R,E){if("q"===R||"Q"===R)return n(T,E=(E=E.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(P,t){return String.fromCharCode(parseInt(t,16))}));try{E=atob(E)}catch(P){}return n(T,E)})}return""};var d=Z(1)},(fe,v,Z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.PDFNetworkStream=void 0;var d=Z(1),te=Z(24);class L{constructor(g,y={}){this.url=g,this.isHttp=/^https?:/i.test(g),this.httpHeaders=this.isHttp&&y.httpHeaders||Object.create(null),this.withCredentials=y.withCredentials||!1,this.getXhr=y.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(g,y,u){const r={begin:g,end:y};for(const T in u)r[T]=u[T];return this.request(r)}requestFull(g){return this.request(g)}request(g){const y=this.getXhr(),u=this.currXhrId++,r=this.pendingRequests[u]={xhr:y};y.open("GET",this.url),y.withCredentials=this.withCredentials;for(const T in this.httpHeaders){const R=this.httpHeaders[T];void 0!==R&&y.setRequestHeader(T,R)}return this.isHttp&&"begin"in g&&"end"in g?(y.setRequestHeader("Range",`bytes=${g.begin}-${g.end-1}`),r.expectedStatus=206):r.expectedStatus=200,y.responseType="arraybuffer",g.onError&&(y.onerror=function(T){g.onError(y.status)}),y.onreadystatechange=this.onStateChange.bind(this,u),y.onprogress=this.onProgress.bind(this,u),r.onHeadersReceived=g.onHeadersReceived,r.onDone=g.onDone,r.onError=g.onError,r.onProgress=g.onProgress,y.send(null),u}onProgress(g,y){var r;const u=this.pendingRequests[g];!u||null==(r=u.onProgress)||r.call(u,y)}onStateChange(g,y){var P,t,s;const u=this.pendingRequests[g];if(!u)return;const r=u.xhr;if(r.readyState>=2&&u.onHeadersReceived&&(u.onHeadersReceived(),delete u.onHeadersReceived),4!==r.readyState||!(g in this.pendingRequests))return;if(delete this.pendingRequests[g],0===r.status&&this.isHttp)return void(null==(P=u.onError)||P.call(u,r.status));const T=r.status||200;if((200!==T||206!==u.expectedStatus)&&T!==u.expectedStatus)return void(null==(t=u.onError)||t.call(u,r.status));const E=function(c){const g=c.response;return"string"!=typeof g?g:(0,d.stringToBytes)(g).buffer}(r);if(206===T){const S=r.getResponseHeader("Content-Range"),C=/bytes (\d+)-(\d+)\/(\d+)/.exec(S);u.onDone({begin:parseInt(C[1],10),chunk:E})}else E?u.onDone({begin:0,chunk:E}):null==(s=u.onError)||s.call(u,r.status)}getRequestXhr(g){return this.pendingRequests[g].xhr}isPendingRequest(g){return g in this.pendingRequests}abortRequest(g){const y=this.pendingRequests[g].xhr;delete this.pendingRequests[g],y.abort()}}v.PDFNetworkStream=class{constructor(g){this._source=g,this._manager=new L(g.url,{httpHeaders:g.httpHeaders,withCredentials:g.withCredentials}),this._rangeChunkSize=g.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(g){const y=this._rangeRequestReaders.indexOf(g);y>=0&&this._rangeRequestReaders.splice(y,1)}getFullReader(){return(0,d.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new o(this._manager,this._source),this._fullRequestReader}getRangeReader(g,y){const u=new i(this._manager,g,y);return u.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(u),u}cancelAllRequests(g){var y;null==(y=this._fullRequestReader)||y.cancel(g);for(const u of this._rangeRequestReaders.slice(0))u.cancel(g)}};class o{constructor(g,y){this._manager=g;const u={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=y.url,this._fullRequestId=g.requestFull(u),this._headersReceivedCapability=(0,d.createPromiseCapability)(),this._disableRange=y.disableRange||!1,this._contentLength=y.length,this._rangeChunkSize=y.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const g=this._fullRequestId,y=this._manager.getRequestXhr(g),u=R=>y.getResponseHeader(R),{allowRangeRequests:r,suggestedLength:T}=(0,te.validateRangeRequestCapabilities)({getResponseHeader:u,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=T||this._contentLength,this._filename=(0,te.extractFilenameFromHeader)(u),this._isRangeSupported&&this._manager.abortRequest(g),this._headersReceivedCapability.resolve()}_onDone(g){if(g&&(this._requests.length>0?this._requests.shift().resolve({value:g.chunk,done:!1}):this._cachedChunks.push(g.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(g){this._storedError=(0,te.createResponseStatusError)(g,this._url),this._headersReceivedCapability.reject(this._storedError);for(const y of this._requests)y.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(g){var y;null==(y=this.onProgress)||y.call(this,{loaded:g.loaded,total:g.lengthComputable?g.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var g=this;return _asyncToGenerator(function*(){if(g._storedError)throw g._storedError;if(g._cachedChunks.length>0)return{value:g._cachedChunks.shift(),done:!1};if(g._done)return{value:void 0,done:!0};const y=(0,d.createPromiseCapability)();return g._requests.push(y),y.promise})()}cancel(g){this._done=!0,this._headersReceivedCapability.reject(g);for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class i{constructor(g,y,u){this._manager=g;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=g.url,this._requestId=g.requestRange(y,u,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var g;null==(g=this.onClosed)||g.call(this,this)}_onDone(g){const y=g.chunk;this._requests.length>0?this._requests.shift().resolve({value:y,done:!1}):this._queuedChunk=y,this._done=!0;for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(g){this._storedError=(0,te.createResponseStatusError)(g,this._url);for(const y of this._requests)y.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(g){var y;this.isStreamingSupported||null==(y=this.onProgress)||y.call(this,{loaded:g.loaded})}get isStreamingSupported(){return!1}read(){var g=this;return _asyncToGenerator(function*(){if(g._storedError)throw g._storedError;if(null!==g._queuedChunk){const u=g._queuedChunk;return g._queuedChunk=null,{value:u,done:!1}}if(g._done)return{value:void 0,done:!0};const y=(0,d.createPromiseCapability)();return g._requests.push(y),y.promise})()}cancel(g){this._done=!0;for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(fe,v,Z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.PDFFetchStream=void 0;var d=Z(1),te=Z(24);function D(o,i,c){return{method:"GET",headers:o,signal:null==c?void 0:c.signal,mode:"cors",credentials:i?"include":"same-origin",redirect:"follow"}}function se(o){const i=new Headers;for(const c in o){const g=o[c];void 0!==g&&i.append(c,g)}return i}v.PDFFetchStream=class{constructor(i){this.source=i,this.isHttp=/^https?:/i.test(i.url),this.httpHeaders=this.isHttp&&i.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var i,c;return null!=(c=null==(i=this._fullRequestReader)?void 0:i._loaded)?c:0}getFullReader(){return(0,d.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new L(this),this._fullRequestReader}getRangeReader(i,c){if(c<=this._progressiveDataLength)return null;const g=new n(this,i,c);return this._rangeRequestReaders.push(g),g}cancelAllRequests(i){this._fullRequestReader&&this._fullRequestReader.cancel(i);for(const c of this._rangeRequestReaders.slice(0))c.cancel(i)}};class L{constructor(i){this._stream=i,this._reader=null,this._loaded=0,this._filename=null;const c=i.source;this._withCredentials=c.withCredentials||!1,this._contentLength=c.length,this._headersCapability=(0,d.createPromiseCapability)(),this._disableRange=c.disableRange||!1,this._rangeChunkSize=c.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!c.disableStream,this._isRangeSupported=!c.disableRange,this._headers=se(this._stream.httpHeaders);const g=c.url;fetch(g,D(this._headers,this._withCredentials,this._abortController)).then(y=>{if(!(0,te.validateResponseStatus)(y.status))throw(0,te.createResponseStatusError)(y.status,g);this._reader=y.body.getReader(),this._headersCapability.resolve();const u=R=>y.headers.get(R),{allowRangeRequests:r,suggestedLength:T}=(0,te.validateRangeRequestCapabilities)({getResponseHeader:u,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=T||this._contentLength,this._filename=(0,te.extractFilenameFromHeader)(u),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new d.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var i=this;return _asyncToGenerator(function*(){yield i._headersCapability.promise;const{value:c,done:g}=yield i._reader.read();return g?{value:c,done:g}:(i._loaded+=c.byteLength,i.onProgress&&i.onProgress({loaded:i._loaded,total:i._contentLength}),{value:new Uint8Array(c).buffer,done:!1})})()}cancel(i){this._reader&&this._reader.cancel(i),this._abortController&&this._abortController.abort()}}class n{constructor(i,c,g){this._stream=i,this._reader=null,this._loaded=0;const y=i.source;this._withCredentials=y.withCredentials||!1,this._readCapability=(0,d.createPromiseCapability)(),this._isStreamingSupported=!y.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=se(this._stream.httpHeaders),this._headers.append("Range",`bytes=${c}-${g-1}`);const u=y.url;fetch(u,D(this._headers,this._withCredentials,this._abortController)).then(r=>{if(!(0,te.validateResponseStatus)(r.status))throw(0,te.createResponseStatusError)(r.status,u);this._readCapability.resolve(),this._reader=r.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var i=this;return _asyncToGenerator(function*(){yield i._readCapability.promise;const{value:c,done:g}=yield i._reader.read();return g?{value:c,done:g}:(i._loaded+=c.byteLength,i.onProgress&&i.onProgress({loaded:i._loaded}),{value:new Uint8Array(c).buffer,done:!1})})()}cancel(i){this._reader&&this._reader.cancel(i),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(fe){var v=__webpack_module_cache__[fe];if(void 0!==v)return v.exports;var Z=__webpack_module_cache__[fe]={exports:{}};return __webpack_modules__[fe](Z,Z.exports,__w_pdfjs_require__),Z.exports}var __webpack_exports__={};return(()=>{var fe=__webpack_exports__;Object.defineProperty(fe,"__esModule",{value:!0}),Object.defineProperty(fe,"AnnotationLayer",{enumerable:!0,get:function(){return te.AnnotationLayer}}),Object.defineProperty(fe,"AnnotationMode",{enumerable:!0,get:function(){return v.AnnotationMode}}),Object.defineProperty(fe,"CMapCompressionType",{enumerable:!0,get:function(){return v.CMapCompressionType}}),Object.defineProperty(fe,"GlobalWorkerOptions",{enumerable:!0,get:function(){return D.GlobalWorkerOptions}}),Object.defineProperty(fe,"InvalidPDFException",{enumerable:!0,get:function(){return v.InvalidPDFException}}),Object.defineProperty(fe,"LoopbackPort",{enumerable:!0,get:function(){return Z.LoopbackPort}}),Object.defineProperty(fe,"MissingPDFException",{enumerable:!0,get:function(){return v.MissingPDFException}}),Object.defineProperty(fe,"OPS",{enumerable:!0,get:function(){return v.OPS}}),Object.defineProperty(fe,"PDFDataRangeTransport",{enumerable:!0,get:function(){return Z.PDFDataRangeTransport}}),Object.defineProperty(fe,"PDFDateString",{enumerable:!0,get:function(){return d.PDFDateString}}),Object.defineProperty(fe,"PDFWorker",{enumerable:!0,get:function(){return Z.PDFWorker}}),Object.defineProperty(fe,"PasswordResponses",{enumerable:!0,get:function(){return v.PasswordResponses}}),Object.defineProperty(fe,"PermissionFlag",{enumerable:!0,get:function(){return v.PermissionFlag}}),Object.defineProperty(fe,"PixelsPerInch",{enumerable:!0,get:function(){return d.PixelsPerInch}}),Object.defineProperty(fe,"RenderingCancelledException",{enumerable:!0,get:function(){return d.RenderingCancelledException}}),Object.defineProperty(fe,"SVGGraphics",{enumerable:!0,get:function(){return L.SVGGraphics}}),Object.defineProperty(fe,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return v.UNSUPPORTED_FEATURES}}),Object.defineProperty(fe,"UnexpectedResponseException",{enumerable:!0,get:function(){return v.UnexpectedResponseException}}),Object.defineProperty(fe,"Util",{enumerable:!0,get:function(){return v.Util}}),Object.defineProperty(fe,"VerbosityLevel",{enumerable:!0,get:function(){return v.VerbosityLevel}}),Object.defineProperty(fe,"XfaLayer",{enumerable:!0,get:function(){return n.XfaLayer}}),Object.defineProperty(fe,"build",{enumerable:!0,get:function(){return Z.build}}),Object.defineProperty(fe,"createPromiseCapability",{enumerable:!0,get:function(){return v.createPromiseCapability}}),Object.defineProperty(fe,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return v.createValidAbsoluteUrl}}),Object.defineProperty(fe,"getDocument",{enumerable:!0,get:function(){return Z.getDocument}}),Object.defineProperty(fe,"getFilenameFromUrl",{enumerable:!0,get:function(){return d.getFilenameFromUrl}}),Object.defineProperty(fe,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return d.getPdfFilenameFromUrl}}),Object.defineProperty(fe,"getXfaPageViewport",{enumerable:!0,get:function(){return d.getXfaPageViewport}}),Object.defineProperty(fe,"isPdfFile",{enumerable:!0,get:function(){return d.isPdfFile}}),Object.defineProperty(fe,"loadScript",{enumerable:!0,get:function(){return d.loadScript}}),Object.defineProperty(fe,"renderTextLayer",{enumerable:!0,get:function(){return Y.renderTextLayer}}),Object.defineProperty(fe,"shadow",{enumerable:!0,get:function(){return v.shadow}}),Object.defineProperty(fe,"version",{enumerable:!0,get:function(){return Z.version}});var v=__w_pdfjs_require__(1),Z=__w_pdfjs_require__(4),d=__w_pdfjs_require__(5),te=__w_pdfjs_require__(18),D=__w_pdfjs_require__(12),se=__w_pdfjs_require__(3),Y=__w_pdfjs_require__(21),L=__w_pdfjs_require__(22),n=__w_pdfjs_require__(20);if(se.isNodeJS){const{PDFNodeStream:c}=__w_pdfjs_require__(23);(0,Z.setPDFNetworkStreamFactory)(g=>new c(g))}else{const{PDFNetworkStream:c}=__w_pdfjs_require__(26),{PDFFetchStream:g}=__w_pdfjs_require__(27);(0,Z.setPDFNetworkStreamFactory)(y=>(0,d.isValidFetchUrl)(y.url)?new g(y):new c(y))}})(),__webpack_exports__})()},module.exports=Z()},5668:(fe,v,Z)=>{var p,_t;Object.defineProperty(v,"__esModule",{value:!0}),v.AnnotationLayer=void 0;var d=Z(7410),te=Z(8419),D=Z(4052),se=Z(1289),Y=Z(3829);const L=1e3,n=new WeakSet;function o(w){return{width:w[2]-w[0],height:w[3]-w[1]}}class i{static create(e){switch(e.data.annotationType){case d.AnnotationType.LINK:return new g(e);case d.AnnotationType.TEXT:return new y(e);case d.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new r(e);case"Btn":return e.data.radioButton?new R(e):e.data.checkBox?new T(e):new E(e);case"Ch":return new P(e)}return new u(e);case d.AnnotationType.POPUP:return new t(e);case d.AnnotationType.FREETEXT:return new S(e);case d.AnnotationType.LINE:return new C(e);case d.AnnotationType.SQUARE:return new _(e);case d.AnnotationType.CIRCLE:return new N(e);case d.AnnotationType.POLYLINE:return new F(e);case d.AnnotationType.CARET:return new j(e);case d.AnnotationType.INK:return new O(e);case d.AnnotationType.POLYGON:return new V(e);case d.AnnotationType.HIGHLIGHT:return new B(e);case d.AnnotationType.UNDERLINE:return new G(e);case d.AnnotationType.SQUIGGLY:return new U(e);case d.AnnotationType.STRIKEOUT:return new $(e);case d.AnnotationType.STAMP:return new m(e);case d.AnnotationType.FILEATTACHMENT:return new l(e);default:return new c(e)}}}class c{constructor(e,{isRenderable:f=!1,ignoreBorder:A=!1,createQuadrilaterals:M=!1}={}){this.isRenderable=f,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,f&&(this.container=this._createContainer(A)),M&&(this.quadrilaterals=this._createQuadrilaterals(A))}_createContainer(e=!1){const f=this.data,A=this.page,M=this.viewport,h=document.createElement("section");let{width:k,height:I}=o(f.rect);h.setAttribute("data-annotation-id",f.id);const H=d.Util.normalizeRect([f.rect[0],A.view[3]-f.rect[1]+A.view[1],f.rect[2],A.view[3]-f.rect[3]+A.view[1]]);if(f.hasOwnCanvas){const W=M.transform.slice(),[Q,oe]=d.Util.singularValueDecompose2dScale(W);k=Math.ceil(k*Q),I=Math.ceil(I*oe),H[0]*=Q,H[1]*=oe;for(let le=0;le<4;le++)W[le]=Math.sign(W[le]);h.style.transform=`matrix(${W.join(",")})`}else h.style.transform=`matrix(${M.transform.join(",")})`;if(h.style.transformOrigin=`${-H[0]}px ${-H[1]}px`,!e&&f.borderStyle.width>0){h.style.borderWidth=`${f.borderStyle.width}px`,f.borderStyle.style!==d.AnnotationBorderStyleType.UNDERLINE&&(k-=2*f.borderStyle.width,I-=2*f.borderStyle.width);const W=f.borderStyle.horizontalCornerRadius,Q=f.borderStyle.verticalCornerRadius;switch((W>0||Q>0)&&(h.style.borderRadius=`${W}px / ${Q}px`),f.borderStyle.style){case d.AnnotationBorderStyleType.SOLID:h.style.borderStyle="solid";break;case d.AnnotationBorderStyleType.DASHED:h.style.borderStyle="dashed";break;case d.AnnotationBorderStyleType.BEVELED:(0,d.warn)("Unimplemented border style: beveled");break;case d.AnnotationBorderStyleType.INSET:(0,d.warn)("Unimplemented border style: inset");break;case d.AnnotationBorderStyleType.UNDERLINE:h.style.borderBottomStyle="solid"}f.borderColor||f.color?h.style.borderColor=d.Util.makeHexColor(0|f.color[0],0|f.color[1],0|f.color[2]):h.style.borderWidth=0}return h.style.left=`${H[0]}px`,h.style.top=`${H[1]}px`,f.hasOwnCanvas?h.style.width=h.style.height="auto":(h.style.width=`${k}px`,h.style.height=`${I}px`),h}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const f=[],A=this.data.rect;for(const M of this.data.quadPoints)this.data.rect=[M[2].x,M[2].y,M[1].x,M[1].y],f.push(this._createContainer(e));return this.data.rect=A,f}_createPopup(e,f){let A=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,A=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=A.style.height,e.style.width=A.style.width,A.appendChild(e));const h=new s({container:A,trigger:e,color:f.color,titleObj:f.titleObj,modificationDate:f.modificationDate,contentsObj:f.contentsObj,richText:f.richText,hideWrapper:!0}).render();h.style.left=A.style.width,A.appendChild(h)}_renderQuadrilaterals(e){for(const f of this.quadrilaterals)f.className=e;return this.quadrilaterals}render(){(0,d.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,f=null){const A=[];if(this._fieldObjects){const M=this._fieldObjects[e];if(M)for(const{page:h,id:k,exportValues:I}of M){if(-1===h||k===f)continue;const H="string"==typeof I?I:null,W=document.getElementById(k);!W||n.has(W)?A.push({id:k,exportValue:H,domElement:W}):(0,d.warn)(`_getElementsByName - element not allowed: ${k}`)}return A}for(const M of document.getElementsByName(e)){const{id:h,exportValue:k}=M;h!==f&&(!n.has(M)||A.push({id:h,exportValue:k,domElement:M}))}return A}static get platform(){const e="undefined"!=typeof navigator?navigator.platform:"";return(0,d.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class g extends c{constructor(e,f=null){super(e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),ignoreBorder:!!(null==f?void 0:f.ignoreBorder),createQuadrilaterals:!0})}render(){var M;const{data:e,linkService:f}=this,A=document.createElement("a");if(e.url)f.addLinkAttributes||(0,d.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),null==(M=f.addLinkAttributes)||M.call(f,A,e.url,e.newWindow);else if(e.action)this._bindNamedAction(A,e.action);else if(e.dest)this._bindLink(A,e.dest);else{let h=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(h=!0,this._bindJSAction(A,e)),e.resetForm?this._bindResetFormAction(A,e.resetForm):h||this._bindLink(A,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((h,k)=>{const I=0===k?A:A.cloneNode();return h.appendChild(I),h}):(this.container.className="linkAnnotation",this.container.appendChild(A),this.container)}_bindLink(e,f){e.href=this.linkService.getDestinationHash(f),e.onclick=()=>(f&&this.linkService.goToDestination(f),!1),(f||""===f)&&(e.className="internalLink")}_bindNamedAction(e,f){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(f),!1),e.className="internalLink"}_bindJSAction(e,f){e.href=this.linkService.getAnchorUrl("");const A=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const M of Object.keys(f.actions)){const h=A.get(M);!h||(e[h]=()=>{var k;return null==(k=this.linkService.eventBus)||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f.id,name:M}}),!1})}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,f){const A=e.onclick;if(A||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,d.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(A||(e.onclick=()=>!1));e.onclick=()=>{var Q;A&&A();const{fields:M,refs:h,include:k}=f,I=[];if(0!==M.length||0!==h.length){const oe=new Set(h);for(const le of M){const ue=this._fieldObjects[le]||[];for(const{id:x}of ue)oe.add(x)}for(const le of Object.values(this._fieldObjects))for(const ue of le)oe.has(ue.id)===k&&I.push(ue)}else for(const oe of Object.values(this._fieldObjects))I.push(...oe);const H=this.annotationStorage,W=[];for(const oe of I){const{id:le}=oe;switch(W.push(le),oe.type){case"text":{const x=oe.defaultValue||"";H.setValue(le,{value:x,valueAsString:x});break}case"checkbox":case"radiobutton":H.setValue(le,{value:oe.defaultValue===oe.exportValues});break;case"combobox":case"listbox":H.setValue(le,{value:oe.defaultValue||""});break;default:continue}const ue=document.getElementById(le);!ue||!n.has(ue)||ue.dispatchEvent(new Event("resetform"))}return this.enableScripting&&(null==(Q=this.linkService.eventBus)||Q.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:W,name:"ResetForm"}})),!1}}}class y extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str))})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}class u extends c{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:f,isMac:A}=c.platform;return f&&e.ctrlKey||A&&e.metaKey}_setEventListener(e,f,A,M){f.includes("mouse")?e.addEventListener(f,h=>{var k;null==(k=this.linkService.eventBus)||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:A,value:M(h),shift:h.shiftKey,modifier:this._getKeyModifier(h)}})}):e.addEventListener(f,h=>{var k;null==(k=this.linkService.eventBus)||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:A,value:M(h)}})})}_setEventListeners(e,f,A){var M;for(const[h,k]of f)("Action"===k||(null==(M=this.data.actions)?void 0:M[k]))&&this._setEventListener(e,h,k,A)}_setBackgroundColor(e){const f=this.data.backgroundColor||null;e.style.backgroundColor=null===f?"transparent":d.Util.makeHexColor(f[0],f[1],f[2])}_dispatchEventFromSandbox(e,f){const A=(h,k,I)=>{const H=I.detail[h];I.target.style[k]=se.ColorConverters[`${H[0]}_HTML`](H.slice(1))},M={display:h=>{const k=h.detail.display%2==1;h.target.style.visibility=k?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:k,print:0===h.detail.display||3===h.detail.display})},print:h=>{this.annotationStorage.setValue(this.data.id,{print:h.detail.print})},hidden:h=>{h.target.style.visibility=h.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:h.detail.hidden})},focus:h=>{setTimeout(()=>h.target.focus({preventScroll:!1}),0)},userName:h=>{h.target.title=h.detail.userName},readonly:h=>{h.detail.readonly?h.target.setAttribute("readonly",""):h.target.removeAttribute("readonly")},required:h=>{h.detail.required?h.target.setAttribute("required",""):h.target.removeAttribute("required")},bgColor:h=>{A("bgColor","backgroundColor",h)},fillColor:h=>{A("fillColor","backgroundColor",h)},fgColor:h=>{A("fgColor","color",h)},textColor:h=>{A("textColor","color",h)},borderColor:h=>{A("borderColor","borderColor",h)},strokeColor:h=>{A("strokeColor","borderColor",h)}};for(const h of Object.keys(f.detail)){const k=e[h]||M[h];k&&k(f)}}}class r extends u{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,f,A,M){const h=this.annotationStorage;for(const k of this._getElementsByName(e.name,e.id))k.domElement&&(k.domElement[f]=A),h.setValue(k.id,{[M]:A})}render(){var M;const e=this.annotationStorage,f=this.data.id;this.container.className="textWidgetAnnotation";let A=null;if(this.renderForms){const h=e.getValue(f,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),k=h.valueAsString||h.value||"",I={userValue:null,formattedValue:null};this.data.multiLine?(A=document.createElement("textarea"),A.textContent=k):(A=document.createElement("input"),A.type="text",A.setAttribute("value",k)),n.add(A),A.disabled=this.data.readOnly,A.name=this.data.fieldName,A.tabIndex=L,I.userValue=k,A.setAttribute("id",f),A.addEventListener("input",W=>{e.setValue(f,{value:W.target.value}),this.setPropertyOnSiblings(A,"value",W.target.value,"value")}),A.addEventListener("resetform",W=>{A.value=I.userValue=this.data.defaultFieldValue||"",delete I.formattedValue});let H=W=>{I.formattedValue&&(W.target.value=I.formattedValue),W.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){A.addEventListener("focus",Q=>{I.userValue&&(Q.target.value=I.userValue)}),A.addEventListener("updatefromsandbox",Q=>{this._dispatchEventFromSandbox({value(le){I.userValue=le.detail.value||"",e.setValue(f,{value:I.userValue.toString()}),I.formattedValue||(le.target.value=I.userValue)},valueAsString(le){I.formattedValue=le.detail.valueAsString||"",le.target!==document.activeElement&&(le.target.value=I.formattedValue),e.setValue(f,{formattedValue:I.formattedValue})},selRange(le){const[ue,x]=le.detail.selRange;ue>=0&&x<le.target.value.length&&le.target.setSelectionRange(ue,x)}},Q)}),A.addEventListener("keydown",Q=>{var le;let oe=-1;"Escape"===Q.key?oe=0:"Enter"===Q.key?oe=2:"Tab"===Q.key&&(oe=3),-1!==oe&&(I.userValue=Q.target.value,null==(le=this.linkService.eventBus)||le.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:Q.target.value,willCommit:!0,commitKey:oe,selStart:Q.target.selectionStart,selEnd:Q.target.selectionEnd}}))});const W=H;H=null,A.addEventListener("blur",Q=>{var oe;I.userValue=Q.target.value,this._mouseState.isDown&&(null==(oe=this.linkService.eventBus)||oe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:Q.target.value,willCommit:!0,commitKey:1,selStart:Q.target.selectionStart,selEnd:Q.target.selectionEnd}})),W(Q)}),(null==(M=this.data.actions)?void 0:M.Keystroke)&&A.addEventListener("beforeinput",Q=>{var ce;I.formattedValue="";const{data:oe,target:le}=Q,{value:ue,selectionStart:x,selectionEnd:q}=le;null==(ce=this.linkService.eventBus)||ce.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:ue,change:oe,willCommit:!1,selStart:x,selEnd:q}})}),this._setEventListeners(A,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Q=>Q.target.value)}if(H&&A.addEventListener("blur",H),null!==this.data.maxLen&&(A.maxLength=this.data.maxLen),this.data.comb){const Q=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;A.classList.add("comb"),A.style.letterSpacing=`calc(${Q}px - 1ch)`}}else A=document.createElement("div"),A.textContent=this.data.fieldValue,A.style.verticalAlign="middle",A.style.display="table-cell";return this._setTextStyle(A),this._setBackgroundColor(A),this.container.appendChild(A),this.container}_setTextStyle(e){const{fontSize:A,fontColor:M}=this.data.defaultAppearanceData,h=e.style;A&&(h.fontSize=`${A}px`),h.color=d.Util.makeHexColor(M[0],M[1],M[2]),null!==this.data.textAlignment&&(h.textAlign=["left","center","right"][this.data.textAlignment])}}class T extends u{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,f=this.data,A=f.id;let M=e.getValue(A,{value:f.exportValue===f.fieldValue}).value;"string"==typeof M&&(M="Off"!==M,e.setValue(A,{value:M})),this.container.className="buttonWidgetAnnotation checkBox";const h=document.createElement("input");return n.add(h),h.disabled=f.readOnly,h.type="checkbox",h.name=f.fieldName,M&&h.setAttribute("checked",!0),h.setAttribute("id",A),h.setAttribute("exportValue",f.exportValue),h.tabIndex=L,h.addEventListener("change",k=>{const{name:I,checked:H}=k.target;for(const W of this._getElementsByName(I,A)){const Q=H&&W.exportValue===f.exportValue;W.domElement&&(W.domElement.checked=Q),e.setValue(W.id,{value:Q})}e.setValue(A,{value:H})}),h.addEventListener("resetform",k=>{k.target.checked=(f.defaultFieldValue||"Off")===f.exportValue}),this.enableScripting&&this.hasJSActions&&(h.addEventListener("updatefromsandbox",k=>{this._dispatchEventFromSandbox({value(H){H.target.checked="Off"!==H.detail.value,e.setValue(A,{value:H.target.checked})}},k)}),this._setEventListeners(h,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],k=>k.target.checked)),this._setBackgroundColor(h),this.container.appendChild(h),this.container}}class R extends u{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,f=this.data,A=f.id;let M=e.getValue(A,{value:f.fieldValue===f.buttonValue}).value;"string"==typeof M&&(M=M!==f.buttonValue,e.setValue(A,{value:M}));const h=document.createElement("input");if(n.add(h),h.disabled=f.readOnly,h.type="radio",h.name=f.fieldName,M&&h.setAttribute("checked",!0),h.setAttribute("id",A),h.tabIndex=L,h.addEventListener("change",k=>{const{name:I,checked:H}=k.target;for(const W of this._getElementsByName(I,A))e.setValue(W.id,{value:!1});e.setValue(A,{value:H})}),h.addEventListener("resetform",k=>{const I=f.defaultFieldValue;k.target.checked=null!=I&&I===f.buttonValue}),this.enableScripting&&this.hasJSActions){const k=f.buttonValue;h.addEventListener("updatefromsandbox",I=>{this._dispatchEventFromSandbox({value:W=>{const Q=k===W.detail.value;for(const oe of this._getElementsByName(W.target.name)){const le=Q&&oe.id===A;oe.domElement&&(oe.domElement.checked=le),e.setValue(oe.id,{value:le})}}},I)}),this._setEventListeners(h,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],I=>I.target.checked)}return this._setBackgroundColor(h),this.container.appendChild(h),this.container}}class E extends g{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),e}}class P extends u{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,f=this.data.id;e.getValue(f,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});let{fontSize:A}=this.data.defaultAppearanceData;A||(A=9);const M=`calc(${A}px * var(--zoom-factor))`,h=document.createElement("select");n.add(h),h.disabled=this.data.readOnly,h.name=this.data.fieldName,h.setAttribute("id",f),h.tabIndex=L,h.style.fontSize=`${A}px`,this.data.combo||(h.size=this.data.options.length,this.data.multiSelect&&(h.multiple=!0)),h.addEventListener("resetform",H=>{const W=this.data.defaultFieldValue;for(const Q of h.options)Q.selected=Q.value===W});for(const H of this.data.options){const W=document.createElement("option");W.textContent=H.displayValue,W.value=H.exportValue,this.data.combo&&(W.style.fontSize=M),this.data.fieldValue.includes(H.exportValue)&&W.setAttribute("selected",!0),h.appendChild(W)}const k=(H,W)=>{const Q=W?"value":"textContent",oe=H.target.options;return H.target.multiple?Array.prototype.filter.call(oe,le=>le.selected).map(le=>le[Q]):-1===oe.selectedIndex?null:oe[oe.selectedIndex][Q]},I=H=>Array.prototype.map.call(H.target.options,Q=>({displayValue:Q.textContent,exportValue:Q.value}));return this.enableScripting&&this.hasJSActions?(h.addEventListener("updatefromsandbox",H=>{this._dispatchEventFromSandbox({value(Q){const oe=Q.detail.value,le=new Set(Array.isArray(oe)?oe:[oe]);for(const ue of h.options)ue.selected=le.has(ue.value);e.setValue(f,{value:k(Q,!0)})},multipleSelection(Q){h.multiple=!0},remove(Q){const oe=h.options,le=Q.detail.remove;oe[le].selected=!1,h.remove(le),oe.length>0&&-1===Array.prototype.findIndex.call(oe,x=>x.selected)&&(oe[0].selected=!0),e.setValue(f,{value:k(Q,!0),items:I(Q)})},clear(Q){for(;0!==h.length;)h.remove(0);e.setValue(f,{value:null,items:[]})},insert(Q){const{index:oe,displayValue:le,exportValue:ue}=Q.detail.insert,x=document.createElement("option");x.textContent=le,x.value=ue,h.insertBefore(x,h.children[oe]),e.setValue(f,{value:k(Q,!0),items:I(Q)})},items(Q){const{items:oe}=Q.detail;for(;0!==h.length;)h.remove(0);for(const le of oe){const{displayValue:ue,exportValue:x}=le,q=document.createElement("option");q.textContent=ue,q.value=x,h.appendChild(q)}h.options.length>0&&(h.options[0].selected=!0),e.setValue(f,{value:k(Q,!0),items:I(Q)})},indices(Q){const oe=new Set(Q.detail.indices);for(const le of Q.target.options)le.selected=oe.has(le.index);e.setValue(f,{value:k(Q,!0)})},editable(Q){Q.target.disabled=!Q.detail.editable}},H)}),h.addEventListener("input",H=>{var oe;const W=k(H,!0),Q=k(H,!1);e.setValue(f,{value:W}),null==(oe=this.linkService.eventBus)||oe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f,name:"Keystroke",value:Q,changeEx:W,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],H=>H.target.checked)):h.addEventListener("input",function(H){e.setValue(f,{value:k(H)})}),this._setBackgroundColor(h),this.container.appendChild(h),this.container}}class t extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!((null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str))})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const A=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===A.length)return this.container;const M=new s({container:this.container,trigger:Array.from(A),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),h=this.page,k=d.Util.normalizeRect([this.data.parentRect[0],h.view[3]-this.data.parentRect[1]+h.view[1],this.data.parentRect[2],h.view[3]-this.data.parentRect[3]+h.view[1]]),I=k[0]+this.data.parentRect[2]-this.data.parentRect[0],H=k[1];return this.container.style.transformOrigin=`${-I}px ${-H}px`,this.container.style.left=`${I}px`,this.container.style.top=`${H}px`,this.container.appendChild(M.render()),this.container}}class s{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){var I,H;const f=document.createElement("div");f.className="popupWrapper",this.hideElement=this.hideWrapper?f:this.container,this.hideElement.hidden=!0;const A=document.createElement("div");A.className="popup";const M=this.color;M&&(A.style.backgroundColor=d.Util.makeHexColor(0|.7*(255-M[0])+M[0],0|.7*(255-M[1])+M[1],0|.7*(255-M[2])+M[2]));const h=document.createElement("h1");h.dir=this.titleObj.dir,h.textContent=this.titleObj.str,A.appendChild(h);const k=te.PDFDateString.toDateObject(this.modificationDate);if(k){const W=document.createElement("span");W.className="popupDate",W.textContent="{{date}}, {{time}}",W.dataset.l10nId="annotation_date_string",W.dataset.l10nArgs=JSON.stringify({date:k.toLocaleDateString(),time:k.toLocaleTimeString()}),A.appendChild(W)}if(!(null==(I=this.richText)?void 0:I.str)||(null==(H=this.contentsObj)?void 0:H.str)&&this.contentsObj.str!==this.richText.str){const W=this._formatContents(this.contentsObj);A.appendChild(W)}else Y.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:A}),A.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const W of this.trigger)W.addEventListener("click",this._toggle.bind(this)),W.addEventListener("mouseover",this._show.bind(this,!1)),W.addEventListener("mouseout",this._hide.bind(this,!1));return A.addEventListener("click",this._hide.bind(this,!0)),f.appendChild(A),f}_formatContents({str:e,dir:f}){const A=document.createElement("p");A.className="popupContent",A.dir=f;const M=e.split(/(?:\r\n?|\n)/);for(let h=0,k=M.length;h<k;++h)A.appendChild(document.createTextNode(M[h])),h<k-1&&A.appendChild(document.createElement("br"));return A}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class S extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str)),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class C extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str)),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:f,height:A}=o(e.rect),M=this.svgFactory.create(f,A),h=this.svgFactory.createElement("svg:line");return h.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),h.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),h.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),h.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),h.setAttribute("stroke-width",e.borderStyle.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),M.appendChild(h),this.container.append(M),this._createPopup(h,e),this.container}}class _ extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str)),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:f,height:A}=o(e.rect),M=this.svgFactory.create(f,A),h=e.borderStyle.width,k=this.svgFactory.createElement("svg:rect");return k.setAttribute("x",h/2),k.setAttribute("y",h/2),k.setAttribute("width",f-h),k.setAttribute("height",A-h),k.setAttribute("stroke-width",h||1),k.setAttribute("stroke","transparent"),k.setAttribute("fill","transparent"),M.appendChild(k),this.container.append(M),this._createPopup(k,e),this.container}}class N extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str)),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:f,height:A}=o(e.rect),M=this.svgFactory.create(f,A),h=e.borderStyle.width,k=this.svgFactory.createElement("svg:ellipse");return k.setAttribute("cx",f/2),k.setAttribute("cy",A/2),k.setAttribute("rx",f/2-h/2),k.setAttribute("ry",A/2-h/2),k.setAttribute("stroke-width",h||1),k.setAttribute("stroke","transparent"),k.setAttribute("fill","transparent"),M.appendChild(k),this.container.append(M),this._createPopup(k,e),this.container}}class F extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str)),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:f,height:A}=o(e.rect),M=this.svgFactory.create(f,A);let h=[];for(const I of e.vertices)h.push(I.x-e.rect[0]+","+(e.rect[3]-I.y));h=h.join(" ");const k=this.svgFactory.createElement(this.svgElementName);return k.setAttribute("points",h),k.setAttribute("stroke-width",e.borderStyle.width||1),k.setAttribute("stroke","transparent"),k.setAttribute("fill","transparent"),M.appendChild(k),this.container.append(M),this._createPopup(k,e),this.container}}class V extends F{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class j extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str)),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class O extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str)),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:f,height:A}=o(e.rect),M=this.svgFactory.create(f,A);for(const h of e.inkLists){let k=[];for(const H of h)k.push(`${H.x-e.rect[0]},${e.rect[3]-H.y}`);k=k.join(" ");const I=this.svgFactory.createElement(this.svgElementName);I.setAttribute("points",k),I.setAttribute("stroke-width",e.borderStyle.width||1),I.setAttribute("stroke","transparent"),I.setAttribute("fill","transparent"),this._createPopup(I,e),M.appendChild(I)}return this.container.append(M),this.container}}class B extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class G extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class U extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class $ extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class m extends c{constructor(e){var A,M,h;super(e,{isRenderable:!!(e.data.hasPopup||(null==(A=e.data.titleObj)?void 0:A.str)||(null==(M=e.data.contentsObj)?void 0:M.str)||(null==(h=e.data.richText)?void 0:h.str)),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class l extends c{constructor(e){var M;super(e,{isRenderable:!0});const{filename:f,content:A}=this.data.file;this.filename=(0,te.getFilenameFromUrl)(f),this.content=A,null==(M=this.linkService.eventBus)||M.dispatch("fileattachmentannotation",{source:this,id:(0,d.stringToPDFString)(f),filename:f,content:A})}render(){var f,A;this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((null==(f=this.data.titleObj)?void 0:f.str)||(null==(A=this.data.contentsObj)?void 0:A.str)||this.data.richText)&&this._createPopup(e,this.data),this.container.appendChild(e),this.container}_download(){var e;null==(e=this.downloadManager)||e.openOrDownloadData(this.container,this.content,this.filename)}}class a{static render(e){const f=[],A=[];for(const h of e.annotations){if(!h)continue;const{width:k,height:I}=o(h.rect);if(!(k<=0||I<=0)){if(h.annotationType===d.AnnotationType.POPUP){A.push(h);continue}f.push(h)}}A.length&&f.push(...A);const M=e.div;for(const h of f){const k=i.create({data:h,layer:M,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new te.DOMSVGFactory,annotationStorage:e.annotationStorage||new D.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(k.isRenderable){const I=k.render();if(h.hidden&&(I.style.visibility="hidden"),Array.isArray(I))for(const H of I)M.appendChild(H);else k instanceof t?M.prepend(I):M.appendChild(I)}}Be(this,p,_t).call(this,M,e.annotationCanvasMap)}static update(e){const{page:f,viewport:A,annotations:M,annotationCanvasMap:h,div:k}=e,I=A.transform,H=`matrix(${I.join(",")})`;let W,Q;for(const oe of M){const le=k.querySelectorAll(`[data-annotation-id="${oe.id}"]`);if(le)for(const ue of le)if(oe.hasOwnCanvas){const x=d.Util.normalizeRect([oe.rect[0],f.view[3]-oe.rect[1]+f.view[1],oe.rect[2],f.view[3]-oe.rect[3]+f.view[1]]);if(!Q){W=Math.abs(I[0]||I[1]);const ne=I.slice();for(let re=0;re<4;re++)ne[re]=Math.sign(ne[re]);Q=`matrix(${ne.join(",")})`}const q=x[0]*W,ce=x[1]*W;ue.style.left=`${q}px`,ue.style.top=`${ce}px`,ue.style.transformOrigin=`${-q}px ${-ce}px`,ue.style.transform=Q}else ue.style.transform=H}Be(this,p,_t).call(this,k,h),k.hidden=!1}}p=new WeakSet,_t=function(e,f){if(f){for(const[A,M]of f){const h=e.querySelector(`[data-annotation-id="${A}"]`);if(!h)continue;const{firstChild:k}=h;"CANVAS"===k.nodeName?h.replaceChild(M,k):h.insertBefore(M,k)}f.clear()}},Me(a,p),v.AnnotationLayer=a},4052:(fe,v,Z)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.AnnotationStorage=void 0;var d=Z(7410);v.AnnotationStorage=class{constructor(){this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(se,Y){const L=this._storage.get(se);return void 0===L?Y:Object.assign(Y,L)}setValue(se,Y){const L=this._storage.get(se);let n=!1;if(void 0!==L)for(const[o,i]of Object.entries(Y))L[o]!==i&&(n=!0,L[o]=i);else n=!0,this._storage.set(se,Y);n&&(this._timeStamp=Date.now(),this._setModified())}getAll(){return this._storage.size>0?(0,d.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get lastModified(){return this._timeStamp.toString()}}},9420:(__unused_webpack_module,exports,__webpack_require__)=>{var fe,v,Z,d,te,D,se,bt,_asyncToGenerator=__webpack_require__(1052).default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__webpack_require__(7410),_display_utils=__webpack_require__(8419),_font_loader=__webpack_require__(6438),_node_utils=__webpack_require__(7790),_annotation_storage=__webpack_require__(4052),_canvas=__webpack_require__(3180),_worker_options=__webpack_require__(8348),_is_node=__webpack_require__(7538),_message_handler=__webpack_require__(382),_metadata=__webpack_require__(144),_optional_content_config=__webpack_require__(6167),_transport_stream=__webpack_require__(1890),_xfa_text=__webpack_require__(3893);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory(L){createPDFNetworkStream=L}function getDocument(L){const n=new PDFDocumentLoadingTask;let o;if("string"==typeof L||L instanceof URL)o={url:L};else if((0,_util.isArrayBuffer)(L))o={data:L};else if(L instanceof PDFDataRangeTransport)o={range:L};else{if("object"!=typeof L)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!L.url&&!L.data&&!L.range)throw new Error("Invalid parameter object: need either .data, .range or .url");o=L}const i=Object.create(null);let c=null,g=null;for(const u in o){const r=o[u];switch(u){case"url":if("undefined"!=typeof window)try{i[u]=new URL(r,window.location).href;continue}catch(T){(0,_util.warn)(`Cannot create valid URL: "${T}".`)}else if("string"==typeof r||r instanceof URL){i[u]=r.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":c=r;continue;case"worker":g=r;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&r instanceof Buffer)i[u]=new Uint8Array(r);else{if(r instanceof Uint8Array)break;if("string"==typeof r)i[u]=(0,_util.stringToBytes)(r);else if("object"!=typeof r||null===r||isNaN(r.length)){if(!(0,_util.isArrayBuffer)(r))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");i[u]=new Uint8Array(r)}else i[u]=new Uint8Array(r)}continue}i[u]=r}if(i.rangeChunkSize=i.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,i.CMapReaderFactory=i.CMapReaderFactory||DefaultCMapReaderFactory,i.StandardFontDataFactory=i.StandardFontDataFactory||DefaultStandardFontDataFactory,i.ignoreErrors=!0!==i.stopAtErrors,i.fontExtraProperties=!0===i.fontExtraProperties,i.pdfBug=!0===i.pdfBug,i.enableXfa=!0===i.enableXfa,("string"!=typeof i.docBaseUrl||(0,_display_utils.isDataScheme)(i.docBaseUrl))&&(i.docBaseUrl=null),Number.isInteger(i.maxImageSize)||(i.maxImageSize=-1),"boolean"!=typeof i.useWorkerFetch&&(i.useWorkerFetch=i.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&i.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof i.isEvalSupported&&(i.isEvalSupported=!0),"boolean"!=typeof i.disableFontFace&&(i.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof i.useSystemFonts&&(i.useSystemFonts=!_is_node.isNodeJS&&!i.disableFontFace),void 0===i.ownerDocument&&(i.ownerDocument=globalThis.document),"boolean"!=typeof i.disableRange&&(i.disableRange=!1),"boolean"!=typeof i.disableStream&&(i.disableStream=!1),"boolean"!=typeof i.disableAutoFetch&&(i.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(i.verbosity),!g){const u={verbosity:i.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};g=u.port?PDFWorker.fromPort(u):new PDFWorker(u),n._worker=g}const y=n.docId;return g.promise.then(function(){if(n.destroyed)throw new Error("Loading aborted");const u=_fetchDocument(g,i,c,y),r=new Promise(function(T){let R;c?R=new _transport_stream.PDFDataTransportStream({length:i.length,initialData:i.initialData,progressiveDone:i.progressiveDone,contentDispositionFilename:i.contentDispositionFilename,disableRange:i.disableRange,disableStream:i.disableStream},c):i.data||(R=createPDFNetworkStream({url:i.url,length:i.length,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials,rangeChunkSize:i.rangeChunkSize,disableRange:i.disableRange,disableStream:i.disableStream})),T(R)});return Promise.all([u,r]).then(function([T,R]){if(n.destroyed)throw new Error("Loading aborted");const E=new _message_handler.MessageHandler(y,T,g.port),P=new WorkerTransport(E,n,R,i);n._transport=P,E.send("Ready",null)})}).catch(n._capability.reject),n}function _fetchDocument(L,n,o,i){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(L,n,o,i){if(L.destroyed)throw new Error("Worker was destroyed");o&&(n.length=o.length,n.initialData=o.initialData,n.progressiveDone=o.progressiveDone,n.contentDispositionFilename=o.contentDispositionFilename);const c=yield L.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.13.216",source:{data:n.data,url:n.url,password:n.password,disableAutoFetch:n.disableAutoFetch,rangeChunkSize:n.rangeChunkSize,length:n.length},maxImageSize:n.maxImageSize,disableFontFace:n.disableFontFace,docBaseUrl:n.docBaseUrl,ignoreErrors:n.ignoreErrors,isEvalSupported:n.isEvalSupported,fontExtraProperties:n.fontExtraProperties,enableXfa:n.enableXfa,useSystemFonts:n.useSystemFonts,cMapUrl:n.useWorkerFetch?n.cMapUrl:null,standardFontDataUrl:n.useWorkerFetch?n.standardFontDataUrl:null});if(L.destroyed)throw new Error("Worker was destroyed");return c})).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{static get idCounters(){return(0,_util.shadow)(this,"idCounters",{doc:0})}constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.idCounters.doc++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var n=this;return _asyncToGenerator(function*(){var o;n.destroyed=!0,yield null==(o=n._transport)?void 0:o.destroy(),n._transport=null,n._worker&&(n._worker.destroy(),n._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(n,o,i=!1,c=null){this.length=n,this.initialData=o,this.progressiveDone=i,this.contentDispositionFilename=c,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(n){this._rangeListeners.push(n)}addProgressListener(n){this._progressListeners.push(n)}addProgressiveReadListener(n){this._progressiveReadListeners.push(n)}addProgressiveDoneListener(n){this._progressiveDoneListeners.push(n)}onDataRange(n,o){for(const i of this._rangeListeners)i(n,o)}onDataProgress(n,o){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(n,o)})}onDataProgressiveRead(n){this._readyCapability.promise.then(()=>{for(const o of this._progressiveReadListeners)o(n)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const n of this._progressiveDoneListeners)n()})}transportReady(){this._readyCapability.resolve()}requestDataRange(n,o){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(n,o){var c,i=this;this._pdfInfo=n,this._transport=o,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(c=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),i.stats||{streamTypes:{},fontTypes:{}}}),function(){return c.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(n){return this._transport.getPage(n)}getPageIndex(n){return this._transport.getPageIndex(n)}getDestinations(){return this._transport.getDestinations()}getDestination(n){return this._transport.getDestination(n)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(n=!1){return this._transport.startCleanup(n||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(n,o,i,c,g=!1){this._pageIndex=n,this._pageInfo=o,this._ownerDocument=c,this._transport=i,this._stats=g?new _display_utils.StatTimer:null,this._pdfBug=g,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:n,rotation:o=this.rotate,offsetX:i=0,offsetY:c=0,dontFlip:g=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:n,rotation:o,offsetX:i,offsetY:c,dontFlip:g})}getAnnotations({intent:n="display"}={}){const o=this._transport.getRenderingIntent(n);let i=this._annotationPromises.get(o.cacheKey);return i||(i=this._transport.getAnnotations(this._pageIndex,o.renderingIntent),this._annotationPromises.set(o.cacheKey,i),i=i.then(c=>{for(const g of c)void 0!==g.titleObj&&Object.defineProperty(g,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),g.titleObj.str)}),void 0!==g.contentsObj&&Object.defineProperty(g,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),g.contentsObj.str)});return c})),i}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var n=this;return _asyncToGenerator(function*(){var o;return(null==(o=n._transport._htmlForXfa)?void 0:o.children[n._pageIndex])||null})()}render({canvasContext:n,viewport:o,intent:i="display",annotationMode:c=_util.AnnotationMode.ENABLE,transform:g=null,imageLayer:y=null,canvasFactory:u=null,background:r=null,optionalContentConfigPromise:T=null,annotationCanvasMap:R=null}){var N,F;void 0!==(null==(N=arguments[0])?void 0:N.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&c===_util.AnnotationMode.ENABLE&&(c=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null==(F=arguments[0])?void 0:F.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&c===_util.AnnotationMode.ENABLE&&(c=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const E=this._transport.getRenderingIntent(i,c);this.pendingCleanup=!1,T||(T=this._transport.getOptionalContentConfig());let P=this._intentStates.get(E.cacheKey);P||(P=Object.create(null),this._intentStates.set(E.cacheKey,P)),P.streamReaderCancelTimeout&&(clearTimeout(P.streamReaderCancelTimeout),P.streamReaderCancelTimeout=null);const t=u||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),s=!!(E.renderingIntent&_util.RenderingIntentFlag.PRINT);P.displayReadyCapability||(P.displayReadyCapability=(0,_util.createPromiseCapability)(),P.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(E));const S=V=>{P.renderTasks.delete(C),(this.cleanupAfterRender||s)&&(this.pendingCleanup=!0),this._tryCleanup(),V?(C.capability.reject(V),this._abortOperatorList({intentState:P,reason:V instanceof Error?V:new Error(V)})):C.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},C=new InternalRenderTask({callback:S,params:{canvasContext:n,viewport:o,transform:g,imageLayer:y,background:r},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:R,operatorList:P.operatorList,pageIndex:this._pageIndex,canvasFactory:t,useRequestAnimationFrame:!s,pdfBug:this._pdfBug});(P.renderTasks||(P.renderTasks=new Set)).add(C);const _=C.task;return Promise.all([P.displayReadyCapability.promise,T]).then(([V,j])=>{this.pendingCleanup?S():(this._stats&&this._stats.time("Rendering"),C.initializeGraphics({transparency:V,optionalContentConfig:j}),C.operatorListChanged())}).catch(S),_}getOperatorList({intent:n="display",annotationMode:o=_util.AnnotationMode.ENABLE}={}){const c=this._transport.getRenderingIntent(n,o,!0);let y,g=this._intentStates.get(c.cacheKey);return g||(g=Object.create(null),this._intentStates.set(c.cacheKey,g)),g.opListReadCapability||(y=Object.create(null),y.operatorListChanged=function(){g.operatorList.lastChunk&&(g.opListReadCapability.resolve(g.operatorList),g.renderTasks.delete(y))},g.opListReadCapability=(0,_util.createPromiseCapability)(),(g.renderTasks||(g.renderTasks=new Set)).add(y),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(c)),g.opListReadCapability.promise}streamTextContent({disableCombineTextItems:n=!1,includeMarkedContent:o=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==n,includeMarkedContent:!0===o},{highWaterMark:100,size:c=>c.items.length})}getTextContent(n={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_xfa_text.XfaText.textContent(i));const o=this.streamTextContent(n);return new Promise(function(i,c){const y=o.getReader(),u={items:[],styles:Object.create(null)};!function g(){y.read().then(function({value:r,done:T}){T?i(u):(Object.assign(u.styles,r.styles),u.items.push(...r.items),g())},c)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const n=[];for(const o of this._intentStates.values())if(this._abortOperatorList({intentState:o,reason:new Error("Page was destroyed."),force:!0}),!o.opListReadCapability)for(const i of o.renderTasks)n.push(i.completed),i.cancel();return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(n)}cleanup(n=!1){return this.pendingCleanup=!0,this._tryCleanup(n)}_tryCleanup(n=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:o,operatorList:i}of this._intentStates.values())if(o.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,n&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(n,o){const i=this._intentStates.get(o);!i||(this._stats&&this._stats.timeEnd("Page Request"),i.displayReadyCapability&&i.displayReadyCapability.resolve(n))}_renderPageChunk(n,o){for(let i=0,c=n.length;i<c;i++)o.operatorList.fnArray.push(n.fnArray[i]),o.operatorList.argsArray.push(n.argsArray[i]);o.operatorList.lastChunk=n.lastChunk;for(const i of o.renderTasks)i.operatorListChanged();n.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:n,cacheKey:o}){const c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:n,cacheKey:o,annotationStorage:n&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),g=this._intentStates.get(o);g.streamReader=c;const y=()=>{c.read().then(({value:u,done:r})=>{r?g.streamReader=null:this._transport.destroyed||(this._renderPageChunk(u,g),y())},u=>{if(g.streamReader=null,!this._transport.destroyed){if(g.operatorList){g.operatorList.lastChunk=!0;for(const r of g.renderTasks)r.operatorListChanged();this._tryCleanup()}if(g.displayReadyCapability)g.displayReadyCapability.reject(u);else{if(!g.opListReadCapability)throw u;g.opListReadCapability.reject(u)}}})};y()}_abortOperatorList({intentState:n,reason:o,force:i=!1}){if(n.streamReader){if(!i){if(n.renderTasks.size>0)return;if(o instanceof _display_utils.RenderingCancelledException)return void(n.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:n,reason:o,force:!0}),n.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(n.streamReader.cancel(new _util.AbortException(o.message)).catch(()=>{}),n.streamReader=null,!this._transport.destroyed){for(const[c,g]of this._intentStates)if(g===n){this._intentStates.delete(c);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(n,o){const i={data:structuredClone(n,o)};this._deferred.then(()=>{for(const c of this._listeners)c.call(this,i)})}addEventListener(n,o){this._listeners.push(o)}removeEventListener(n,o){const i=this._listeners.indexOf(o);this._listeners.splice(i,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="../pdf.worker.js";else if("object"==typeof document){const L=null==(fe=null==document?void 0:document.currentScript)?void 0:fe.src;L&&(PDFWorkerUtil.fallbackWorkerSrc=L.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(L){return URL.createObjectURL(new Blob([`importScripts("${L}");`]))};class PDFWorker{static get _workerPorts(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}constructor({name:L=null,port:n=null,verbosity:o=(0,_util.getVerbosityLevel)()}={}){if(n&&PDFWorker._workerPorts.has(n))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=L,this.destroyed=!1,this.verbosity=o,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,n)return PDFWorker._workerPorts.set(n,this),void this._initializeFromPort(n);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(L){this._port=L,this._messageHandler=new _message_handler.MessageHandler("main","worker",L),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let L=PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,L)||(L=PDFWorkerUtil.createCDNWrapper(new URL(L,window.location).href));const n=new Worker(L),o=new _message_handler.MessageHandler("main","worker",n),i=()=>{n.removeEventListener("error",c),o.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},c=()=>{this._webWorker||i()};n.addEventListener("error",c),o.on("test",y=>{n.removeEventListener("error",c),this.destroyed?i():y?(this._messageHandler=o,this._port=n,this._webWorker=n,this._readyCapability.resolve(),o.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),o.destroy(),n.terminate())}),o.on("ready",y=>{if(n.removeEventListener("error",c),this.destroyed)i();else try{g()}catch(u){this._setupFakeWorker()}});const g=()=>{const y=new Uint8Array([255]);try{o.send("test",y,[y.buffer])}catch(u){(0,_util.warn)("Cannot use postMessage transfers."),y[0]=0,o.send("test",y)}};return void g()}catch(n){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(L=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const n=new LoopbackPort;this._port=n;const o="fake"+PDFWorkerUtil.fakeWorkerId++,i=new _message_handler.MessageHandler(o+"_worker",o,n);L.setup(i,n);const c=new _message_handler.MessageHandler(o,o+"_worker",n);this._messageHandler=c,this._readyCapability.resolve(),c.send("configure",{verbosity:this.verbosity})}).catch(L=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${L.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(L){if(!(null==L?void 0:L.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(L.port)?this._workerPorts.get(L.port):new PDFWorker(L)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var L;try{return(null==(L=globalThis.pdfjsWorker)?void 0:L.WorkerMessageHandler)||null}catch(n){return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(n,o,i,c){Me(this,v,null),Me(this,Z,new Map),Me(this,d,new Map),Me(this,te,null),this.messageHandler=n,this.loadingTask=o,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:o.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:c.ownerDocument,styleElement:c.styleElement}),this._params=c,c.useWorkerFetch||(this.CMapReaderFactory=new c.CMapReaderFactory({baseUrl:c.cMapUrl,isCompressed:c.cMapPacked}),this.StandardFontDataFactory=new c.StandardFontDataFactory({baseUrl:c.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return ye(this,v)}getRenderingIntent(n,o=_util.AnnotationMode.ENABLE,i=!1){let c=_util.RenderingIntentFlag.DISPLAY,g="";switch(n){case"any":c=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":c=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${n}`)}switch(o){case _util.AnnotationMode.DISABLE:c+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:c+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:c+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,g=this.annotationStorage.lastModified;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${o}`)}return i&&(c+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:c,cacheKey:`${c}_${g}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const n=[];for(const i of ye(this,Z).values())n.push(i._destroy());ye(this,Z).clear(),ye(this,d).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const o=this.messageHandler.sendWithPromise("Terminate",null);return n.push(o),Promise.all(n).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),De(this,te,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:n,loadingTask:o}=this;n.on("GetReader",(i,c)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=g=>{this._lastProgress={loaded:g.loaded,total:g.total}},c.onPull=()=>{this._fullReader.read().then(function({value:g,done:y}){y?c.close():((0,_util.assert)((0,_util.isArrayBuffer)(g),"GetReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(g),1,[g]))}).catch(g=>{c.error(g)})},c.onCancel=g=>{this._fullReader.cancel(g),c.ready.catch(y=>{if(!this.destroyed)throw y})}}),n.on("ReaderHeadersReady",i=>{const c=(0,_util.createPromiseCapability)(),g=this._fullReader;return g.headersReady.then(()=>{var y;(!g.isStreamingSupported||!g.isRangeSupported)&&(this._lastProgress&&(null==(y=o.onProgress)||y.call(o,this._lastProgress)),g.onProgress=u=>{var r;null==(r=o.onProgress)||r.call(o,{loaded:u.loaded,total:u.total})}),c.resolve({isStreamingSupported:g.isStreamingSupported,isRangeSupported:g.isRangeSupported,contentLength:g.contentLength})},c.reject),c.promise}),n.on("GetRangeReader",(i,c)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const g=this._networkStream.getRangeReader(i.begin,i.end);g?(c.onPull=()=>{g.read().then(function({value:y,done:u}){u?c.close():((0,_util.assert)((0,_util.isArrayBuffer)(y),"GetRangeReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(y),1,[y]))}).catch(y=>{c.error(y)})},c.onCancel=y=>{g.cancel(y),c.ready.catch(u=>{if(!this.destroyed)throw u})}):c.close()}),n.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,o._capability.resolve(new PDFDocumentProxy(i,this))}),n.on("DocException",function(i){let c;switch(i.name){case"PasswordException":c=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":c=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":c=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":c=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":c=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}o._capability.reject(c)}),n.on("PasswordRequest",i=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),o.onPassword){const c=g=>{g instanceof Error?this._passwordCapability.reject(g):this._passwordCapability.resolve({password:g})};try{o.onPassword(c,i.code)}catch(g){this._passwordCapability.reject(g)}}else this._passwordCapability.reject(new _util.PasswordException(i.message,i.code));return this._passwordCapability.promise}),n.on("DataLoaded",i=>{var c;null==(c=o.onProgress)||c.call(o,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),n.on("StartRenderPage",i=>{this.destroyed||ye(this,Z).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),n.on("commonobj",([i,c,g])=>{var y;if(!this.destroyed&&!this.commonObjs.has(i))switch(c){case"Font":const u=this._params;if("error"in g){const R=g.error;(0,_util.warn)(`Error during font loading: ${R}`),this.commonObjs.resolve(i,R);break}let r=null;u.pdfBug&&(null==(y=globalThis.FontInspector)?void 0:y.enabled)&&(r={registerFont(R,E){globalThis.FontInspector.fontAdded(R,E)}});const T=new _font_loader.FontFaceObject(g,{isEvalSupported:u.isEvalSupported,disableFontFace:u.disableFontFace,ignoreErrors:u.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:r});this.fontLoader.bind(T).catch(R=>n.sendWithPromise("FontFallback",{id:i})).finally(()=>{!u.fontExtraProperties&&T.data&&(T.data=null),this.commonObjs.resolve(i,T)});break;case"FontPath":case"Image":this.commonObjs.resolve(i,g);break;default:throw new Error(`Got unknown common object type ${c}`)}}),n.on("obj",([i,c,g,y])=>{var r;if(this.destroyed)return;const u=ye(this,Z).get(c);if(!u.objs.has(i))switch(g){case"Image":u.objs.resolve(i,y),(null==(r=null==y?void 0:y.data)?void 0:r.length)>8e6&&(u.cleanupAfterRender=!0);break;case"Pattern":u.objs.resolve(i,y);break;default:throw new Error(`Got unknown object type ${g}`)}}),n.on("DocProgress",i=>{var c;this.destroyed||null==(c=o.onProgress)||c.call(o,{loaded:i.loaded,total:i.total})}),n.on("DocStats",i=>{this.destroyed||De(this,v,Object.freeze({streamTypes:Object.freeze(i.streamTypes),fontTypes:Object.freeze(i.fontTypes)}))}),n.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),n.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),n.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:n}){var o,i;this.destroyed||null==(i=(o=this.loadingTask).onUnsupportedFeature)||i.call(o,n)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(n){if(!Number.isInteger(n)||n<=0||n>this._numPages)return Promise.reject(new Error("Invalid page request."));const o=n-1,i=ye(this,d).get(o);if(i)return i;const c=this.messageHandler.sendWithPromise("GetPage",{pageIndex:o}).then(g=>{if(this.destroyed)throw new Error("Transport destroyed");const y=new PDFPageProxy(o,g,this,this._params.ownerDocument,this._params.pdfBug);return ye(this,Z).set(o,y),y});return ye(this,d).set(o,c),c}getPageIndex(n){return"object"!=typeof n||null===n||!Number.isInteger(n.num)||n.num<0||!Number.isInteger(n.gen)||n.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:n.num,gen:n.gen})}getAnnotations(n,o){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:n,intent:o})}saveDocument(){var n,o;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!=(o=null==(n=this._fullReader)?void 0:n.filename)?o:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(n){return"string"!=typeof n?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:n})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(n){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:n})}getStructTree(n){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:n})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(n=>new _optional_content_config.OptionalContentConfig(n))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return ye(this,te)||De(this,te,this.messageHandler.sendWithPromise("GetMetadata",null).then(n=>{var o,i,c,g;return{info:n[0],metadata:n[1]?new _metadata.Metadata(n[1]):null,contentDispositionFilename:null!=(i=null==(o=this._fullReader)?void 0:o.filename)?i:null,contentLength:null!=(g=null==(c=this._fullReader)?void 0:c.contentLength)?g:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(n=!1){var o=this;return _asyncToGenerator(function*(){if(yield o.messageHandler.sendWithPromise("Cleanup",null),!o.destroyed){for(const i of ye(o,Z).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);o.commonObjs.clear(),n||o.fontLoader.clear(),De(o,te,null),o._getFieldObjectsPromise=null,o._hasJSActionsPromise=null}})()}get loadingParams(){const n=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:n.disableAutoFetch,enableXfa:n.enableXfa})}}v=new WeakMap,Z=new WeakMap,d=new WeakMap,te=new WeakMap;class PDFObjects{constructor(){Me(this,se),Me(this,D,Object.create(null))}get(n,o=null){if(o){const c=Be(this,se,bt).call(this,n);return c.capability.promise.then(()=>o(c.data)),null}const i=ye(this,D)[n];if(!(null==i?void 0:i.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${n}.`);return i.data}has(n){const o=ye(this,D)[n];return(null==o?void 0:o.capability.settled)||!1}resolve(n,o=null){const i=Be(this,se,bt).call(this,n);i.data=o,i.capability.resolve()}clear(){De(this,D,Object.create(null))}}D=new WeakMap,se=new WeakSet,bt=function(n){return ye(this,D)[n]||(ye(this,D)[n]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(n){this._internalRenderTask=n,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static get canvasInUse(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}constructor({callback:n,params:o,objs:i,commonObjs:c,annotationCanvasMap:g,operatorList:y,pageIndex:u,canvasFactory:r,useRequestAnimationFrame:T=!1,pdfBug:R=!1}){this.callback=n,this.params=o,this.objs=i,this.commonObjs=c,this.annotationCanvasMap=g,this.operatorListIdx=null,this.operatorList=y,this._pageIndex=u,this.canvasFactory=r,this._pdfBug=R,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===T&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=o.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:n=!1,optionalContentConfig:o}){var r;if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.canvasInUse.add(this._canvas)}this._pdfBug&&(null==(r=globalThis.StepperManager)?void 0:r.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:c,transform:g,imageLayer:y,background:u}=this.params;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,y,o,this.annotationCanvasMap),this.gfx.beginDrawing({transform:g,viewport:c,transparency:n,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(n=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback(n||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var n=this;return _asyncToGenerator(function*(){n.cancelled||(n.operatorListIdx=n.gfx.executeOperatorList(n.operatorList,n.operatorListIdx,n._continueBound,n.stepper),n.operatorListIdx===n.operatorList.argsArray.length&&(n.running=!1,n.operatorList.lastChunk&&(n.gfx.endDrawing(),n._canvas&&InternalRenderTask.canvasInUse.delete(n._canvas),n.callback())))})()}}const version="2.13.216";exports.version=version;const build="399a0ec60";exports.build=build},3737:(fe,v,Z)=>{"use strict";var d=Z(1052).default;Object.defineProperty(v,"__esModule",{value:!0}),v.BaseStandardFontDataFactory=v.BaseSVGFactory=v.BaseCanvasFactory=v.BaseCMapReaderFactory=void 0;var te=Z(7410);class D{constructor(){this.constructor===D&&(0,te.unreachable)("Cannot initialize BaseCanvasFactory.")}create(o,i){if(o<=0||i<=0)throw new Error("Invalid canvas size");const c=this._createCanvas(o,i);return{canvas:c,context:c.getContext("2d")}}reset(o,i,c){if(!o.canvas)throw new Error("Canvas is not specified");if(i<=0||c<=0)throw new Error("Invalid canvas size");o.canvas.width=i,o.canvas.height=c}destroy(o){if(!o.canvas)throw new Error("Canvas is not specified");o.canvas.width=0,o.canvas.height=0,o.canvas=null,o.context=null}_createCanvas(o,i){(0,te.unreachable)("Abstract method `_createCanvas` called.")}}v.BaseCanvasFactory=D;class se{constructor({baseUrl:o=null,isCompressed:i=!1}){this.constructor===se&&(0,te.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=o,this.isCompressed=i}fetch({name:o}){var i=this;return d(function*(){if(!i.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!o)throw new Error("CMap name must be specified.");const c=i.baseUrl+o+(i.isCompressed?".bcmap":"");return i._fetchData(c,i.isCompressed?te.CMapCompressionType.BINARY:te.CMapCompressionType.NONE).catch(y=>{throw new Error(`Unable to load ${i.isCompressed?"binary ":""}CMap at: ${c}`)})})()}_fetchData(o,i){(0,te.unreachable)("Abstract method `_fetchData` called.")}}v.BaseCMapReaderFactory=se;class Y{constructor({baseUrl:o=null}){this.constructor===Y&&(0,te.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=o}fetch({filename:o}){var i=this;return d(function*(){if(!i.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!o)throw new Error("Font filename must be specified.");const c=`${i.baseUrl}${o}`;return i._fetchData(c).catch(g=>{throw new Error(`Unable to load font data at: ${c}`)})})()}_fetchData(o){(0,te.unreachable)("Abstract method `_fetchData` called.")}}v.BaseStandardFontDataFactory=Y;class L{constructor(){this.constructor===L&&(0,te.unreachable)("Cannot initialize BaseSVGFactory.")}create(o,i){if(o<=0||i<=0)throw new Error("Invalid SVG dimensions");const c=this._createSVG("svg:svg");return c.setAttribute("version","1.1"),c.setAttribute("width",`${o}px`),c.setAttribute("height",`${i}px`),c.setAttribute("preserveAspectRatio","none"),c.setAttribute("viewBox",`0 0 ${o} ${i}`),c}createElement(o){if("string"!=typeof o)throw new Error("Invalid SVG element type");return this._createSVG(o)}_createSVG(o){(0,te.unreachable)("Abstract method `_createSVG` called.")}}v.BaseSVGFactory=L},3180:(fe,v,Z)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.CanvasGraphics=void 0;var d=Z(7410),te=Z(5406),D=Z(8419);const L=4096,g=16;function r(m){if(m._transformStack&&(m._transformStack=[]),!m.mozCurrentTransform){m._originalSave=m.save,m._originalRestore=m.restore,m._originalRotate=m.rotate,m._originalScale=m.scale,m._originalTranslate=m.translate,m._originalTransform=m.transform,m._originalSetTransform=m.setTransform,m._originalResetTransform=m.resetTransform,m._transformMatrix=m._transformMatrix||[1,0,0,1,0,0],m._transformStack=[];try{const l=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(m),"lineWidth");m._setLineWidth=l.set,m._getLineWidth=l.get,Object.defineProperty(m,"lineWidth",{set:function(p){this._setLineWidth(1.000001*p)},get:function(){return this._getLineWidth()}})}catch(l){}Object.defineProperty(m,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(m,"mozCurrentTransformInverse",{get:function(){const[a,p,b,w,e,f]=this._transformMatrix,A=a*w-p*b,M=p*b-a*w;return[w/A,p/M,b/M,a/A,(w*e-b*f)/M,(p*e-a*f)/A]}}),m.save=function(){const a=this._transformMatrix;this._transformStack.push(a),this._transformMatrix=a.slice(0,6),this._originalSave()},m.restore=function(){0===this._transformStack.length&&(0,d.warn)("Tried to restore a ctx when the stack was already empty.");const a=this._transformStack.pop();a&&(this._transformMatrix=a,this._originalRestore())},m.translate=function(a,p){const b=this._transformMatrix;b[4]=b[0]*a+b[2]*p+b[4],b[5]=b[1]*a+b[3]*p+b[5],this._originalTranslate(a,p)},m.scale=function(a,p){const b=this._transformMatrix;b[0]*=a,b[1]*=a,b[2]*=p,b[3]*=p,this._originalScale(a,p)},m.transform=function(a,p,b,w,e,f){const A=this._transformMatrix;this._transformMatrix=[A[0]*a+A[2]*p,A[1]*a+A[3]*p,A[0]*b+A[2]*w,A[1]*b+A[3]*w,A[0]*e+A[2]*f+A[4],A[1]*e+A[3]*f+A[5]],m._originalTransform(a,p,b,w,e,f)},m.setTransform=function(a,p,b,w,e,f){this._transformMatrix=[a,p,b,w,e,f],m._originalSetTransform(a,p,b,w,e,f)},m.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],m._originalResetTransform()},m.rotate=function(a){const p=Math.cos(a),b=Math.sin(a),w=this._transformMatrix;this._transformMatrix=[w[0]*p+w[2]*b,w[1]*p+w[3]*b,w[0]*-b+w[2]*p,w[1]*-b+w[3]*p,w[4],w[5]],this._originalRotate(a)}}}class T{constructor(l){this.canvasFactory=l,this.cache=Object.create(null)}getCanvas(l,a,p,b){let w;return void 0!==this.cache[l]?(w=this.cache[l],this.canvasFactory.reset(w,a,p),w.context.setTransform(1,0,0,1,0,0)):(w=this.canvasFactory.create(a,p),this.cache[l]=w),b&&r(w.context),w}clear(){for(const l in this.cache)this.canvasFactory.destroy(this.cache[l]),delete this.cache[l]}}class E{constructor(l,a){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=d.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=d.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=d.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,l,a])}clone(){const l=Object.create(this);return l.clipBox=this.clipBox.slice(),l}setCurrentPoint(l,a){this.x=l,this.y=a}updatePathMinMax(l,a,p){[a,p]=d.Util.applyTransform([a,p],l),this.minX=Math.min(this.minX,a),this.minY=Math.min(this.minY,p),this.maxX=Math.max(this.maxX,a),this.maxY=Math.max(this.maxY,p)}updateCurvePathMinMax(l,a,p,b,w,e,f,A,M){const h=d.Util.bezierBoundingBox(a,p,b,w,e,f,A,M);this.updatePathMinMax(l,h[0],h[1]),this.updatePathMinMax(l,h[2],h[3])}getPathBoundingBox(l=te.PathType.FILL,a=null){const p=[this.minX,this.minY,this.maxX,this.maxY];if(l===te.PathType.STROKE){a||(0,d.unreachable)("Stroke bounding box must include transform.");const b=d.Util.singularValueDecompose2dScale(a),w=b[0]*this.lineWidth/2,e=b[1]*this.lineWidth/2;p[0]-=w,p[1]-=e,p[2]+=w,p[3]+=e}return p}updateClipFromPath(){const l=d.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(l||[0,0,0,0])}startNewPathAndClipBox(l){this.clipBox=l,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(l=te.PathType.FILL,a=null){return d.Util.intersect(this.clipBox,this.getPathBoundingBox(l,a))}}function P(m,l,a=null){if("undefined"!=typeof ImageData&&l instanceof ImageData)return void m.putImageData(l,0,0);const p=l.height,b=l.width,w=p%g,e=(p-w)/g,f=0===w?e:e+1,A=m.createImageData(b,g);let h,M=0;const k=l.data,I=A.data;let H,W,Q,oe,le,ue,x,q;if(a)switch(a.length){case 1:le=a[0],ue=a[0],x=a[0],q=a[0];break;case 4:le=a[0],ue=a[1],x=a[2],q=a[3]}if(l.kind===d.ImageKind.GRAYSCALE_1BPP){const ce=k.byteLength,ne=new Uint32Array(I.buffer,0,I.byteLength>>2),re=ne.length,de=b+7>>3;let me=4294967295,ge=d.IsLittleEndianCached.value?4278190080:255;for(q&&255===q[0]&&0===q[255]&&([me,ge]=[ge,me]),H=0;H<f;H++){for(Q=H<e?g:w,h=0,W=0;W<Q;W++){const we=ce-M;let xe=0;const Ae=we>de?b:8*we-7,Te=-8&Ae;let ke=0,Se=0;for(;xe<Te;xe+=8)Se=k[M++],ne[h++]=128&Se?me:ge,ne[h++]=64&Se?me:ge,ne[h++]=32&Se?me:ge,ne[h++]=16&Se?me:ge,ne[h++]=8&Se?me:ge,ne[h++]=4&Se?me:ge,ne[h++]=2&Se?me:ge,ne[h++]=1&Se?me:ge;for(;xe<Ae;xe++)0===ke&&(Se=k[M++],ke=128),ne[h++]=Se&ke?me:ge,ke>>=1}for(;h<re;)ne[h++]=0;m.putImageData(A,0,H*g)}}else if(l.kind===d.ImageKind.RGBA_32BPP){const ce=!!(le||ue||x);for(W=0,oe=b*g*4,H=0;H<e;H++){if(I.set(k.subarray(M,M+oe)),M+=oe,ce)for(let ne=0;ne<oe;ne+=4)le&&(I[ne+0]=le[I[ne+0]]),ue&&(I[ne+1]=ue[I[ne+1]]),x&&(I[ne+2]=x[I[ne+2]]);m.putImageData(A,0,W),W+=g}if(H<f){if(oe=b*w*4,I.set(k.subarray(M,M+oe)),ce)for(let ne=0;ne<oe;ne+=4)le&&(I[ne+0]=le[I[ne+0]]),ue&&(I[ne+1]=ue[I[ne+1]]),x&&(I[ne+2]=x[I[ne+2]]);m.putImageData(A,0,W)}}else{if(l.kind!==d.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${l.kind}`);{const ce=!!(le||ue||x);for(Q=g,oe=b*Q,H=0;H<f;H++){for(H>=e&&(Q=w,oe=b*Q),h=0,W=oe;W--;)I[h++]=k[M++],I[h++]=k[M++],I[h++]=k[M++],I[h++]=255;if(ce)for(let ne=0;ne<h;ne+=4)le&&(I[ne+0]=le[I[ne+0]]),ue&&(I[ne+1]=ue[I[ne+1]]),x&&(I[ne+2]=x[I[ne+2]]);m.putImageData(A,0,H*g)}}}}function t(m,l){const a=l.height,p=l.width,b=a%g,w=(a-b)/g,e=0===b?w:w+1,f=m.createImageData(p,g);let A=0;const M=l.data,h=f.data;for(let k=0;k<e;k++){const I=k<w?g:b;let H=3;for(let W=0;W<I;W++){let Q,oe=0;for(let le=0;le<p;le++)oe||(Q=M[A++],oe=128),h[H]=Q&oe?0:255,H+=4,oe>>=1}m.putImageData(f,0,k*g)}}function s(m,l){const a=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let p=0,b=a.length;p<b;p++){const w=a[p];void 0!==m[w]&&(l[w]=m[w])}void 0!==m.setLineDash&&(l.setLineDash(m.getLineDash()),l.lineDashOffset=m.lineDashOffset)}function S(m){m.strokeStyle="#000000",m.fillStyle="#000000",m.fillRule="nonzero",m.globalAlpha=1,m.lineWidth=1,m.lineCap="butt",m.lineJoin="miter",m.miterLimit=10,m.globalCompositeOperation="source-over",m.font="10px sans-serif",void 0!==m.setLineDash&&(m.setLineDash([]),m.lineDashOffset=0)}function C(m,l,a,p){const b=m.length;for(let w=3;w<b;w+=4){const e=m[w];if(0===e)m[w-3]=l,m[w-2]=a,m[w-1]=p;else if(e<255){const f=255-e;m[w-3]=m[w-3]*e+l*f>>8,m[w-2]=m[w-2]*e+a*f>>8,m[w-1]=m[w-1]*e+p*f>>8}}}function _(m,l,a){const p=m.length;for(let w=3;w<p;w+=4)l[w]=l[w]*(a?a[m[w]]:m[w])*.00392156862745098|0}function N(m,l,a){const p=m.length;for(let b=3;b<p;b+=4){const w=77*m[b-3]+152*m[b-2]+28*m[b-1];l[b]=a?l[b]*a[w>>8]>>8:l[b]*w>>16}}function j(m,l){const a=d.Util.singularValueDecompose2dScale(m);a[0]=Math.fround(a[0]),a[1]=Math.fround(a[1]);const p=Math.fround((globalThis.devicePixelRatio||1)*D.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==l?l:a[0]<=p||a[1]<=p}const O=["butt","round","square"],B=["miter","round","bevel"],G={},U={};class ${constructor(l,a,p,b,w,e,f){this.ctx=l,this.current=new E(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=a,this.objs=p,this.canvasFactory=b,this.imageLayer=w,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=e,this.cachedCanvases=new T(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,l&&r(l),this._cachedGetSinglePixelWidth=null}beginDrawing({transform:l,viewport:a,transparency:p=!1,background:b=null}){const w=this.ctx.canvas.width,e=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=b||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,w,e),this.ctx.restore(),p){const f=this.cachedCanvases.getCanvas("transparent",w,e,!0);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),S(this.ctx),l&&(this.ctx.transform.apply(this.ctx,l),this.outputScaleX=l[0],this.outputScaleY=l[0]),this.ctx.transform.apply(this.ctx,a.transform),this.viewportScale=a.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(l,a,p,b){const w=l.argsArray,e=l.fnArray;let f=a||0;const A=w.length;if(A===f)return f;const M=A-f>10&&"function"==typeof p,h=M?Date.now()+15:0;let k=0;const I=this.commonObjs,H=this.objs;let W;for(;;){if(void 0!==b&&f===b.nextBreakPoint)return b.breakIt(f,p),f;if(W=e[f],W!==d.OPS.dependency)this[W].apply(this,w[f]);else for(const Q of w[f]){const oe=Q.startsWith("g_")?I:H;if(!oe.has(Q))return oe.get(Q,p),f}if(f++,f===A)return f;if(M&&++k>10){if(Date.now()>h)return p(),f;k=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(l,a){const p=l.width,b=l.height;let h,k,w=Math.max(Math.hypot(a[0],a[1]),1),e=Math.max(Math.hypot(a[2],a[3]),1),f=p,A=b,M="prescale1";for(;w>2&&f>1||e>2&&A>1;){let I=f,H=A;w>2&&f>1&&(I=Math.ceil(f/2),w/=f/I),e>2&&A>1&&(H=Math.ceil(A/2),e/=A/H),h=this.cachedCanvases.getCanvas(M,I,H),k=h.context,k.clearRect(0,0,I,H),k.drawImage(l,0,0,f,A,0,0,I,H),l=h.canvas,f=I,A=H,M="prescale1"===M?"prescale2":"prescale1"}return{img:l,paintWidth:f,paintHeight:A}}_createMaskCanvas(l){const a=this.ctx,p=l.width,b=l.height,w=this.current.fillColor,e=this.current.patternFill,f=this.cachedCanvases.getCanvas("maskCanvas",p,b);t(f.context,l);let h=d.Util.transform(a.mozCurrentTransform,[1/p,0,0,-1/b,0,0]);h=d.Util.transform(h,[1,0,0,1,0,-b]);const k=d.Util.applyTransform([0,0],h),I=d.Util.applyTransform([p,b],h),H=d.Util.normalizeRect([k[0],k[1],I[0],I[1]]),W=Math.ceil(H[2]-H[0]),Q=Math.ceil(H[3]-H[1]),oe=this.cachedCanvases.getCanvas("fillCanvas",W,Q,!0),le=oe.context,ue=Math.min(k[0],I[0]),x=Math.min(k[1],I[1]);le.translate(-ue,-x),le.transform.apply(le,h);const q=this._scaleImage(f.canvas,le.mozCurrentTransformInverse);le.imageSmoothingEnabled=j(le.mozCurrentTransform,l.interpolate),le.drawImage(q.img,0,0,q.img.width,q.img.height,0,0,p,b),le.globalCompositeOperation="source-in";const ce=d.Util.transform(le.mozCurrentTransformInverse,[1,0,0,1,-ue,-x]);return le.fillStyle=e?w.getPattern(a,this,ce,te.PathType.FILL):w,le.fillRect(0,0,p,b),{canvas:oe.canvas,offsetX:Math.round(ue),offsetY:Math.round(x)}}setLineWidth(l){this.current.lineWidth=l,this.ctx.lineWidth=l}setLineCap(l){this.ctx.lineCap=O[l]}setLineJoin(l){this.ctx.lineJoin=B[l]}setMiterLimit(l){this.ctx.miterLimit=l}setDash(l,a){const p=this.ctx;void 0!==p.setLineDash&&(p.setLineDash(l),p.lineDashOffset=a)}setRenderingIntent(l){}setFlatness(l){}setGState(l){for(let a=0,p=l.length;a<p;a++){const b=l[a],e=b[1];switch(b[0]){case"LW":this.setLineWidth(e);break;case"LC":this.setLineCap(e);break;case"LJ":this.setLineJoin(e);break;case"ML":this.setMiterLimit(e);break;case"D":this.setDash(e[0],e[1]);break;case"RI":this.setRenderingIntent(e);break;case"FL":this.setFlatness(e);break;case"Font":this.setFont(e[0],e[1]);break;case"CA":this.current.strokeAlpha=b[1];break;case"ca":this.current.fillAlpha=b[1],this.ctx.globalAlpha=b[1];break;case"BM":this.ctx.globalCompositeOperation=e;break;case"SMask":this.current.activeSMask=e?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=e}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const l=this.inSMaskMode;this.current.activeSMask&&!l?this.beginSMaskMode():!this.current.activeSMask&&l&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const b=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=b.context;const w=this.ctx;w.setTransform.apply(w,this.suspendedCtx.mozCurrentTransform),s(this.suspendedCtx,w),function(m,l){if(m._removeMirroring)throw new Error("Context is already forwarding operations.");m.__originalSave=m.save,m.__originalRestore=m.restore,m.__originalRotate=m.rotate,m.__originalScale=m.scale,m.__originalTranslate=m.translate,m.__originalTransform=m.transform,m.__originalSetTransform=m.setTransform,m.__originalResetTransform=m.resetTransform,m.__originalClip=m.clip,m.__originalMoveTo=m.moveTo,m.__originalLineTo=m.lineTo,m.__originalBezierCurveTo=m.bezierCurveTo,m.__originalRect=m.rect,m.__originalClosePath=m.closePath,m.__originalBeginPath=m.beginPath,m._removeMirroring=()=>{m.save=m.__originalSave,m.restore=m.__originalRestore,m.rotate=m.__originalRotate,m.scale=m.__originalScale,m.translate=m.__originalTranslate,m.transform=m.__originalTransform,m.setTransform=m.__originalSetTransform,m.resetTransform=m.__originalResetTransform,m.clip=m.__originalClip,m.moveTo=m.__originalMoveTo,m.lineTo=m.__originalLineTo,m.bezierCurveTo=m.__originalBezierCurveTo,m.rect=m.__originalRect,m.closePath=m.__originalClosePath,m.beginPath=m.__originalBeginPath,delete m._removeMirroring},m.save=function(){l.save(),this.__originalSave()},m.restore=function(){l.restore(),this.__originalRestore()},m.translate=function(p,b){l.translate(p,b),this.__originalTranslate(p,b)},m.scale=function(p,b){l.scale(p,b),this.__originalScale(p,b)},m.transform=function(p,b,w,e,f,A){l.transform(p,b,w,e,f,A),this.__originalTransform(p,b,w,e,f,A)},m.setTransform=function(p,b,w,e,f,A){l.setTransform(p,b,w,e,f,A),this.__originalSetTransform(p,b,w,e,f,A)},m.resetTransform=function(){l.resetTransform(),this.__originalResetTransform()},m.rotate=function(p){l.rotate(p),this.__originalRotate(p)},m.clip=function(p){l.clip(p),this.__originalClip(p)},m.moveTo=function(a,p){l.moveTo(a,p),this.__originalMoveTo(a,p)},m.lineTo=function(a,p){l.lineTo(a,p),this.__originalLineTo(a,p)},m.bezierCurveTo=function(a,p,b,w,e,f){l.bezierCurveTo(a,p,b,w,e,f),this.__originalBezierCurveTo(a,p,b,w,e,f)},m.rect=function(a,p,b,w){l.rect(a,p,b,w),this.__originalRect(a,p,b,w)},m.closePath=function(){l.closePath(),this.__originalClosePath()},m.beginPath=function(){l.beginPath(),this.__originalBeginPath()}}(w,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),s(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(l){this.current.activeSMask&&(l?(l[0]=Math.floor(l[0]),l[1]=Math.floor(l[1]),l[2]=Math.ceil(l[2]),l[3]=Math.ceil(l[3])):l=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function(m,l,a,p){const b=p[0],w=p[1],e=p[2]-b,f=p[3]-w;0===e||0===f||(function(m,l,a,p,b,w,e,f,A,M,h){const k=!!w,I=k?w[0]:0,H=k?w[1]:0,W=k?w[2]:0;let Q;Q="Luminosity"===b?N:_;const le=Math.min(p,Math.ceil(1048576/a));for(let ue=0;ue<p;ue+=le){const x=Math.min(le,p-ue),q=m.getImageData(f-M,ue+(A-h),a,x),ce=l.getImageData(f,ue+A,a,x);k&&C(q.data,I,H,W),Q(q.data,ce.data,e),l.putImageData(ce,f,ue+A)}}(l.context,a,e,f,l.subtype,l.backdrop,l.transferMap,b,w,l.offsetX,l.offsetY),m.save(),m.globalAlpha=1,m.globalCompositeOperation="source-over",m.setTransform(1,0,0,1,0,0),m.drawImage(a.canvas,0,0),m.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,l),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(s(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const l=this.current;this.stateStack.push(l),this.current=l.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),s(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}transform(l,a,p,b,w,e){this.ctx.transform(l,a,p,b,w,e),this._cachedGetSinglePixelWidth=null}constructPath(l,a){const p=this.ctx,b=this.current;let f,A,w=b.x,e=b.y;for(let M=0,h=0,k=l.length;M<k;M++)switch(0|l[M]){case d.OPS.rectangle:w=a[h++],e=a[h++];const I=a[h++],H=a[h++],W=w+I,Q=e+H;p.moveTo(w,e),0===I||0===H?p.lineTo(W,Q):(p.lineTo(W,e),p.lineTo(W,Q),p.lineTo(w,Q)),b.updatePathMinMax(p.mozCurrentTransform,w,e),b.updatePathMinMax(p.mozCurrentTransform,W,Q),p.closePath();break;case d.OPS.moveTo:w=a[h++],e=a[h++],p.moveTo(w,e),b.updatePathMinMax(p.mozCurrentTransform,w,e);break;case d.OPS.lineTo:w=a[h++],e=a[h++],p.lineTo(w,e),b.updatePathMinMax(p.mozCurrentTransform,w,e);break;case d.OPS.curveTo:f=w,A=e,w=a[h+4],e=a[h+5],p.bezierCurveTo(a[h],a[h+1],a[h+2],a[h+3],w,e),b.updateCurvePathMinMax(p.mozCurrentTransform,f,A,a[h],a[h+1],a[h+2],a[h+3],w,e),h+=6;break;case d.OPS.curveTo2:f=w,A=e,p.bezierCurveTo(w,e,a[h],a[h+1],a[h+2],a[h+3]),b.updateCurvePathMinMax(p.mozCurrentTransform,f,A,w,e,a[h],a[h+1],a[h+2],a[h+3]),w=a[h+2],e=a[h+3],h+=4;break;case d.OPS.curveTo3:f=w,A=e,w=a[h+2],e=a[h+3],p.bezierCurveTo(a[h],a[h+1],w,e,w,e),b.updateCurvePathMinMax(p.mozCurrentTransform,f,A,a[h],a[h+1],w,e,w,e),h+=4;break;case d.OPS.closePath:p.closePath()}b.setCurrentPoint(w,e)}closePath(){this.ctx.closePath()}stroke(l){l=void 0===l||l;const a=this.ctx,p=this.current.strokeColor;if(a.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof p&&(null==p?void 0:p.getPattern)){const b=this.getSinglePixelWidth();a.save(),a.strokeStyle=p.getPattern(a,this,a.mozCurrentTransformInverse,te.PathType.STROKE),a.lineWidth=Math.max(b,this.current.lineWidth),a.stroke(),a.restore()}else{const b=this.getSinglePixelWidth();b<0&&-b>=this.current.lineWidth?(a.save(),a.resetTransform(),a.lineWidth=Math.floor(this._combinedScaleFactor),a.stroke(),a.restore()):(a.lineWidth=Math.max(b,this.current.lineWidth),a.stroke())}l&&this.consumePath(this.current.getClippedPathBoundingBox()),a.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(l){l=void 0===l||l;const a=this.ctx,p=this.current.fillColor;let w=!1;this.current.patternFill&&(a.save(),a.fillStyle=p.getPattern(a,this,a.mozCurrentTransformInverse,te.PathType.FILL),w=!0);const e=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==e&&(this.pendingEOFill?(a.fill("evenodd"),this.pendingEOFill=!1):a.fill()),w&&a.restore(),l&&this.consumePath(e)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=G}eoClip(){this.pendingClip=U}beginText(){this.current.textMatrix=d.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const l=this.pendingTextPaths,a=this.ctx;if(void 0!==l){a.save(),a.beginPath();for(let p=0;p<l.length;p++){const b=l[p];a.setTransform.apply(a,b.transform),a.translate(b.x,b.y),b.addToPath(a,b.fontSize)}a.restore(),a.clip(),a.beginPath(),delete this.pendingTextPaths}else a.beginPath()}setCharSpacing(l){this.current.charSpacing=l}setWordSpacing(l){this.current.wordSpacing=l}setHScale(l){this.current.textHScale=l/100}setLeading(l){this.current.leading=-l}setFont(l,a){const p=this.commonObjs.get(l),b=this.current;if(!p)throw new Error(`Can't find font for ${l}`);if(b.fontMatrix=p.fontMatrix||d.FONT_IDENTITY_MATRIX,(0===b.fontMatrix[0]||0===b.fontMatrix[3])&&(0,d.warn)("Invalid font matrix for font "+l),a<0?(a=-a,b.fontDirection=-1):b.fontDirection=1,this.current.font=p,this.current.fontSize=a,p.isType3Font)return;let e="normal";p.black?e="900":p.bold&&(e="bold");const f=p.italic?"italic":"normal",A=`"${p.loadedName||"sans-serif"}", ${p.fallbackName}`;let M=a;a<16?M=16:a>100&&(M=100),this.current.fontSizeScale=a/M,this.ctx.font=`${f} ${e} ${M}px ${A}`}setTextRenderingMode(l){this.current.textRenderingMode=l}setTextRise(l){this.current.textRise=l}moveText(l,a){this.current.x=this.current.lineX+=l,this.current.y=this.current.lineY+=a}setLeadingMoveText(l,a){this.setLeading(-a),this.moveText(l,a)}setTextMatrix(l,a,p,b,w,e){this.current.textMatrix=[l,a,p,b,w,e],this.current.textMatrixScale=Math.hypot(l,a),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(l,a,p,b,w){const e=this.ctx,f=this.current,A=f.font,M=f.textRenderingMode,h=f.fontSize/f.fontSizeScale,k=M&d.TextRenderingMode.FILL_STROKE_MASK,I=!!(M&d.TextRenderingMode.ADD_TO_PATH_FLAG),H=f.patternFill&&!A.missingFile;let W;(A.disableFontFace||I||H)&&(W=A.getPathGenerator(this.commonObjs,l)),A.disableFontFace||H?(e.save(),e.translate(a,p),e.beginPath(),W(e,h),b&&e.setTransform.apply(e,b),(k===d.TextRenderingMode.FILL||k===d.TextRenderingMode.FILL_STROKE)&&e.fill(),(k===d.TextRenderingMode.STROKE||k===d.TextRenderingMode.FILL_STROKE)&&(w&&(e.resetTransform(),e.lineWidth=Math.floor(this._combinedScaleFactor)),e.stroke()),e.restore()):((k===d.TextRenderingMode.FILL||k===d.TextRenderingMode.FILL_STROKE)&&e.fillText(l,a,p),(k===d.TextRenderingMode.STROKE||k===d.TextRenderingMode.FILL_STROKE)&&(w?(e.save(),e.moveTo(a,p),e.resetTransform(),e.lineWidth=Math.floor(this._combinedScaleFactor),e.strokeText(l,0,0),e.restore()):e.strokeText(l,a,p))),I&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:e.mozCurrentTransform,x:a,y:p,fontSize:h,addToPath:W})}get isFontSubpixelAAEnabled(){const{context:l}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);l.scale(1.5,1),l.fillText("I",0,10);const a=l.getImageData(0,0,10,10).data;let p=!1;for(let b=3;b<a.length;b+=4)if(a[b]>0&&a[b]<255){p=!0;break}return(0,d.shadow)(this,"isFontSubpixelAAEnabled",p)}showText(l){const a=this.current,p=a.font;if(p.isType3Font)return this.showType3Text(l);const b=a.fontSize;if(0===b)return;const w=this.ctx,e=a.fontSizeScale,f=a.charSpacing,A=a.wordSpacing,M=a.fontDirection,h=a.textHScale*M,k=l.length,I=p.vertical,H=I?1:-1,W=p.defaultVMetrics,Q=b*a.fontMatrix[0],oe=a.textRenderingMode===d.TextRenderingMode.FILL&&!p.disableFontFace&&!a.patternFill;let le;if(w.save(),w.transform.apply(w,a.textMatrix),w.translate(a.x,a.y+a.textRise),w.scale(h,M>0?-1:1),a.patternFill){w.save();const re=a.fillColor.getPattern(w,this,w.mozCurrentTransformInverse,te.PathType.FILL);le=w.mozCurrentTransform,w.restore(),w.fillStyle=re}let ue=a.lineWidth,x=!1;const q=a.textMatrixScale;if(0===q||0===ue){const re=a.textRenderingMode&d.TextRenderingMode.FILL_STROKE_MASK;(re===d.TextRenderingMode.STROKE||re===d.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,ue=this.getSinglePixelWidth(),x=ue<0)}else ue/=q;1!==e&&(w.scale(e,e),ue/=e),w.lineWidth=ue;let ne,ce=0;for(ne=0;ne<k;++ne){const re=l[ne];if("number"==typeof re){ce+=H*re*b/1e3;continue}let de=!1;const me=(re.isSpace?A:0)+f,ge=re.fontChar,we=re.accent;let xe,Ae,ke,Te=re.width;if(I){const Se=re.vmetric||W,Re=-(re.vmetric?Se[1]:.5*Te)*Q;Te=Se?-Se[0]:Te,xe=Re/e,Ae=(ce+Se[2]*Q)/e}else xe=ce/e,Ae=0;if(p.remeasure&&Te>0){const Se=1e3*w.measureText(ge).width/b*e;if(Te<Se&&this.isFontSubpixelAAEnabled){const Re=Te/Se;de=!0,w.save(),w.scale(Re,1),xe/=Re}else Te!==Se&&(xe+=(Te-Se)/2e3*b/e)}this.contentVisible&&(re.isInFont||p.missingFile)&&(oe&&!we?w.fillText(ge,xe,Ae):(this.paintChar(ge,xe,Ae,le,x),we&&this.paintChar(we.fontChar,xe+b*we.offset.x/e,Ae-b*we.offset.y/e,le,x))),ke=I?Te*Q-me*M:Te*Q+me*M,ce+=ke,de&&w.restore()}I?a.y-=ce:a.x+=ce*h,w.restore(),this.compose()}showType3Text(l){const a=this.ctx,p=this.current,b=p.font,w=p.fontSize,e=p.fontDirection,f=b.vertical?1:-1,A=p.charSpacing,M=p.wordSpacing,h=p.textHScale*e,k=p.fontMatrix||d.FONT_IDENTITY_MATRIX,I=l.length;let W,Q,oe,le;if(p.textRenderingMode!==d.TextRenderingMode.INVISIBLE&&0!==w){for(this._cachedGetSinglePixelWidth=null,a.save(),a.transform.apply(a,p.textMatrix),a.translate(p.x,p.y),a.scale(h,e),W=0;W<I;++W){if(Q=l[W],"number"==typeof Q){le=f*Q*w/1e3,this.ctx.translate(le,0),p.x+=le*h;continue}const ue=(Q.isSpace?M:0)+A,x=b.charProcOperatorList[Q.operatorListId];x?(this.contentVisible&&(this.processingType3=Q,this.save(),a.scale(w,w),a.transform.apply(a,k),this.executeOperatorList(x),this.restore()),oe=d.Util.applyTransform([Q.width,0],k)[0]*w+ue,a.translate(oe,0),p.x+=oe*h):(0,d.warn)(`Type3 character "${Q.operatorListId}" is not available.`)}a.restore(),this.processingType3=null}}setCharWidth(l,a){}setCharWidthAndBounds(l,a,p,b,w,e){this.ctx.rect(p,b,w-p,e-b),this.clip(),this.endPath()}getColorN_Pattern(l){let a;if("TilingPattern"===l[0]){const p=l[1],b=this.baseTransform||this.ctx.mozCurrentTransform.slice();a=new te.TilingPattern(l,p,this.ctx,{createCanvasGraphics:e=>new $(e,this.commonObjs,this.objs,this.canvasFactory)},b)}else a=this._getPattern(l[1],l[2]);return a}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(l,a,p){const b=d.Util.makeHexColor(l,a,p);this.ctx.strokeStyle=b,this.current.strokeColor=b}setFillRGBColor(l,a,p){const b=d.Util.makeHexColor(l,a,p);this.ctx.fillStyle=b,this.current.fillColor=b,this.current.patternFill=!1}_getPattern(l,a=null){let p;return this.cachedPatterns.has(l)?p=this.cachedPatterns.get(l):(p=(0,te.getShadingPattern)(this.objs.get(l)),this.cachedPatterns.set(l,p)),a&&(p.matrix=a),p}shadingFill(l){if(!this.contentVisible)return;const a=this.ctx;this.save();const p=this._getPattern(l);a.fillStyle=p.getPattern(a,this,a.mozCurrentTransformInverse,te.PathType.SHADING);const b=a.mozCurrentTransformInverse;if(b){const w=a.canvas,e=w.width,f=w.height,A=d.Util.applyTransform([0,0],b),M=d.Util.applyTransform([0,f],b),h=d.Util.applyTransform([e,0],b),k=d.Util.applyTransform([e,f],b),I=Math.min(A[0],M[0],h[0],k[0]),H=Math.min(A[1],M[1],h[1],k[1]),W=Math.max(A[0],M[0],h[0],k[0]),Q=Math.max(A[1],M[1],h[1],k[1]);this.ctx.fillRect(I,H,W-I,Q-H)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,d.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,d.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(l,a){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(l)&&6===l.length&&this.transform.apply(this,l),this.baseTransform=this.ctx.mozCurrentTransform,a)&&(this.ctx.rect(a[0],a[1],a[2]-a[0],a[3]-a[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,a[0],a[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,a[2],a[3]),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(l){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const a=this.ctx;l.isolated||(0,d.info)("TODO: Support non-isolated groups."),l.knockout&&(0,d.warn)("Knockout groups not supported.");const p=a.mozCurrentTransform;if(l.matrix&&a.transform.apply(a,l.matrix),!l.bbox)throw new Error("Bounding box is required.");let b=d.Util.getAxialAlignedBoundingBox(l.bbox,a.mozCurrentTransform);b=d.Util.intersect(b,[0,0,a.canvas.width,a.canvas.height])||[0,0,0,0];const e=Math.floor(b[0]),f=Math.floor(b[1]);let A=Math.max(Math.ceil(b[2])-e,1),M=Math.max(Math.ceil(b[3])-f,1),h=1,k=1;A>L&&(h=A/L,A=L),M>L&&(k=M/L,M=L),this.current.startNewPathAndClipBox([0,0,A,M]);let I="groupAt"+this.groupLevel;l.smask&&(I+="_smask_"+this.smaskCounter++%2);const H=this.cachedCanvases.getCanvas(I,A,M,!0),W=H.context;W.scale(1/h,1/k),W.translate(-e,-f),W.transform.apply(W,p),l.smask?this.smaskStack.push({canvas:H.canvas,context:W,offsetX:e,offsetY:f,scaleX:h,scaleY:k,subtype:l.smask.subtype,backdrop:l.smask.backdrop,transferMap:l.smask.transferMap||null,startTransformInverse:null}):(a.setTransform(1,0,0,1,0,0),a.translate(e,f),a.scale(h,k),a.save()),s(a,W),this.ctx=W,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(a),this.groupLevel++}endGroup(l){if(!this.contentVisible)return;this.groupLevel--;const a=this.ctx,p=this.groupStack.pop();if(this.ctx=p,this.ctx.imageSmoothingEnabled=!1,l.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const b=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,b);const w=d.Util.getAxialAlignedBoundingBox([0,0,a.canvas.width,a.canvas.height],b);this.ctx.drawImage(a.canvas,0,0),this.ctx.restore(),this.compose(w)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(l,a,p,b,w){if(this.save(),Array.isArray(a)&&4===a.length){const e=a[2]-a[0],f=a[3]-a[1];if(w&&this.annotationCanvasMap){(p=p.slice())[4]-=a[0],p[5]-=a[1],(a=a.slice())[0]=a[1]=0,a[2]=e,a[3]=f;const[A,M]=d.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:h}=this,k=Math.ceil(e*this.outputScaleX*h),I=Math.ceil(f*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(k,I);const{canvas:H,context:W}=this.annotationCanvas;H.style.width=`calc(${e}px * var(--viewport-scale-factor))`,H.style.height=`calc(${f}px * var(--viewport-scale-factor))`,this.annotationCanvasMap.set(l,H),this.annotationCanvas.savedCtx=this.ctx,this.ctx=W,this.ctx.setTransform(A,0,0,-M,0,f*M),r(this.ctx),S(this.ctx)}else S(this.ctx),this.ctx.rect(a[0],a[1],e,f),this.clip(),this.endPath()}this.current=new E(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,p),this.transform.apply(this,b)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(l){if(!this.contentVisible)return;const a=this.ctx,p=l.width,b=l.height,w=this.processingType3;if(w&&void 0===w.compiled&&(w.compiled=p<=1e3&&b<=1e3?function(m){const a=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),p=m.width,b=m.height,w=p+1;let e,f,A,M;const h=new Uint8Array(w*(b+1)),k=p+7&-8,I=m.data,H=new Uint8Array(k*b);let W=0;for(e=0,f=I.length;e<f;e++){const x=I[e];let q=128;for(;q>0;)H[W++]=x&q?0:255,q>>=1}let Q=0;for(W=0,0!==H[W]&&(h[0]=1,++Q),A=1;A<p;A++)H[W]!==H[W+1]&&(h[A]=H[W]?2:1,++Q),W++;for(0!==H[W]&&(h[A]=2,++Q),e=1;e<b;e++){W=e*k,M=e*w,H[W-k]!==H[W]&&(h[M]=H[W]?1:8,++Q);let x=(H[W]?4:0)+(H[W-k]?8:0);for(A=1;A<p;A++)x=(x>>2)+(H[W+1]?4:0)+(H[W-k+1]?8:0),a[x]&&(h[M+A]=a[x],++Q),W++;if(H[W-k]!==H[W]&&(h[M+A]=H[W]?2:4,++Q),Q>1e3)return null}for(W=k*(b-1),M=e*w,0!==H[W]&&(h[M]=8,++Q),A=1;A<p;A++)H[W]!==H[W+1]&&(h[M+A]=H[W]?4:8,++Q),W++;if(0!==H[W]&&(h[M+A]=4,++Q),Q>1e3)return null;const oe=new Int32Array([0,w,-1,0,-w,0,0,0,1]),le=[];for(e=0;Q&&e<=b;e++){let x=e*w;const q=x+p;for(;x<q&&!h[x];)x++;if(x===q)continue;const ce=[x%w,e],ne=x;let re=h[x];do{const de=oe[re];do{x+=de}while(!h[x]);const me=h[x];5!==me&&10!==me?(re=me,h[x]=0):(re=me&51*re>>4,h[x]&=re>>2|re<<2),ce.push(x%w,x/w|0),h[x]||--Q}while(ne!==x);le.push(ce),--e}return function(x){x.save(),x.scale(1/p,-1/b),x.translate(0,-b),x.beginPath();for(let q=0,ce=le.length;q<ce;q++){const ne=le[q];x.moveTo(ne[0],ne[1]);for(let re=2,de=ne.length;re<de;re+=2)x.lineTo(ne[re],ne[re+1])}x.fill(),x.beginPath(),x.restore()}}({data:l.data,width:p,height:b}):null),null==w?void 0:w.compiled)return void w.compiled(a);const e=this._createMaskCanvas(l),f=e.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(f,e.offsetX,e.offsetY),a.restore(),this.compose()}paintImageMaskXObjectRepeat(l,a,p=0,b=0,w,e){if(!this.contentVisible)return;const f=this.ctx;f.save();const A=f.mozCurrentTransform;f.transform(a,p,b,w,0,0);const M=this._createMaskCanvas(l);f.setTransform(1,0,0,1,0,0);for(let h=0,k=e.length;h<k;h+=2){const I=d.Util.transform(A,[a,p,b,w,e[h],e[h+1]]),[H,W]=d.Util.applyTransform([0,0],I);f.drawImage(M.canvas,H,W)}f.restore(),this.compose()}paintImageMaskXObjectGroup(l){if(!this.contentVisible)return;const a=this.ctx,p=this.current.fillColor,b=this.current.patternFill;for(let w=0,e=l.length;w<e;w++){const f=l[w],A=f.width,M=f.height,h=this.cachedCanvases.getCanvas("maskCanvas",A,M),k=h.context;k.save(),t(k,f),k.globalCompositeOperation="source-in",k.fillStyle=b?p.getPattern(k,this,a.mozCurrentTransformInverse,te.PathType.FILL):p,k.fillRect(0,0,A,M),k.restore(),a.save(),a.transform.apply(a,f.transform),a.scale(1,-1),a.drawImage(h.canvas,0,0,A,M,0,-1,1,1),a.restore()}this.compose()}paintImageXObject(l){if(!this.contentVisible)return;const a=l.startsWith("g_")?this.commonObjs.get(l):this.objs.get(l);a?this.paintInlineImageXObject(a):(0,d.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(l,a,p,b){if(!this.contentVisible)return;const w=l.startsWith("g_")?this.commonObjs.get(l):this.objs.get(l);if(!w)return void(0,d.warn)("Dependent image isn't ready yet");const e=w.width,f=w.height,A=[];for(let M=0,h=b.length;M<h;M+=2)A.push({transform:[a,0,0,p,b[M],b[M+1]],x:0,y:0,w:e,h:f});this.paintInlineImageXObjectGroup(w,A)}paintInlineImageXObject(l){if(!this.contentVisible)return;const a=l.width,p=l.height,b=this.ctx;let w;if(this.save(),b.scale(1/a,-1/p),"function"==typeof HTMLElement&&l instanceof HTMLElement||!l.data)w=l;else{const f=this.cachedCanvases.getCanvas("inlineImage",a,p);P(f.context,l,this.current.transferMaps),w=f.canvas}const e=this._scaleImage(w,b.mozCurrentTransformInverse);if(b.imageSmoothingEnabled=j(b.mozCurrentTransform,l.interpolate),b.drawImage(e.img,0,0,e.paintWidth,e.paintHeight,0,-p,a,p),this.imageLayer){const f=this.getCanvasPosition(0,-p);this.imageLayer.appendImage({imgData:l,left:f[0],top:f[1],width:a/b.mozCurrentTransformInverse[0],height:p/b.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}paintInlineImageXObjectGroup(l,a){if(!this.contentVisible)return;const p=this.ctx,b=l.width,w=l.height,e=this.cachedCanvases.getCanvas("inlineImage",b,w);P(e.context,l,this.current.transferMaps);for(let A=0,M=a.length;A<M;A++){const h=a[A];if(p.save(),p.transform.apply(p,h.transform),p.scale(1,-1),p.drawImage(e.canvas,h.x,h.y,h.w,h.h,0,-1,1,1),this.imageLayer){const k=this.getCanvasPosition(h.x,h.y);this.imageLayer.appendImage({imgData:l,left:k[0],top:k[1],width:b,height:w})}p.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(l){}markPointProps(l,a){}beginMarkedContent(l){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(l,a){this.markedContentStack.push("OC"===l?{visible:this.optionalContentConfig.isVisible(a)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(l){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(l);const a=this.ctx;this.pendingClip&&(this.pendingClip===U?a.clip("evenodd"):a.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),a.beginPath()}getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){const l=this.ctx.mozCurrentTransform,a=Math.abs(l[0]*l[3]-l[2]*l[1]),p=l[0]**2+l[2]**2,b=l[1]**2+l[3]**2,w=Math.sqrt(Math.max(p,b))/a;this._cachedGetSinglePixelWidth=p!==b&&this._combinedScaleFactor*w>1?-this._combinedScaleFactor*w:a>Number.EPSILON?w:1}return this._cachedGetSinglePixelWidth}getCanvasPosition(l,a){const p=this.ctx.mozCurrentTransform;return[p[0]*l+p[2]*a+p[4],p[1]*l+p[3]*a+p[5]]}isContentVisible(){for(let l=this.markedContentStack.length-1;l>=0;l--)if(!this.markedContentStack[l].visible)return!1;return!0}}v.CanvasGraphics=$;for(const m in d.OPS)void 0!==$.prototype[m]&&($.prototype[d.OPS[m]]=$.prototype[m])},6515:(fe,v,Z)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.getFilenameFromContentDispositionHeader=function(D){let se=!0,Y=L("filename\\*","i").exec(D);if(Y){Y=Y[1];let u=c(Y);return u=unescape(u),u=g(u),u=y(u),o(u)}if(Y=function(u){const r=[];let T;const R=L("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(T=R.exec(u));){let[,P,t,s]=T;if(P=parseInt(P,10),P in r){if(0===P)break}else r[P]=[t,s]}const E=[];for(let P=0;P<r.length&&P in r;++P){let[t,s]=r[P];s=c(s),t&&(s=unescape(s),0===P&&(s=g(s))),E.push(s)}return E.join("")}(D),Y)return o(y(Y));if(Y=L("filename","i").exec(D),Y){Y=Y[1];let u=c(Y);return u=y(u),o(u)}function L(u,r){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',r)}function n(u,r){if(u){if(!/^[\x00-\xFF]+$/.test(r))return r;try{const T=new TextDecoder(u,{fatal:!0}),R=(0,d.stringToBytes)(r);r=T.decode(R),se=!1}catch(T){}}return r}function o(u){return se&&/[\x80-\xff]/.test(u)&&(u=n("utf-8",u),se&&(u=n("iso-8859-1",u))),u}function c(u){if(u.startsWith('"')){const r=u.slice(1).split('\\"');for(let T=0;T<r.length;++T){const R=r[T].indexOf('"');-1!==R&&(r[T]=r[T].slice(0,R),r.length=T+1),r[T]=r[T].replace(/\\(.)/g,"$1")}u=r.join('"')}return u}function g(u){const r=u.indexOf("'");return-1===r?u:n(u.slice(0,r),u.slice(r+1).replace(/^[^']*'/,""))}function y(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(r,T,R,E){if("q"===R||"Q"===R)return n(T,E=(E=E.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(P,t){return String.fromCharCode(parseInt(t,16))}));try{E=atob(E)}catch(P){}return n(T,E)})}return""};var d=Z(7410)},8419:(fe,v,Z)=>{"use strict";var d=Z(1052).default;Object.defineProperty(v,"__esModule",{value:!0}),v.StatTimer=v.RenderingCancelledException=v.PixelsPerInch=v.PageViewport=v.PDFDateString=v.DOMStandardFontDataFactory=v.DOMSVGFactory=v.DOMCanvasFactory=v.DOMCMapReaderFactory=void 0,v.deprecated=function(V){console.log("Deprecated API usage: "+V)},v.getFilenameFromUrl=function(V){const j=V.indexOf("#"),O=V.indexOf("?"),B=Math.min(j>0?j:V.length,O>0?O:V.length);return V.substring(V.lastIndexOf("/",B)+1,B)},v.getPdfFilenameFromUrl=function(V,j="document.pdf"){if("string"!=typeof V)return j;if(r(V))return(0,D.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),j;const B=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,G=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(V);let U=B.exec(G[1])||B.exec(G[2])||B.exec(G[3]);if(U&&(U=U[0],U.includes("%")))try{U=B.exec(decodeURIComponent(U))[0]}catch($){}return U||j},v.getXfaPageViewport=function(V,{scale:j=1,rotation:O=0}){const{width:B,height:G}=V.attributes.style,U=[0,0,parseInt(B),parseInt(G)];return new y({viewBox:U,scale:j,rotation:O})},v.isDataScheme=r,v.isPdfFile=function(V){return"string"==typeof V&&/\.pdf$/i.test(V)},v.isValidFetchUrl=t,v.loadScript=function(V,j=!1){return new Promise((O,B)=>{const G=document.createElement("script");G.src=V,G.onload=function(U){j&&G.remove(),O(U)},G.onerror=function(){B(new Error(`Cannot load script at: ${G.src}`))},(document.head||document.documentElement).appendChild(G)})};var te=Z(3737),D=Z(7410);const F=class{};let C,Y=F;function n(V){return o.apply(this,arguments)}function o(){return(o=d(function*(V,j=!1){if(t(V,document.baseURI)){const O=yield fetch(V);if(!O.ok)throw new Error(O.statusText);return j?new Uint8Array(yield O.arrayBuffer()):(0,D.stringToBytes)(yield O.text())}return new Promise((O,B)=>{const G=new XMLHttpRequest;G.open("GET",V,!0),j&&(G.responseType="arraybuffer"),G.onreadystatechange=()=>{if(G.readyState===XMLHttpRequest.DONE){if(200===G.status||0===G.status){let U;if(j&&G.response?U=new Uint8Array(G.response):!j&&G.responseText&&(U=(0,D.stringToBytes)(G.responseText)),U)return void O(U)}B(new Error(G.statusText))}},G.send(null)})})).apply(this,arguments)}at(Y,"CSS",96),at(Y,"PDF",72),at(Y,"PDF_TO_CSS_UNITS",F.CSS/F.PDF),v.PixelsPerInch=Y,v.DOMCanvasFactory=class extends te.BaseCanvasFactory{constructor({ownerDocument:j=globalThis.document}={}){super(),this._document=j}_createCanvas(j,O){const B=this._document.createElement("canvas");return B.width=j,B.height=O,B}},v.DOMCMapReaderFactory=class extends te.BaseCMapReaderFactory{_fetchData(j,O){return n(j,this.isCompressed).then(B=>({cMapData:B,compressionType:O}))}},v.DOMStandardFontDataFactory=class extends te.BaseStandardFontDataFactory{_fetchData(j){return n(j,!0)}},v.DOMSVGFactory=class extends te.BaseSVGFactory{_createSVG(j){return document.createElementNS("http://www.w3.org/2000/svg",j)}};class y{constructor({viewBox:j,scale:O,rotation:B,offsetX:G=0,offsetY:U=0,dontFlip:$=!1}){this.viewBox=j,this.scale=O,this.rotation=B,this.offsetX=G,this.offsetY=U;const m=(j[2]+j[0])/2,l=(j[3]+j[1])/2;let a,p,b,w,e,f,A,M;switch((B%=360)<0&&(B+=360),B){case 180:a=-1,p=0,b=0,w=1;break;case 90:a=0,p=1,b=1,w=0;break;case 270:a=0,p=-1,b=-1,w=0;break;case 0:a=1,p=0,b=0,w=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}$&&(b=-b,w=-w),0===a?(e=Math.abs(l-j[1])*O+G,f=Math.abs(m-j[0])*O+U,A=Math.abs(j[3]-j[1])*O,M=Math.abs(j[2]-j[0])*O):(e=Math.abs(m-j[0])*O+G,f=Math.abs(l-j[1])*O+U,A=Math.abs(j[2]-j[0])*O,M=Math.abs(j[3]-j[1])*O),this.transform=[a*O,p*O,b*O,w*O,e-a*O*m-b*O*l,f-p*O*m-w*O*l],this.width=A,this.height=M}clone({scale:j=this.scale,rotation:O=this.rotation,offsetX:B=this.offsetX,offsetY:G=this.offsetY,dontFlip:U=!1}={}){return new y({viewBox:this.viewBox.slice(),scale:j,rotation:O,offsetX:B,offsetY:G,dontFlip:U})}convertToViewportPoint(j,O){return D.Util.applyTransform([j,O],this.transform)}convertToViewportRectangle(j){const O=D.Util.applyTransform([j[0],j[1]],this.transform),B=D.Util.applyTransform([j[2],j[3]],this.transform);return[O[0],O[1],B[0],B[1]]}convertToPdfPoint(j,O){return D.Util.applyInverseTransform([j,O],this.transform)}}function r(V){const j=V.length;let O=0;for(;O<j&&""===V[O].trim();)O++;return"data:"===V.substring(O,O+5).toLowerCase()}function t(V,j){try{const{protocol:O}=j?new URL(V,j):new URL(V);return"http:"===O||"https:"===O}catch(O){return!1}}v.PageViewport=y,v.RenderingCancelledException=class extends D.BaseException{constructor(j,O){super(j,"RenderingCancelledException"),this.type=O}},v.StatTimer=class{constructor(){this.started=Object.create(null),this.times=[]}time(j){j in this.started&&(0,D.warn)(`Timer is already running for ${j}`),this.started[j]=Date.now()}timeEnd(j){j in this.started||(0,D.warn)(`Timer has not been started for ${j}`),this.times.push({name:j,start:this.started[j],end:Date.now()}),delete this.started[j]}toString(){const j=[];let O=0;for(const B of this.times){const G=B.name;G.length>O&&(O=G.length)}for(const B of this.times){const G=B.end-B.start;j.push(`${B.name.padEnd(O)} ${G}ms\n`)}return j.join("")}},v.PDFDateString=class{static toDateObject(j){if(!j||"string"!=typeof j)return null;C||(C=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const O=C.exec(j);if(!O)return null;const B=parseInt(O[1],10);let G=parseInt(O[2],10);G=G>=1&&G<=12?G-1:0;let U=parseInt(O[3],10);U=U>=1&&U<=31?U:1;let $=parseInt(O[4],10);$=$>=0&&$<=23?$:0;let m=parseInt(O[5],10);m=m>=0&&m<=59?m:0;let l=parseInt(O[6],10);l=l>=0&&l<=59?l:0;const a=O[7]||"Z";let p=parseInt(O[8],10);p=p>=0&&p<=23?p:0;let b=parseInt(O[9],10)||0;return b=b>=0&&b<=59?b:0,"-"===a?($+=p,m+=b):"+"===a&&($-=p,m-=b),new Date(Date.UTC(B,G,U,$,m,l))}}},2128:(fe,v,Z)=>{"use strict";var d=Z(1052).default;Object.defineProperty(v,"__esModule",{value:!0}),v.PDFFetchStream=void 0;var te=Z(7410),D=Z(386);function se(i,c,g){return{method:"GET",headers:i,signal:null==g?void 0:g.signal,mode:"cors",credentials:c?"include":"same-origin",redirect:"follow"}}function Y(i){const c=new Headers;for(const g in i){const y=i[g];void 0!==y&&c.append(g,y)}return c}v.PDFFetchStream=class{constructor(c){this.source=c,this.isHttp=/^https?:/i.test(c.url),this.httpHeaders=this.isHttp&&c.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var c,g;return null!=(g=null==(c=this._fullRequestReader)?void 0:c._loaded)?g:0}getFullReader(){return(0,te.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new n(this),this._fullRequestReader}getRangeReader(c,g){if(g<=this._progressiveDataLength)return null;const y=new o(this,c,g);return this._rangeRequestReaders.push(y),y}cancelAllRequests(c){this._fullRequestReader&&this._fullRequestReader.cancel(c);for(const g of this._rangeRequestReaders.slice(0))g.cancel(c)}};class n{constructor(c){this._stream=c,this._reader=null,this._loaded=0,this._filename=null;const g=c.source;this._withCredentials=g.withCredentials||!1,this._contentLength=g.length,this._headersCapability=(0,te.createPromiseCapability)(),this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._headers=Y(this._stream.httpHeaders);const y=g.url;fetch(y,se(this._headers,this._withCredentials,this._abortController)).then(u=>{if(!(0,D.validateResponseStatus)(u.status))throw(0,D.createResponseStatusError)(u.status,y);this._reader=u.body.getReader(),this._headersCapability.resolve();const r=E=>u.headers.get(E),{allowRangeRequests:T,suggestedLength:R}=(0,D.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=T,this._contentLength=R||this._contentLength,this._filename=(0,D.extractFilenameFromHeader)(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new te.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var c=this;return d(function*(){yield c._headersCapability.promise;const{value:g,done:y}=yield c._reader.read();return y?{value:g,done:y}:(c._loaded+=g.byteLength,c.onProgress&&c.onProgress({loaded:c._loaded,total:c._contentLength}),{value:new Uint8Array(g).buffer,done:!1})})()}cancel(c){this._reader&&this._reader.cancel(c),this._abortController&&this._abortController.abort()}}class o{constructor(c,g,y){this._stream=c,this._reader=null,this._loaded=0;const u=c.source;this._withCredentials=u.withCredentials||!1,this._readCapability=(0,te.createPromiseCapability)(),this._isStreamingSupported=!u.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=Y(this._stream.httpHeaders),this._headers.append("Range",`bytes=${g}-${y-1}`);const r=u.url;fetch(r,se(this._headers,this._withCredentials,this._abortController)).then(T=>{if(!(0,D.validateResponseStatus)(T.status))throw(0,D.createResponseStatusError)(T.status,r);this._readCapability.resolve(),this._reader=T.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var c=this;return d(function*(){yield c._readCapability.promise;const{value:g,done:y}=yield c._reader.read();return y?{value:g,done:y}:(c._loaded+=g.byteLength,c.onProgress&&c.onProgress({loaded:c._loaded}),{value:new Uint8Array(g).buffer,done:!1})})()}cancel(c){this._reader&&this._reader.cancel(c),this._abortController&&this._abortController.abort()}}},6438:(fe,v,Z)=>{"use strict";var d=Z(1052).default;Object.defineProperty(v,"__esModule",{value:!0}),v.FontLoader=v.FontFaceObject=void 0;var te=Z(7410);class D{constructor({docId:n,onUnsupportedFeature:o,ownerDocument:i=globalThis.document,styleElement:c=null}){this.constructor===D&&(0,te.unreachable)("Cannot initialize BaseFontLoader."),this.docId=n,this._onUnsupportedFeature=o,this._document=i,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(n){this.nativeFontFaces.push(n),this._document.fonts.add(n)}insertRule(n){let o=this.styleElement;o||(o=this.styleElement=this._document.createElement("style"),o.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(o));const i=o.sheet;i.insertRule(n,i.cssRules.length)}clear(){for(const n of this.nativeFontFaces)this._document.fonts.delete(n);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(n){var o=this;return d(function*(){if(n.attached||n.missingFile)return;if(n.attached=!0,o.isFontLoadingAPISupported){const c=n.createNativeFontFace();if(c){o.addNativeFontFace(c);try{yield c.loaded}catch(g){throw o._onUnsupportedFeature({featureId:te.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,te.warn)(`Failed to load font '${c.family}': '${g}'.`),n.disableFontFace=!0,g}}return}const i=n.createFontFaceRule();if(i){if(o.insertRule(i),o.isSyncFontLoadingSupported)return;yield new Promise(c=>{const g=o._queueLoadingCallback(c);o._prepareFontLoadEvent([i],[n],g)})}})()}_queueLoadingCallback(n){(0,te.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var o;const n=!!(null==(o=this._document)?void 0:o.fonts);return(0,te.shadow)(this,"isFontLoadingAPISupported",n)}get isSyncFontLoadingSupported(){(0,te.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,te.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(n,o,i){(0,te.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let se;v.FontLoader=se,v.FontLoader=se=class extends D{constructor(n){super(n),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let n=!1;if("undefined"==typeof navigator)n=!0;else{const o=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==o?void 0:o[1])>=14&&(n=!0)}return(0,te.shadow)(this,"isSyncFontLoadingSupported",n)}_queueLoadingCallback(n){const i=this.loadingContext,c={id:"pdfjs-font-loading-"+i.nextRequestId++,done:!1,complete:function(){for((0,te.assert)(!c.done,"completeRequest() cannot be called twice."),c.done=!0;i.requests.length>0&&i.requests[0].done;){const g=i.requests.shift();setTimeout(g.callback,0)}},callback:n};return i.requests.push(c),c}get _loadTestFont(){return(0,te.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(n,o,i){function c(O,B){return O.charCodeAt(B)<<24|O.charCodeAt(B+1)<<16|O.charCodeAt(B+2)<<8|255&O.charCodeAt(B+3)}function g(O,B,G,U){return O.substring(0,B)+U+O.substring(B+G)}let y,u;const r=this._document.createElement("canvas");r.width=1,r.height=1;const T=r.getContext("2d");let R=0;const P=`lt${Date.now()}${this.loadTestFontId++}`;let t=this._loadTestFont;t=g(t,976,P.length,P);const C=1482184792;let _=c(t,16);for(y=0,u=P.length-3;y<u;y+=4)_=_-C+c(P,y)|0;y<P.length&&(_=_-C+c(P+"XXX",y)|0),t=g(t,16,4,(0,te.string32)(_));const N=`url(data:font/opentype;base64,${btoa(t)});`;this.insertRule(`@font-face {font-family:"${P}";src:${N}}`);const V=[];for(const O of o)V.push(O.loadedName);V.push(P);const j=this._document.createElement("div");j.style.visibility="hidden",j.style.width=j.style.height="10px",j.style.position="absolute",j.style.top=j.style.left="0px";for(const O of V){const B=this._document.createElement("span");B.textContent="Hi",B.style.fontFamily=O,j.appendChild(B)}this._document.body.appendChild(j),function E(O,B){if(R++,R>30)return(0,te.warn)("Load test font never loaded."),void B();T.font="30px "+O,T.fillText(".",0,20),T.getImageData(0,0,1,1).data[3]>0?B():setTimeout(E.bind(null,O,B))}(P,()=>{j.remove(),i.complete()})}},v.FontFaceObject=class{constructor(n,{isEvalSupported:o=!0,disableFontFace:i=!1,ignoreErrors:c=!1,onUnsupportedFeature:g,fontRegistry:y=null}){this.compiledGlyphs=Object.create(null);for(const u in n)this[u]=n[u];this.isEvalSupported=!1!==o,this.disableFontFace=!0===i,this.ignoreErrors=!0===c,this._onUnsupportedFeature=g,this.fontRegistry=y}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let n;if(this.cssFontInfo){const o={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(o.style=`oblique ${this.cssFontInfo.italicAngle}deg`),n=new FontFace(this.cssFontInfo.fontFamily,this.data,o)}else n=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),n}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const n=(0,te.bytesToString)(this.data),o=`url(data:${this.mimetype};base64,${btoa(n)});`;let i;if(this.cssFontInfo){let c=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(c+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${c}src:${o}}`}else i=`@font-face {font-family:"${this.loadedName}";src:${o}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,o),i}getPathGenerator(n,o){if(void 0!==this.compiledGlyphs[o])return this.compiledGlyphs[o];let i;try{i=n.get(this.loadedName+"_path_"+o)}catch(c){if(!this.ignoreErrors)throw c;return this._onUnsupportedFeature({featureId:te.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,te.warn)(`getPathGenerator - ignoring character: "${c}".`),this.compiledGlyphs[o]=function(g,y){}}if(this.isEvalSupported&&te.IsEvalSupportedCached.value){const c=[];for(const g of i){const y=void 0!==g.args?g.args.join(","):"";c.push("c.",g.cmd,"(",y,");\n")}return this.compiledGlyphs[o]=new Function("c","size",c.join(""))}return this.compiledGlyphs[o]=function(c,g){for(const y of i)"scale"===y.cmd&&(y.args=[g,-g]),c[y.cmd].apply(c,y.args)}}}},144:(fe,v,Z)=>{var D,se;Object.defineProperty(v,"__esModule",{value:!0}),v.Metadata=void 0;var d=Z(7410);D=new WeakMap,se=new WeakMap,v.Metadata=class{constructor({parsedData:L,rawData:n}){Me(this,D,void 0),Me(this,se,void 0),De(this,D,L),De(this,se,n)}getRaw(){return ye(this,se)}get(L){var n;return null!=(n=ye(this,D).get(L))?n:null}getAll(){return(0,d.objectFromMap)(ye(this,D))}has(L){return ye(this,D).has(L)}}},6583:(fe,v,Z)=>{"use strict";var d=Z(1052).default;Object.defineProperty(v,"__esModule",{value:!0}),v.PDFNetworkStream=void 0;var te=Z(7410),D=Z(386);class n{constructor(y,u={}){this.url=y,this.isHttp=/^https?:/i.test(y),this.httpHeaders=this.isHttp&&u.httpHeaders||Object.create(null),this.withCredentials=u.withCredentials||!1,this.getXhr=u.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(y,u,r){const T={begin:y,end:u};for(const R in r)T[R]=r[R];return this.request(T)}requestFull(y){return this.request(y)}request(y){const u=this.getXhr(),r=this.currXhrId++,T=this.pendingRequests[r]={xhr:u};u.open("GET",this.url),u.withCredentials=this.withCredentials;for(const R in this.httpHeaders){const E=this.httpHeaders[R];void 0!==E&&u.setRequestHeader(R,E)}return this.isHttp&&"begin"in y&&"end"in y?(u.setRequestHeader("Range",`bytes=${y.begin}-${y.end-1}`),T.expectedStatus=206):T.expectedStatus=200,u.responseType="arraybuffer",y.onError&&(u.onerror=function(R){y.onError(u.status)}),u.onreadystatechange=this.onStateChange.bind(this,r),u.onprogress=this.onProgress.bind(this,r),T.onHeadersReceived=y.onHeadersReceived,T.onDone=y.onDone,T.onError=y.onError,T.onProgress=y.onProgress,u.send(null),r}onProgress(y,u){var T;const r=this.pendingRequests[y];!r||null==(T=r.onProgress)||T.call(r,u)}onStateChange(y,u){var t,s,S;const r=this.pendingRequests[y];if(!r)return;const T=r.xhr;if(T.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),4!==T.readyState||!(y in this.pendingRequests))return;if(delete this.pendingRequests[y],0===T.status&&this.isHttp)return void(null==(t=r.onError)||t.call(r,T.status));const R=T.status||200;if((200!==R||206!==r.expectedStatus)&&R!==r.expectedStatus)return void(null==(s=r.onError)||s.call(r,T.status));const P=function(g){const y=g.response;return"string"!=typeof y?y:(0,te.stringToBytes)(y).buffer}(T);if(206===R){const C=T.getResponseHeader("Content-Range"),_=/bytes (\d+)-(\d+)\/(\d+)/.exec(C);r.onDone({begin:parseInt(_[1],10),chunk:P})}else P?r.onDone({begin:0,chunk:P}):null==(S=r.onError)||S.call(r,T.status)}getRequestXhr(y){return this.pendingRequests[y].xhr}isPendingRequest(y){return y in this.pendingRequests}abortRequest(y){const u=this.pendingRequests[y].xhr;delete this.pendingRequests[y],u.abort()}}v.PDFNetworkStream=class{constructor(y){this._source=y,this._manager=new n(y.url,{httpHeaders:y.httpHeaders,withCredentials:y.withCredentials}),this._rangeChunkSize=y.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(y){const u=this._rangeRequestReaders.indexOf(y);u>=0&&this._rangeRequestReaders.splice(u,1)}getFullReader(){return(0,te.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new i(this._manager,this._source),this._fullRequestReader}getRangeReader(y,u){const r=new c(this._manager,y,u);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(y){var u;null==(u=this._fullRequestReader)||u.cancel(y);for(const r of this._rangeRequestReaders.slice(0))r.cancel(y)}};class i{constructor(y,u){this._manager=y;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=u.url,this._fullRequestId=y.requestFull(r),this._headersReceivedCapability=(0,te.createPromiseCapability)(),this._disableRange=u.disableRange||!1,this._contentLength=u.length,this._rangeChunkSize=u.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const y=this._fullRequestId,u=this._manager.getRequestXhr(y),r=E=>u.getResponseHeader(E),{allowRangeRequests:T,suggestedLength:R}=(0,D.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});T&&(this._isRangeSupported=!0),this._contentLength=R||this._contentLength,this._filename=(0,D.extractFilenameFromHeader)(r),this._isRangeSupported&&this._manager.abortRequest(y),this._headersReceivedCapability.resolve()}_onDone(y){if(y&&(this._requests.length>0?this._requests.shift().resolve({value:y.chunk,done:!1}):this._cachedChunks.push(y.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(y){this._storedError=(0,D.createResponseStatusError)(y,this._url),this._headersReceivedCapability.reject(this._storedError);for(const u of this._requests)u.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(y){var u;null==(u=this.onProgress)||u.call(this,{loaded:y.loaded,total:y.lengthComputable?y.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var y=this;return d(function*(){if(y._storedError)throw y._storedError;if(y._cachedChunks.length>0)return{value:y._cachedChunks.shift(),done:!1};if(y._done)return{value:void 0,done:!0};const u=(0,te.createPromiseCapability)();return y._requests.push(u),u.promise})()}cancel(y){this._done=!0,this._headersReceivedCapability.reject(y);for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class c{constructor(y,u,r){this._manager=y;const T={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=y.url,this._requestId=y.requestRange(u,r,T),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var y;null==(y=this.onClosed)||y.call(this,this)}_onDone(y){const u=y.chunk;this._requests.length>0?this._requests.shift().resolve({value:u,done:!1}):this._queuedChunk=u,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(y){this._storedError=(0,D.createResponseStatusError)(y,this._url);for(const u of this._requests)u.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(y){var u;this.isStreamingSupported||null==(u=this.onProgress)||u.call(this,{loaded:y.loaded})}get isStreamingSupported(){return!1}read(){var y=this;return d(function*(){if(y._storedError)throw y._storedError;if(null!==y._queuedChunk){const r=y._queuedChunk;return y._queuedChunk=null,{value:r,done:!1}}if(y._done)return{value:void 0,done:!0};const u=(0,te.createPromiseCapability)();return y._requests.push(u),u.promise})()}cancel(y){this._done=!0;for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},386:(fe,v,Z)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.createResponseStatusError=function(o,i){return 404===o||0===o&&i.startsWith("file:")?new d.MissingPDFException('Missing PDF "'+i+'".'):new d.UnexpectedResponseException(`Unexpected server response (${o}) while retrieving PDF "${i}".`,o)},v.extractFilenameFromHeader=function(o){const i=o("Content-Disposition");if(i){let c=(0,te.getFilenameFromContentDispositionHeader)(i);if(c.includes("%"))try{c=decodeURIComponent(c)}catch(g){}if((0,D.isPdfFile)(c))return c}return null},v.validateRangeRequestCapabilities=function({getResponseHeader:o,isHttp:i,rangeChunkSize:c,disableRange:g}){(0,d.assert)(c>0,"Range chunk size must be larger than zero");const y={allowRangeRequests:!1,suggestedLength:void 0},u=parseInt(o("Content-Length"),10);return!Number.isInteger(u)||(y.suggestedLength=u,u<=2*c)||g||!i||"bytes"!==o("Accept-Ranges")||"identity"!==(o("Content-Encoding")||"identity")||(y.allowRangeRequests=!0),y},v.validateResponseStatus=function(o){return 200===o||206===o};var d=Z(7410),te=Z(6515),D=Z(8419)},9467:(fe,v,Z)=>{"use strict";var d=Z(1052).default;Object.defineProperty(v,"__esModule",{value:!0}),v.PDFNodeStream=void 0;var te=Z(7410),D=Z(386);const se=Z(7146),Y=Z(9498),L=Z(3500),n=Z(6965),o=/^file:\/\/\/[a-zA-Z]:\//;v.PDFNodeStream=class{constructor(t){this.source=t,this.url=function(P){const t=n.parse(P);return"file:"===t.protocol||t.host?t:/^[a-z]:[/\\]/i.test(P)?n.parse(`file:///${P}`):(t.host||(t.protocol="file:"),t)}(t.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t,s;return null!=(s=null==(t=this._fullRequestReader)?void 0:t._loaded)?s:0}getFullReader(){return(0,te.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new R(this):new r(this),this._fullRequestReader}getRangeReader(t,s){if(s<=this._progressiveDataLength)return null;const S=this.isFsUrl?new E(this,t,s):new T(this,t,s);return this._rangeRequestReaders.push(S),S}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}};class g{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const s=t.source;this._contentLength=s.length,this._loaded=0,this._filename=null,this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._readableStream=null,this._readCapability=(0,te.createPromiseCapability)(),this._headersCapability=(0,te.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var t=this;return d(function*(){if(yield t._readCapability.promise,t._done)return{value:void 0,done:!0};if(t._storedError)throw t._storedError;const s=t._readableStream.read();return null===s?(t._readCapability=(0,te.createPromiseCapability)(),t.read()):(t._loaded+=s.length,t.onProgress&&t.onProgress({loaded:t._loaded,total:t._contentLength}),{value:new Uint8Array(s).buffer,done:!1})})()}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",s=>{this._error(s)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new te.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class y{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,te.createPromiseCapability)(),this._isStreamingSupported=!t.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var t=this;return d(function*(){if(yield t._readCapability.promise,t._done)return{value:void 0,done:!0};if(t._storedError)throw t._storedError;const s=t._readableStream.read();return null===s?(t._readCapability=(0,te.createPromiseCapability)(),t.read()):(t._loaded+=s.length,t.onProgress&&t.onProgress({loaded:t._loaded}),{value:new Uint8Array(s).buffer,done:!1})})()}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",s=>{this._error(s)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function u(P,t){return{protocol:P.protocol,auth:P.auth,host:P.hostname,port:P.port,path:P.path,method:"GET",headers:t}}class r extends g{constructor(t){super(t);const s=S=>{if(404===S.statusCode){const F=new te.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=F,void this._headersCapability.reject(F)}this._headersCapability.resolve(),this._setReadableStream(S);const C=F=>this._readableStream.headers[F.toLowerCase()],{allowRangeRequests:_,suggestedLength:N}=(0,D.validateRangeRequestCapabilities)({getResponseHeader:C,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=_,this._contentLength=N||this._contentLength,this._filename=(0,D.extractFilenameFromHeader)(C)};this._request=null,this._request="http:"===this._url.protocol?Y.request(u(this._url,t.httpHeaders),s):L.request(u(this._url,t.httpHeaders),s),this._request.on("error",S=>{this._storedError=S,this._headersCapability.reject(S)}),this._request.end()}}class T extends y{constructor(t,s,S){super(t),this._httpHeaders={};for(const _ in t.httpHeaders){const N=t.httpHeaders[_];void 0!==N&&(this._httpHeaders[_]=N)}this._httpHeaders.Range=`bytes=${s}-${S-1}`;const C=_=>{if(404!==_.statusCode)this._setReadableStream(_);else{const N=new te.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=N}};this._request=null,this._request="http:"===this._url.protocol?Y.request(u(this._url,this._httpHeaders),C):L.request(u(this._url,this._httpHeaders),C),this._request.on("error",_=>{this._storedError=_}),this._request.end()}}class R extends g{constructor(t){super(t);let s=decodeURIComponent(this._url.path);o.test(this._url.href)&&(s=s.replace(/^\//,"")),se.lstat(s,(S,C)=>{if(S)return"ENOENT"===S.code&&(S=new te.MissingPDFException(`Missing PDF "${s}".`)),this._storedError=S,void this._headersCapability.reject(S);this._contentLength=C.size,this._setReadableStream(se.createReadStream(s)),this._headersCapability.resolve()})}}class E extends y{constructor(t,s,S){super(t);let C=decodeURIComponent(this._url.path);o.test(this._url.href)&&(C=C.replace(/^\//,"")),this._setReadableStream(se.createReadStream(C,{start:s,end:S-1}))}}},7790:(fe,v,Z)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.NodeStandardFontDataFactory=v.NodeCanvasFactory=v.NodeCMapReaderFactory=void 0;var d=Z(3737),te=Z(7538),D=Z(7410);let se=class{constructor(){(0,D.unreachable)("Not implemented: NodeCanvasFactory")}};v.NodeCanvasFactory=se;let Y=class{constructor(){(0,D.unreachable)("Not implemented: NodeCMapReaderFactory")}};v.NodeCMapReaderFactory=Y;let L=class{constructor(){(0,D.unreachable)("Not implemented: NodeStandardFontDataFactory")}};if(v.NodeStandardFontDataFactory=L,te.isNodeJS){const n=function(o){return new Promise((i,c)=>{Z(7146).readFile(o,(y,u)=>{!y&&u?i(new Uint8Array(u)):c(new Error(y))})})};v.NodeCanvasFactory=se=class extends d.BaseCanvasFactory{_createCanvas(o,i){return Z(263).createCanvas(o,i)}},v.NodeCMapReaderFactory=Y=class extends d.BaseCMapReaderFactory{_fetchData(o,i){return n(o).then(c=>({cMapData:c,compressionType:i}))}},v.NodeStandardFontDataFactory=L=class extends d.BaseStandardFontDataFactory{_fetchData(o){return n(o)}}}},6167:(fe,v,Z)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.OptionalContentConfig=void 0;var d=Z(7410);class te{constructor(Y,L){this.visible=!0,this.name=Y,this.intent=L}}v.OptionalContentConfig=class{constructor(Y){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==Y){this.name=Y.name,this.creator=Y.creator,this._order=Y.order;for(const L of Y.groups)this._groups.set(L.id,new te(L.name,L.intent));if("OFF"===Y.baseState)for(const L of this._groups)L.visible=!1;for(const L of Y.on)this._groups.get(L).visible=!0;for(const L of Y.off)this._groups.get(L).visible=!1}}_evaluateVisibilityExpression(Y){const L=Y.length;if(L<2)return!0;const n=Y[0];for(let o=1;o<L;o++){const i=Y[o];let c;if(Array.isArray(i))c=this._evaluateVisibilityExpression(i);else{if(!this._groups.has(i))return(0,d.warn)(`Optional content group not found: ${i}`),!0;c=this._groups.get(i).visible}switch(n){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return"And"===n}isVisible(Y){if(0===this._groups.size)return!0;if(!Y)return(0,d.warn)("Optional content group not defined."),!0;if("OCG"===Y.type)return this._groups.has(Y.id)?this._groups.get(Y.id).visible:((0,d.warn)(`Optional content group not found: ${Y.id}`),!0);if("OCMD"===Y.type){if(Y.expression)return this._evaluateVisibilityExpression(Y.expression);if(!Y.policy||"AnyOn"===Y.policy){for(const L of Y.ids){if(!this._groups.has(L))return(0,d.warn)(`Optional content group not found: ${L}`),!0;if(this._groups.get(L).visible)return!0}return!1}if("AllOn"===Y.policy){for(const L of Y.ids){if(!this._groups.has(L))return(0,d.warn)(`Optional content group not found: ${L}`),!0;if(!this._groups.get(L).visible)return!1}return!0}if("AnyOff"===Y.policy){for(const L of Y.ids){if(!this._groups.has(L))return(0,d.warn)(`Optional content group not found: ${L}`),!0;if(!this._groups.get(L).visible)return!0}return!1}if("AllOff"===Y.policy){for(const L of Y.ids){if(!this._groups.has(L))return(0,d.warn)(`Optional content group not found: ${L}`),!0;if(this._groups.get(L).visible)return!1}return!0}return(0,d.warn)(`Unknown optional content policy ${Y.policy}.`),!0}return(0,d.warn)(`Unknown group type ${Y.type}.`),!0}setVisibility(Y,L=!0){this._groups.has(Y)?this._groups.get(Y).visible=!!L:(0,d.warn)(`Optional content group not found: ${Y}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,d.objectFromMap)(this._groups):null}getGroup(Y){return this._groups.get(Y)||null}}},5406:(fe,v,Z)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.TilingPattern=v.PathType=void 0,v.getShadingPattern=function(u){switch(u[0]){case"RadialAxial":return new Y(u);case"Mesh":return new o(u);case"Dummy":return new i}throw new Error(`Unknown IR type: ${u[0]}`)};var d=Z(7410);const te={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function D(u,r){if(!r||"undefined"==typeof Path2D)return;const T=r[2]-r[0],R=r[3]-r[1],E=new Path2D;E.rect(r[0],r[1],T,R),u.clip(E)}v.PathType=te;class se{constructor(){this.constructor===se&&(0,d.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,d.unreachable)("Abstract method `getPattern` called.")}}class Y extends se{constructor(r){super(),this._type=r[1],this._bbox=r[2],this._colorStops=r[3],this._p0=r[4],this._p1=r[5],this._r0=r[6],this._r1=r[7],this.matrix=null}_createGradient(r){let T;"axial"===this._type?T=r.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(T=r.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const R of this._colorStops)T.addColorStop(R[0],R[1]);return T}getPattern(r,T,R,E){let P;if(E===te.STROKE||E===te.FILL){const t=T.current.getClippedPathBoundingBox(E,r.mozCurrentTransform)||[0,0,0,0],s=Math.ceil(t[2]-t[0])||1,S=Math.ceil(t[3]-t[1])||1,C=T.cachedCanvases.getCanvas("pattern",s,S,!0),_=C.context;_.clearRect(0,0,_.canvas.width,_.canvas.height),_.beginPath(),_.rect(0,0,_.canvas.width,_.canvas.height),_.translate(-t[0],-t[1]),R=d.Util.transform(R,[1,0,0,1,t[0],t[1]]),_.transform.apply(_,T.baseTransform),this.matrix&&_.transform.apply(_,this.matrix),D(_,this._bbox),_.fillStyle=this._createGradient(_),_.fill(),P=r.createPattern(C.canvas,"no-repeat");const N=new DOMMatrix(R);try{P.setTransform(N)}catch(F){(0,d.warn)(`RadialAxialShadingPattern.getPattern: "${null==F?void 0:F.message}".`)}}else D(r,this._bbox),P=this._createGradient(r);return P}}function L(u,r,T,R,E,P,t,s){const S=r.coords,C=r.colors,_=u.data,N=4*u.width;let F;S[T+1]>S[R+1]&&(F=T,T=R,R=F,F=P,P=t,t=F),S[R+1]>S[E+1]&&(F=R,R=E,E=F,F=t,t=s,s=F),S[T+1]>S[R+1]&&(F=T,T=R,R=F,F=P,P=t,t=F);const V=(S[T]+r.offsetX)*r.scaleX,j=(S[T+1]+r.offsetY)*r.scaleY,O=(S[R]+r.offsetX)*r.scaleX,B=(S[R+1]+r.offsetY)*r.scaleY,G=(S[E]+r.offsetX)*r.scaleX,U=(S[E+1]+r.offsetY)*r.scaleY;if(j>=U)return;const $=C[P],m=C[P+1],l=C[P+2],a=C[t],p=C[t+1],b=C[t+2],w=C[s],e=C[s+1],f=C[s+2],A=Math.round(j),M=Math.round(U);let h,k,I,H,W,Q,oe,le;for(let ue=A;ue<=M;ue++){if(ue<B){let re;re=ue<j?0:(j-ue)/(j-B),h=V-(V-O)*re,k=$-($-a)*re,I=m-(m-p)*re,H=l-(l-b)*re}else{let re;re=ue>U?1:B===U?0:(B-ue)/(B-U),h=O-(O-G)*re,k=a-(a-w)*re,I=p-(p-e)*re,H=b-(b-f)*re}let x;x=ue<j?0:ue>U?1:(j-ue)/(j-U),W=V-(V-G)*x,Q=$-($-w)*x,oe=m-(m-e)*x,le=l-(l-f)*x;const q=Math.round(Math.min(h,W)),ce=Math.round(Math.max(h,W));let ne=N*ue+4*q;for(let re=q;re<=ce;re++)x=(h-re)/(h-W),x<0?x=0:x>1&&(x=1),_[ne++]=k-(k-Q)*x|0,_[ne++]=I-(I-oe)*x|0,_[ne++]=H-(H-le)*x|0,_[ne++]=255}}function n(u,r,T){const R=r.coords,E=r.colors;let P,t;switch(r.type){case"lattice":const s=r.verticesPerRow,S=Math.floor(R.length/s)-1,C=s-1;for(P=0;P<S;P++){let _=P*s;for(let N=0;N<C;N++,_++)L(u,T,R[_],R[_+1],R[_+s],E[_],E[_+1],E[_+s]),L(u,T,R[_+s+1],R[_+1],R[_+s],E[_+s+1],E[_+1],E[_+s])}break;case"triangles":for(P=0,t=R.length;P<t;P+=3)L(u,T,R[P],R[P+1],R[P+2],E[P],E[P+1],E[P+2]);break;default:throw new Error("illegal figure")}}class o extends se{constructor(r){super(),this._coords=r[2],this._colors=r[3],this._figures=r[4],this._bounds=r[5],this._bbox=r[7],this._background=r[8],this.matrix=null}_createMeshCanvas(r,T,R){const s=Math.floor(this._bounds[0]),S=Math.floor(this._bounds[1]),C=Math.ceil(this._bounds[2])-s,_=Math.ceil(this._bounds[3])-S,N=Math.min(Math.ceil(Math.abs(C*r[0]*1.1)),3e3),F=Math.min(Math.ceil(Math.abs(_*r[1]*1.1)),3e3),V=C/N,j=_/F,O={coords:this._coords,colors:this._colors,offsetX:-s,offsetY:-S,scaleX:1/V,scaleY:1/j},U=R.getCanvas("mesh",N+4,F+4,!1),$=U.context,m=$.createImageData(N,F);if(T){const a=m.data;for(let p=0,b=a.length;p<b;p+=4)a[p]=T[0],a[p+1]=T[1],a[p+2]=T[2],a[p+3]=255}for(const a of this._figures)n(m,a,O);return $.putImageData(m,2,2),{canvas:U.canvas,offsetX:s-2*V,offsetY:S-2*j,scaleX:V,scaleY:j}}getPattern(r,T,R,E){let P;if(D(r,this._bbox),E===te.SHADING)P=d.Util.singularValueDecompose2dScale(r.mozCurrentTransform);else if(P=d.Util.singularValueDecompose2dScale(T.baseTransform),this.matrix){const s=d.Util.singularValueDecompose2dScale(this.matrix);P=[P[0]*s[0],P[1]*s[1]]}const t=this._createMeshCanvas(P,E===te.SHADING?null:this._background,T.cachedCanvases);return E!==te.SHADING&&(r.setTransform.apply(r,T.baseTransform),this.matrix&&r.transform.apply(r,this.matrix)),r.translate(t.offsetX,t.offsetY),r.scale(t.scaleX,t.scaleY),r.createPattern(t.canvas,"no-repeat")}}class i extends se{getPattern(){return"hotpink"}}class y{static get MAX_PATTERN_SIZE(){return(0,d.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(r,T,R,E,P){this.operatorList=r[2],this.matrix=r[3]||[1,0,0,1,0,0],this.bbox=r[4],this.xstep=r[5],this.ystep=r[6],this.paintType=r[7],this.tilingType=r[8],this.color=T,this.ctx=R,this.canvasGraphicsFactory=E,this.baseTransform=P}createPatternCanvas(r){const T=this.operatorList,R=this.bbox,E=this.xstep,P=this.ystep,t=this.paintType,S=this.color,C=this.canvasGraphicsFactory;(0,d.info)("TilingType: "+this.tilingType);const _=R[0],N=R[1],F=R[2],V=R[3],j=d.Util.singularValueDecompose2dScale(this.matrix),O=d.Util.singularValueDecompose2dScale(this.baseTransform),B=[j[0]*O[0],j[1]*O[1]],G=this.getSizeAndScale(E,this.ctx.canvas.width,B[0]),U=this.getSizeAndScale(P,this.ctx.canvas.height,B[1]),$=r.cachedCanvases.getCanvas("pattern",G.size,U.size,!0),m=$.context,l=C.createCanvasGraphics(m);l.groupLevel=r.groupLevel,this.setFillAndStrokeStyleToContext(l,t,S);let a=_,p=N,b=F,w=V;return _<0&&(a=0,b+=Math.abs(_)),N<0&&(p=0,w+=Math.abs(N)),m.translate(-G.scale*a,-U.scale*p),l.transform(G.scale,0,0,U.scale,0,0),m.save(),this.clipBbox(l,a,p,b,w),l.baseTransform=l.ctx.mozCurrentTransform.slice(),l.executeOperatorList(T),l.endDrawing(),{canvas:$.canvas,scaleX:G.scale,scaleY:U.scale,offsetX:a,offsetY:p}}getSizeAndScale(r,T,R){r=Math.abs(r);const E=Math.max(y.MAX_PATTERN_SIZE,T);let P=Math.ceil(r*R);return P>=E?P=E:R=P/r,{scale:R,size:P}}clipBbox(r,T,R,E,P){r.ctx.rect(T,R,E-T,P-R),r.clip(),r.endPath()}setFillAndStrokeStyleToContext(r,T,R){const E=r.ctx,P=r.current;switch(T){case 1:const t=this.ctx;E.fillStyle=t.fillStyle,E.strokeStyle=t.strokeStyle,P.fillColor=t.fillStyle,P.strokeColor=t.strokeStyle;break;case 2:const s=d.Util.makeHexColor(R[0],R[1],R[2]);E.fillStyle=s,E.strokeStyle=s,P.fillColor=s,P.strokeColor=s;break;default:throw new d.FormatError(`Unsupported paint type: ${T}`)}}getPattern(r,T,R,E){let P=R;E!==te.SHADING&&(P=d.Util.transform(P,T.baseTransform),this.matrix&&(P=d.Util.transform(P,this.matrix)));const t=this.createPatternCanvas(T);let s=new DOMMatrix(P);s=s.translate(t.offsetX,t.offsetY),s=s.scale(1/t.scaleX,1/t.scaleY);const S=r.createPattern(t.canvas,"repeat");try{S.setTransform(s)}catch(C){(0,d.warn)(`TilingPattern.getPattern: "${null==C?void 0:C.message}".`)}return S}}v.TilingPattern=y},448:(fe,v,Z)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.SVGGraphics=void 0;var d=Z(7410),te=Z(8419),D=Z(7538);let se=class{constructor(){(0,d.unreachable)("Not implemented: SVGGraphics")}};v.SVGGraphics=se;{let u=function(t){let s=[];const S=[];for(const C of t)"save"!==C.fn?"restore"===C.fn?s=S.pop():s.push(C):(s.push({fnId:92,fn:"group",items:[]}),S.push(s),s=s[s.length-1].items);return s},r=function(t){if(Number.isInteger(t))return t.toString();const s=t.toFixed(10);let S=s.length-1;if("0"!==s[S])return s;do{S--}while("0"===s[S]);return s.substring(0,"."===s[S]?S:S+1)},T=function(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":`scale(${r(t[0])} ${r(t[3])})`;if(t[0]===t[3]&&t[1]===-t[2]){const s=180*Math.acos(t[0])/Math.PI;return`rotate(${r(s)})`}}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return`translate(${r(t[4])} ${r(t[5])})`;return`matrix(${r(t[0])} ${r(t[1])} ${r(t[2])} ${r(t[3])} ${r(t[4])} ${r(t[5])})`};const Y={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},L="http://www.w3.org/XML/1998/namespace",n="http://www.w3.org/1999/xlink",o=["butt","round","square"],i=["miter","round","bevel"],c=function(t,s="",S=!1){if(URL.createObjectURL&&"undefined"!=typeof Blob&&!S)return URL.createObjectURL(new Blob([t],{type:s}));const C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let _=`data:${s};base64,`;for(let N=0,F=t.length;N<F;N+=3){const V=255&t[N],j=255&t[N+1],O=255&t[N+2];_+=C[V>>2]+C[(3&V)<<4|j>>4]+C[N+1<F?(15&j)<<2|O>>6:64]+C[N+2<F?63&O:64]}return _},g=function(){const t=new Uint8Array([137,80,78,71,13,10,26,10]),S=new Int32Array(256);for(let O=0;O<256;O++){let B=O;for(let G=0;G<8;G++)B=1&B?3988292384^B>>1&2147483647:B>>1&2147483647;S[O]=B}function _(O,B,G,U){let $=U;const m=B.length;G[$]=m>>24&255,G[$+1]=m>>16&255,G[$+2]=m>>8&255,G[$+3]=255&m,$+=4,G[$]=255&O.charCodeAt(0),G[$+1]=255&O.charCodeAt(1),G[$+2]=255&O.charCodeAt(2),G[$+3]=255&O.charCodeAt(3),$+=4,G.set(B,$),$+=B.length;const l=function(O,B,G){let U=-1;for(let $=B;$<G;$++)U=U>>>8^S[255&(U^O[$])];return-1^U}(G,U+4,$);G[$]=l>>24&255,G[$+1]=l>>16&255,G[$+2]=l>>8&255,G[$+3]=255&l}function V(O){let B=O.length;const G=65535,U=Math.ceil(B/G),$=new Uint8Array(2+B+5*U+4);let m=0;$[m++]=120,$[m++]=156;let l=0;for(;B>G;)$[m++]=0,$[m++]=255,$[m++]=255,$[m++]=0,$[m++]=0,$.set(O.subarray(l,l+G),m),m+=G,l+=G,B-=G;$[m++]=1,$[m++]=255&B,$[m++]=B>>8&255,$[m++]=255&~B,$[m++]=(65535&~B)>>8&255,$.set(O.subarray(l),m),m+=O.length-l;const a=function(O,B,G){let U=1,$=0;for(let m=0;m<G;++m)U=(U+(255&O[m]))%65521,$=($+U)%65521;return $<<16|U}(O,0,O.length);return $[m++]=a>>24&255,$[m++]=a>>16&255,$[m++]=a>>8&255,$[m++]=255&a,$}return function(B,G,U){return function(O,B,G,U){const $=O.width,m=O.height;let l,a,p;const b=O.data;switch(B){case d.ImageKind.GRAYSCALE_1BPP:a=0,l=1,p=$+7>>3;break;case d.ImageKind.RGB_24BPP:a=2,l=8,p=3*$;break;case d.ImageKind.RGBA_32BPP:a=6,l=8,p=4*$;break;default:throw new Error("invalid format")}const w=new Uint8Array((1+p)*m);let e=0,f=0;for(let H=0;H<m;++H)w[e++]=0,w.set(b.subarray(f,f+p),e),f+=p,e+=p;if(B===d.ImageKind.GRAYSCALE_1BPP&&U){e=0;for(let H=0;H<m;H++){e++;for(let W=0;W<p;W++)w[e++]^=255}}const A=new Uint8Array([$>>24&255,$>>16&255,$>>8&255,255&$,m>>24&255,m>>16&255,m>>8&255,255&m,l,a,0,0,0]),M=function(O){if(!D.isNodeJS)return V(O);try{let B;B=parseInt(process.versions.node)>=8?O:Buffer.from(O);const G=Z(546).deflateSync(B,{level:9});return G instanceof Uint8Array?G:new Uint8Array(G)}catch(B){(0,d.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+B)}return V(O)}(w),k=new Uint8Array(t.length+36+A.length+M.length);let I=0;return k.set(t,I),I+=t.length,_("IHDR",A,k,I),I+=12+A.length,_("IDATA",M,k,I),I+=12+M.length,_("IEND",new Uint8Array(0),k,I),c(k,"image/png",G)}(B,void 0===B.kind?d.ImageKind.GRAYSCALE_1BPP:B.kind,G,U)}}();class y{constructor(){this.fontSizeScale=1,this.fontWeight=Y.fontWeight,this.fontSize=0,this.textMatrix=d.IDENTITY_MATRIX,this.fontMatrix=d.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=d.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=Y.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(s,S){this.x=s,this.y=S}}let R=0,E=0,P=0;v.SVGGraphics=se=class{constructor(t,s,S=!1){this.svgFactory=new te.DOMSVGFactory,this.current=new y,this.transformMatrix=d.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=s,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!S,this._operatorIdMapping=[];for(const C in d.OPS)this._operatorIdMapping[d.OPS[C]]=C}save(){this.transformStack.push(this.transformMatrix);const t=this.current;this.extraStack.push(t),this.current=t.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(t){this.save(),this.executeOpTree(t),this.restore()}loadDependencies(t){const s=t.fnArray,S=t.argsArray;for(let C=0,_=s.length;C<_;C++)if(s[C]===d.OPS.dependency)for(const N of S[C]){const F=N.startsWith("g_")?this.commonObjs:this.objs,V=new Promise(j=>{F.get(N,j)});this.current.dependencies.push(V)}return Promise.all(this.current.dependencies)}transform(t,s,S,C,_,N){this.transformMatrix=d.Util.transform(this.transformMatrix,[t,s,S,C,_,N]),this.tgrp=null}getSVG(t,s){this.viewport=s;const S=this._initialize(s);return this.loadDependencies(t).then(()=>(this.transformMatrix=d.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(t)),S))}convertOpList(t){const s=this._operatorIdMapping,S=t.argsArray,C=t.fnArray,_=[];for(let N=0,F=C.length;N<F;N++){const V=C[N];_.push({fnId:V,fn:s[V],args:S[N]})}return u(_)}executeOpTree(t){for(const s of t){const S=s.fn,_=s.args;switch(0|s.fnId){case d.OPS.beginText:this.beginText();break;case d.OPS.dependency:break;case d.OPS.setLeading:this.setLeading(_);break;case d.OPS.setLeadingMoveText:this.setLeadingMoveText(_[0],_[1]);break;case d.OPS.setFont:this.setFont(_);break;case d.OPS.showText:case d.OPS.showSpacedText:this.showText(_[0]);break;case d.OPS.endText:this.endText();break;case d.OPS.moveText:this.moveText(_[0],_[1]);break;case d.OPS.setCharSpacing:this.setCharSpacing(_[0]);break;case d.OPS.setWordSpacing:this.setWordSpacing(_[0]);break;case d.OPS.setHScale:this.setHScale(_[0]);break;case d.OPS.setTextMatrix:this.setTextMatrix(_[0],_[1],_[2],_[3],_[4],_[5]);break;case d.OPS.setTextRise:this.setTextRise(_[0]);break;case d.OPS.setTextRenderingMode:this.setTextRenderingMode(_[0]);break;case d.OPS.setLineWidth:this.setLineWidth(_[0]);break;case d.OPS.setLineJoin:this.setLineJoin(_[0]);break;case d.OPS.setLineCap:this.setLineCap(_[0]);break;case d.OPS.setMiterLimit:this.setMiterLimit(_[0]);break;case d.OPS.setFillRGBColor:this.setFillRGBColor(_[0],_[1],_[2]);break;case d.OPS.setStrokeRGBColor:this.setStrokeRGBColor(_[0],_[1],_[2]);break;case d.OPS.setStrokeColorN:this.setStrokeColorN(_);break;case d.OPS.setFillColorN:this.setFillColorN(_);break;case d.OPS.shadingFill:this.shadingFill(_[0]);break;case d.OPS.setDash:this.setDash(_[0],_[1]);break;case d.OPS.setRenderingIntent:this.setRenderingIntent(_[0]);break;case d.OPS.setFlatness:this.setFlatness(_[0]);break;case d.OPS.setGState:this.setGState(_[0]);break;case d.OPS.fill:this.fill();break;case d.OPS.eoFill:this.eoFill();break;case d.OPS.stroke:this.stroke();break;case d.OPS.fillStroke:this.fillStroke();break;case d.OPS.eoFillStroke:this.eoFillStroke();break;case d.OPS.clip:this.clip("nonzero");break;case d.OPS.eoClip:this.clip("evenodd");break;case d.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case d.OPS.paintImageXObject:this.paintImageXObject(_[0]);break;case d.OPS.paintInlineImageXObject:this.paintInlineImageXObject(_[0]);break;case d.OPS.paintImageMaskXObject:this.paintImageMaskXObject(_[0]);break;case d.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(_[0],_[1]);break;case d.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case d.OPS.closePath:this.closePath();break;case d.OPS.closeStroke:this.closeStroke();break;case d.OPS.closeFillStroke:this.closeFillStroke();break;case d.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case d.OPS.nextLine:this.nextLine();break;case d.OPS.transform:this.transform(_[0],_[1],_[2],_[3],_[4],_[5]);break;case d.OPS.constructPath:this.constructPath(_[0],_[1]);break;case d.OPS.endPath:this.endPath();break;case 92:this.group(s.items);break;default:(0,d.warn)(`Unimplemented operator ${S}`)}}}setWordSpacing(t){this.current.wordSpacing=t}setCharSpacing(t){this.current.charSpacing=t}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(t,s,S,C,_,N){const F=this.current;F.textMatrix=F.lineMatrix=[t,s,S,C,_,N],F.textMatrixScale=Math.hypot(t,s),F.x=F.lineX=0,F.y=F.lineY=0,F.xcoords=[],F.ycoords=[],F.tspan=this.svgFactory.createElement("svg:tspan"),F.tspan.setAttributeNS(null,"font-family",F.fontFamily),F.tspan.setAttributeNS(null,"font-size",`${r(F.fontSize)}px`),F.tspan.setAttributeNS(null,"y",r(-F.y)),F.txtElement=this.svgFactory.createElement("svg:text"),F.txtElement.appendChild(F.tspan)}beginText(){const t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=d.IDENTITY_MATRIX,t.lineMatrix=d.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}moveText(t,s){const S=this.current;S.x=S.lineX+=t,S.y=S.lineY+=s,S.xcoords=[],S.ycoords=[],S.tspan=this.svgFactory.createElement("svg:tspan"),S.tspan.setAttributeNS(null,"font-family",S.fontFamily),S.tspan.setAttributeNS(null,"font-size",`${r(S.fontSize)}px`),S.tspan.setAttributeNS(null,"y",r(-S.y))}showText(t){const s=this.current,S=s.font,C=s.fontSize;if(0===C)return;const _=s.fontSizeScale,N=s.charSpacing,F=s.wordSpacing,V=s.fontDirection,j=s.textHScale*V,O=S.vertical,B=O?1:-1,G=S.defaultVMetrics,U=C*s.fontMatrix[0];let $=0;for(const a of t){if(null===a){$+=V*F;continue}if("number"==typeof a){$+=B*a*C/1e3;continue}const p=(a.isSpace?F:0)+N,b=a.fontChar;let w,e,A,f=a.width;if(O){let M;const h=a.vmetric||G;M=a.vmetric?h[1]:.5*f,M=-M*U,f=h?-h[0]:f,w=M/_,e=($+h[2]*U)/_}else w=$/_,e=0;(a.isInFont||S.missingFile)&&(s.xcoords.push(s.x+w),O&&s.ycoords.push(-s.y+e),s.tspan.textContent+=b),A=O?f*U-p*V:f*U+p*V,$+=A}s.tspan.setAttributeNS(null,"x",s.xcoords.map(r).join(" ")),s.tspan.setAttributeNS(null,"y",O?s.ycoords.map(r).join(" "):r(-s.y)),O?s.y-=$:s.x+=$*j,s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size",`${r(s.fontSize)}px`),s.fontStyle!==Y.fontStyle&&s.tspan.setAttributeNS(null,"font-style",s.fontStyle),s.fontWeight!==Y.fontWeight&&s.tspan.setAttributeNS(null,"font-weight",s.fontWeight);const m=s.textRenderingMode&d.TextRenderingMode.FILL_STROKE_MASK;m===d.TextRenderingMode.FILL||m===d.TextRenderingMode.FILL_STROKE?(s.fillColor!==Y.fillColor&&s.tspan.setAttributeNS(null,"fill",s.fillColor),s.fillAlpha<1&&s.tspan.setAttributeNS(null,"fill-opacity",s.fillAlpha)):s.tspan.setAttributeNS(null,"fill",s.textRenderingMode===d.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(m===d.TextRenderingMode.STROKE||m===d.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(s.tspan,1/(s.textMatrixScale||1));let l=s.textMatrix;0!==s.textRise&&(l=l.slice(),l[5]+=s.textRise),s.txtElement.setAttributeNS(null,"transform",`${T(l)} scale(${r(j)}, -1)`),s.txtElement.setAttributeNS(L,"xml:space","preserve"),s.txtElement.appendChild(s.tspan),s.txtgrp.appendChild(s.txtElement),this._ensureTransformGroup().appendChild(s.txtElement)}setLeadingMoveText(t,s){this.setLeading(-s),this.moveText(t,s)}addFontStyle(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const s=c(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${t.loadedName}"; src: url(${s}); }\n`}setFont(t){const s=this.current,S=this.commonObjs.get(t[0]);let C=t[1];s.font=S,this.embedFonts&&!S.missingFile&&!this.embeddedFonts[S.loadedName]&&(this.addFontStyle(S),this.embeddedFonts[S.loadedName]=S),s.fontMatrix=S.fontMatrix||d.FONT_IDENTITY_MATRIX;let _="normal";S.black?_="900":S.bold&&(_="bold");const N=S.italic?"italic":"normal";C<0?(C=-C,s.fontDirection=-1):s.fontDirection=1,s.fontSize=C,s.fontFamily=S.loadedName,s.fontWeight=_,s.fontStyle=N,s.tspan=this.svgFactory.createElement("svg:tspan"),s.tspan.setAttributeNS(null,"y",r(-s.y)),s.xcoords=[],s.ycoords=[]}endText(){var s;const t=this.current;t.textRenderingMode&d.TextRenderingMode.ADD_TO_PATH_FLAG&&(null==(s=t.txtElement)?void 0:s.hasChildNodes())&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(t){t>0&&(this.current.lineWidth=t)}setLineCap(t){this.current.lineCap=o[t]}setLineJoin(t){this.current.lineJoin=i[t]}setMiterLimit(t){this.current.miterLimit=t}setStrokeAlpha(t){this.current.strokeAlpha=t}setStrokeRGBColor(t,s,S){this.current.strokeColor=d.Util.makeHexColor(t,s,S)}setFillAlpha(t){this.current.fillAlpha=t}setFillRGBColor(t,s,S){this.current.fillColor=d.Util.makeHexColor(t,s,S),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}shadingFill(t){const s=this.viewport.width,S=this.viewport.height,C=d.Util.inverseTransform(this.transformMatrix),_=d.Util.applyTransform([0,0],C),N=d.Util.applyTransform([0,S],C),F=d.Util.applyTransform([s,0],C),V=d.Util.applyTransform([s,S],C),j=Math.min(_[0],N[0],F[0],V[0]),O=Math.min(_[1],N[1],F[1],V[1]),B=Math.max(_[0],N[0],F[0],V[0]),G=Math.max(_[1],N[1],F[1],V[1]),U=this.svgFactory.createElement("svg:rect");U.setAttributeNS(null,"x",j),U.setAttributeNS(null,"y",O),U.setAttributeNS(null,"width",B-j),U.setAttributeNS(null,"height",G-O),U.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&U.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(U)}_makeColorN_Pattern(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}_makeTilingPattern(t){const s=t[1],S=t[2],C=t[3]||d.IDENTITY_MATRIX,[_,N,F,V]=t[4],j=t[5],O=t[6],B=t[7],G="shading"+P++,[U,$,m,l]=d.Util.normalizeRect([...d.Util.applyTransform([_,N],C),...d.Util.applyTransform([F,V],C)]),[a,p]=d.Util.singularValueDecompose2dScale(C),b=j*a,w=O*p,e=this.svgFactory.createElement("svg:pattern");e.setAttributeNS(null,"id",G),e.setAttributeNS(null,"patternUnits","userSpaceOnUse"),e.setAttributeNS(null,"width",b),e.setAttributeNS(null,"height",w),e.setAttributeNS(null,"x",`${U}`),e.setAttributeNS(null,"y",`${$}`);const f=this.svg,A=this.transformMatrix,M=this.current.fillColor,h=this.current.strokeColor,k=this.svgFactory.create(m-U,l-$);if(this.svg=k,this.transformMatrix=C,2===B){const I=d.Util.makeHexColor(...s);this.current.fillColor=I,this.current.strokeColor=I}return this.executeOpTree(this.convertOpList(S)),this.svg=f,this.transformMatrix=A,this.current.fillColor=M,this.current.strokeColor=h,e.appendChild(k.childNodes[0]),this.defs.appendChild(e),`url(#${G})`}_makeShadingPattern(t){switch("string"==typeof t&&(t=this.objs.get(t)),t[0]){case"RadialAxial":const s="shading"+P++,S=t[3];let C;switch(t[1]){case"axial":const _=t[4],N=t[5];C=this.svgFactory.createElement("svg:linearGradient"),C.setAttributeNS(null,"id",s),C.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),C.setAttributeNS(null,"x1",_[0]),C.setAttributeNS(null,"y1",_[1]),C.setAttributeNS(null,"x2",N[0]),C.setAttributeNS(null,"y2",N[1]);break;case"radial":const F=t[4],V=t[5],j=t[6],O=t[7];C=this.svgFactory.createElement("svg:radialGradient"),C.setAttributeNS(null,"id",s),C.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),C.setAttributeNS(null,"cx",V[0]),C.setAttributeNS(null,"cy",V[1]),C.setAttributeNS(null,"r",O),C.setAttributeNS(null,"fx",F[0]),C.setAttributeNS(null,"fy",F[1]),C.setAttributeNS(null,"fr",j);break;default:throw new Error(`Unknown RadialAxial type: ${t[1]}`)}for(const _ of S){const N=this.svgFactory.createElement("svg:stop");N.setAttributeNS(null,"offset",_[0]),N.setAttributeNS(null,"stop-color",_[1]),C.appendChild(N)}return this.defs.appendChild(C),`url(#${s})`;case"Mesh":return(0,d.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${t[0]}`)}}setDash(t,s){this.current.dashArray=t,this.current.dashPhase=s}constructPath(t,s){const S=this.current;let C=S.x,_=S.y,N=[],F=0;for(const V of t)switch(0|V){case d.OPS.rectangle:C=s[F++],_=s[F++];const B=C+s[F++],G=_+s[F++];N.push("M",r(C),r(_),"L",r(B),r(_),"L",r(B),r(G),"L",r(C),r(G),"Z");break;case d.OPS.moveTo:C=s[F++],_=s[F++],N.push("M",r(C),r(_));break;case d.OPS.lineTo:C=s[F++],_=s[F++],N.push("L",r(C),r(_));break;case d.OPS.curveTo:C=s[F+4],_=s[F+5],N.push("C",r(s[F]),r(s[F+1]),r(s[F+2]),r(s[F+3]),r(C),r(_)),F+=6;break;case d.OPS.curveTo2:N.push("C",r(C),r(_),r(s[F]),r(s[F+1]),r(s[F+2]),r(s[F+3])),C=s[F+2],_=s[F+3],F+=4;break;case d.OPS.curveTo3:C=s[F+2],_=s[F+3],N.push("C",r(s[F]),r(s[F+1]),r(C),r(_),r(C),r(_)),F+=4;break;case d.OPS.closePath:N.push("Z")}N=N.join(" "),S.path&&t.length>0&&t[0]!==d.OPS.rectangle&&t[0]!==d.OPS.moveTo?N=S.path.getAttributeNS(null,"d")+N:(S.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(S.path)),S.path.setAttributeNS(null,"d",N),S.path.setAttributeNS(null,"fill","none"),S.element=S.path,S.setCurrentPoint(C,_)}endPath(){const t=this.current;if(t.path=null,!this.pendingClip)return;if(!t.element)return void(this.pendingClip=null);const s="clippath"+R++,S=this.svgFactory.createElement("svg:clipPath");S.setAttributeNS(null,"id",s),S.setAttributeNS(null,"transform",T(this.transformMatrix));const C=t.element.cloneNode(!0);if(C.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,S.appendChild(C),this.defs.appendChild(S),t.activeClipUrl){t.clipGroup=null;for(const _ of this.extraStack)_.clipGroup=null;S.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl=`url(#${s})`,this.tgrp=null}clip(t){this.pendingClip=t}closePath(){const t=this.current;if(t.path){const s=`${t.path.getAttributeNS(null,"d")}Z`;t.path.setAttributeNS(null,"d",s)}}setLeading(t){this.current.leading=-t}setTextRise(t){this.current.textRise=t}setTextRenderingMode(t){this.current.textRenderingMode=t}setHScale(t){this.current.textHScale=t/100}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[s,S]of t)switch(s){case"LW":this.setLineWidth(S);break;case"LC":this.setLineCap(S);break;case"LJ":this.setLineJoin(S);break;case"ML":this.setMiterLimit(S);break;case"D":this.setDash(S[0],S[1]);break;case"RI":this.setRenderingIntent(S);break;case"FL":this.setFlatness(S);break;case"Font":this.setFont(S);break;case"CA":this.setStrokeAlpha(S);break;case"ca":this.setFillAlpha(S);break;default:(0,d.warn)(`Unimplemented graphic state operator ${s}`)}}fill(){const t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}stroke(){const t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(t,s=1){const S=this.current;let C=S.dashArray;1!==s&&C.length>0&&(C=C.map(function(_){return s*_})),t.setAttributeNS(null,"stroke",S.strokeColor),t.setAttributeNS(null,"stroke-opacity",S.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",r(S.miterLimit)),t.setAttributeNS(null,"stroke-linecap",S.lineCap),t.setAttributeNS(null,"stroke-linejoin",S.lineJoin),t.setAttributeNS(null,"stroke-width",r(s*S.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",C.map(r).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",r(s*S.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(t)}paintImageXObject(t){const s=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);s?this.paintInlineImageXObject(s):(0,d.warn)(`Dependent image with object ID ${t} is not ready yet`)}paintInlineImageXObject(t,s){const S=t.width,C=t.height,_=g(t,this.forceDataSchema,!!s),N=this.svgFactory.createElement("svg:rect");N.setAttributeNS(null,"x","0"),N.setAttributeNS(null,"y","0"),N.setAttributeNS(null,"width",r(S)),N.setAttributeNS(null,"height",r(C)),this.current.element=N,this.clip("nonzero");const F=this.svgFactory.createElement("svg:image");F.setAttributeNS(n,"xlink:href",_),F.setAttributeNS(null,"x","0"),F.setAttributeNS(null,"y",r(-C)),F.setAttributeNS(null,"width",r(S)+"px"),F.setAttributeNS(null,"height",r(C)+"px"),F.setAttributeNS(null,"transform",`scale(${r(1/S)} ${r(-1/C)})`),s?s.appendChild(F):this._ensureTransformGroup().appendChild(F)}paintImageMaskXObject(t){const s=this.current,S=t.width,C=t.height,_=s.fillColor;s.maskId="mask"+E++;const N=this.svgFactory.createElement("svg:mask");N.setAttributeNS(null,"id",s.maskId);const F=this.svgFactory.createElement("svg:rect");F.setAttributeNS(null,"x","0"),F.setAttributeNS(null,"y","0"),F.setAttributeNS(null,"width",r(S)),F.setAttributeNS(null,"height",r(C)),F.setAttributeNS(null,"fill",_),F.setAttributeNS(null,"mask",`url(#${s.maskId})`),this.defs.appendChild(N),this._ensureTransformGroup().appendChild(F),this.paintInlineImageXObject(t,N)}paintFormXObjectBegin(t,s){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),s){const S=s[2]-s[0],C=s[3]-s[1],_=this.svgFactory.createElement("svg:rect");_.setAttributeNS(null,"x",s[0]),_.setAttributeNS(null,"y",s[1]),_.setAttributeNS(null,"width",r(S)),_.setAttributeNS(null,"height",r(C)),this.current.element=_,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(t){const s=this.svgFactory.create(t.width,t.height),S=this.svgFactory.createElement("svg:defs");s.appendChild(S),this.defs=S;const C=this.svgFactory.createElement("svg:g");return C.setAttributeNS(null,"transform",T(t.transform)),s.appendChild(C),this.svg=C,s}_ensureClipGroup(){if(!this.current.clipGroup){const t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(t),this.current.clipGroup=t}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",T(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},6166:(fe,v,Z)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.renderTextLayer=function(R){const E=new r({textContent:R.textContent,textContentStream:R.textContentStream,container:R.container,viewport:R.viewport,textDivs:R.textDivs,textContentItemsStr:R.textContentItemsStr,enhanceTextSelection:R.enhanceTextSelection});return E._render(R.timeout),E};var d=Z(7410);const D=30,Y=new Map,L=/^\s+$/g;function o(R,E,P,t){const s=document.createElement("span"),S=R._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==E.str,hasEOL:E.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==E.str,hasEOL:E.hasEOL};R._textDivs.push(s);const C=d.Util.transform(R._viewport.transform,E.transform);let _=Math.atan2(C[1],C[0]);const N=P[E.fontName];N.vertical&&(_+=Math.PI/2);const F=Math.hypot(C[2],C[3]),V=F*function(R,E){const P=Y.get(R);if(P)return P;E.save(),E.font=`30px ${R}`;const t=E.measureText("");let s=t.fontBoundingBoxAscent,S=Math.abs(t.fontBoundingBoxDescent);if(s){E.restore();const _=s/(s+S);return Y.set(R,_),_}E.strokeStyle="red",E.clearRect(0,0,D,D),E.strokeText("g",0,0);let C=E.getImageData(0,0,D,D).data;S=0;for(let _=C.length-1-3;_>=0;_-=4)if(C[_]>0){S=Math.ceil(_/4/D);break}E.clearRect(0,0,D,D),E.strokeText("A",0,D),C=E.getImageData(0,0,D,D).data,s=0;for(let _=0,N=C.length;_<N;_+=4)if(C[_]>0){s=D-Math.floor(_/4/D);break}if(E.restore(),s){const _=s/(s+S);return Y.set(R,_),_}return Y.set(R,.8),.8}(N.fontFamily,t);let j,O;0===_?(j=C[4],O=C[5]-V):(j=C[4]+V*Math.sin(_),O=C[5]-V*Math.cos(_)),s.style.left=`${j}px`,s.style.top=`${O}px`,s.style.fontSize=`${F}px`,s.style.fontFamily=N.fontFamily,s.setAttribute("role","presentation"),s.textContent=E.str,s.dir=E.dir,R._fontInspectorEnabled&&(s.dataset.fontName=E.fontName),0!==_&&(S.angle=_*(180/Math.PI));let B=!1;if(E.str.length>1||R._enhanceTextSelection&&L.test(E.str))B=!0;else if(" "!==E.str&&E.transform[0]!==E.transform[3]){const G=Math.abs(E.transform[0]),U=Math.abs(E.transform[3]);G!==U&&Math.max(G,U)/Math.min(G,U)>1.5&&(B=!0)}if(B&&(S.canvasWidth=N.vertical?E.height*R._viewport.scale:E.width*R._viewport.scale),R._textDivProperties.set(s,S),R._textContentStream&&R._layoutText(s),R._enhanceTextSelection&&S.hasText){let G=1,U=0;0!==_&&(G=Math.cos(_),U=Math.sin(_));const $=(N.vertical?E.height:E.width)*R._viewport.scale,m=F;let l,a;0!==_?(l=[G,U,-U,G,j,O],a=d.Util.getAxialAlignedBoundingBox([0,0,$,m],l)):a=[j,O,j+$,O+m],R._bounds.push({left:a[0],top:a[1],right:a[2],bottom:a[3],div:s,size:[$,m],m:l})}}function i(R){if(R._canceled)return;const E=R._textDivs,P=R._capability,t=E.length;if(t>1e5)return R._renderingDone=!0,void P.resolve();if(!R._textContentStream)for(let s=0;s<t;s++)R._layoutText(E[s]);R._renderingDone=!0,P.resolve()}function c(R,E,P){let t=0;for(let s=0;s<P;s++){const S=R[E++];S>0&&(t=t?Math.min(S,t):S)}return t}function u(R,E){E.sort(function(s,S){return s.x1-S.x1||s.index-S.index});const t=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const s of E){let S=0;for(;S<t.length&&t[S].end<=s.y1;)S++;let C=t.length-1;for(;C>=0&&t[C].start>=s.y2;)C--;let _,N,F,V,j=-1/0;for(F=S;F<=C;F++){let G;_=t[F],N=_.boundary,G=N.x2>s.x1?N.index>s.index?N.x1New:s.x1:void 0===N.x2New?(N.x2+s.x1)/2:N.x2New,G>j&&(j=G)}for(s.x1New=j,F=S;F<=C;F++)_=t[F],N=_.boundary,void 0===N.x2New?N.x2>s.x1?N.index>s.index&&(N.x2New=N.x2):N.x2New=j:N.x2New>j&&(N.x2New=Math.max(j,N.x2));const O=[];let B=null;for(F=S;F<=C;F++){_=t[F],N=_.boundary;const G=N.x2>s.x2?N:s;B===G?O[O.length-1].end=_.end:(O.push({start:_.start,end:_.end,boundary:G}),B=G)}for(t[S].start<s.y1&&(O[0].start=s.y1,O.unshift({start:t[S].start,end:s.y1,boundary:t[S].boundary})),s.y2<t[C].end&&(O[O.length-1].end=s.y2,O.push({start:s.y2,end:t[C].end,boundary:t[C].boundary})),F=S;F<=C;F++){if(_=t[F],N=_.boundary,void 0!==N.x2New)continue;let G=!1;for(V=S-1;!G&&V>=0&&t[V].start>=N.y1;V--)G=t[V].boundary===N;for(V=C+1;!G&&V<t.length&&t[V].end<=N.y2;V++)G=t[V].boundary===N;for(V=0;!G&&V<O.length;V++)G=O[V].boundary===N;G||(N.x2New=j)}Array.prototype.splice.apply(t,[S,C-S+1].concat(O))}for(const s of t){const S=s.boundary;void 0===S.x2New&&(S.x2New=Math.max(R,S.x2))}}class r{constructor({textContent:E,textContentStream:P,container:t,viewport:s,textDivs:S,textContentItemsStr:C,enhanceTextSelection:_}){var N;this._textContent=E,this._textContentStream=P,this._container=t,this._document=t.ownerDocument,this._viewport=s,this._textDivs=S||[],this._textContentItemsStr=C||[],this._enhanceTextSelection=!!_,this._fontInspectorEnabled=!!(null==(N=globalThis.FontInspector)?void 0:N.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,d.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new d.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(E,P){for(let t=0,s=E.length;t<s;t++)if(void 0!==E[t].str)this._textContentItemsStr.push(E[t].str),o(this,E[t],P,this._layoutTextCtx);else if("beginMarkedContentProps"===E[t].type||"beginMarkedContent"===E[t].type){const S=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==E[t].id&&this._container.setAttribute("id",`${E[t].id}`),S.appendChild(this._container)}else"endMarkedContent"===E[t].type&&(this._container=this._container.parentNode)}_layoutText(E){const P=this._textDivProperties.get(E);let t="";if(0!==P.canvasWidth&&P.hasText){const{fontSize:s,fontFamily:S}=E.style;(s!==this._layoutTextLastFontSize||S!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${s} ${S}`,this._layoutTextLastFontSize=s,this._layoutTextLastFontFamily=S);const{width:C}=this._layoutTextCtx.measureText(E.textContent);if(C>0){const _=P.canvasWidth/C;this._enhanceTextSelection&&(P.scale=_),t=`scaleX(${_})`}}if(0!==P.angle&&(t=`rotate(${P.angle}deg) ${t}`),t.length>0&&(this._enhanceTextSelection&&(P.originalTransform=t),E.style.transform=t),P.hasText&&this._container.appendChild(E),P.hasEOL){const s=document.createElement("br");s.setAttribute("role","presentation"),this._container.appendChild(s)}}_render(E=0){const P=(0,d.createPromiseCapability)();let t=Object.create(null);const s=this._document.createElement("canvas");if(s.height=s.width=D,s.mozOpaque=!0,this._layoutTextCtx=s.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),P.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const S=()=>{this._reader.read().then(({value:C,done:_})=>{_?P.resolve():(Object.assign(t,C.styles),this._processItems(C.items,t),S())},P.reject)};this._reader=this._textContentStream.getReader(),S()}}P.promise.then(()=>{t=null,E?this._renderTimer=setTimeout(()=>{i(this),this._renderTimer=null},E):i(this)},this._capability.reject)}expandTextDivs(E=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function(R){const E=R._bounds,P=R._viewport,t=function(R,E,P){const t=P.map(function(S,C){return{x1:S.left,y1:S.top,x2:S.right,y2:S.bottom,index:C,x1New:void 0,x2New:void 0}});u(R,t);const s=new Array(P.length);for(const S of t)s[S.index]={left:S.x1New,top:0,right:S.x2New,bottom:0};P.map(function(S,C){const _=s[C],N=t[C];N.x1=S.top,N.y1=R-_.right,N.x2=S.bottom,N.y2=R-_.left,N.index=C,N.x1New=void 0,N.x2New=void 0}),u(E,t);for(const S of t){const C=S.index;s[C].top=S.x1New,s[C].bottom=S.x2New}return s}(P.width,P.height,E);for(let s=0;s<t.length;s++){const S=E[s].div,C=R._textDivProperties.get(S);if(0===C.angle){C.paddingLeft=E[s].left-t[s].left,C.paddingTop=E[s].top-t[s].top,C.paddingRight=t[s].right-E[s].right,C.paddingBottom=t[s].bottom-E[s].bottom,R._textDivProperties.set(S,C);continue}const _=t[s],N=E[s],F=N.m,V=F[0],j=F[1],O=[[0,0],[0,N.size[1]],[N.size[0],0],N.size],B=new Float64Array(64);for(let U=0,$=O.length;U<$;U++){const m=d.Util.applyTransform(O[U],F);B[U+0]=V&&(_.left-m[0])/V,B[U+4]=j&&(_.top-m[1])/j,B[U+8]=V&&(_.right-m[0])/V,B[U+12]=j&&(_.bottom-m[1])/j,B[U+16]=j&&(_.left-m[0])/-j,B[U+20]=V&&(_.top-m[1])/V,B[U+24]=j&&(_.right-m[0])/-j,B[U+28]=V&&(_.bottom-m[1])/V,B[U+32]=V&&(_.left-m[0])/-V,B[U+36]=j&&(_.top-m[1])/-j,B[U+40]=V&&(_.right-m[0])/-V,B[U+44]=j&&(_.bottom-m[1])/-j,B[U+48]=j&&(_.left-m[0])/j,B[U+52]=V&&(_.top-m[1])/-V,B[U+56]=j&&(_.right-m[0])/j,B[U+60]=V&&(_.bottom-m[1])/-V}const G=1+Math.min(Math.abs(V),Math.abs(j));C.paddingLeft=c(B,32,16)/G,C.paddingTop=c(B,48,16)/G,C.paddingRight=c(B,0,16)/G,C.paddingBottom=c(B,16,16)/G,R._textDivProperties.set(S,C)}}(this),this._bounds=null);const P=[],t=[];for(let s=0,S=this._textDivs.length;s<S;s++){const C=this._textDivs[s],_=this._textDivProperties.get(C);!_.hasText||(E?(P.length=0,t.length=0,_.originalTransform&&P.push(_.originalTransform),_.paddingTop>0?(t.push(`${_.paddingTop}px`),P.push(`translateY(${-_.paddingTop}px)`)):t.push(0),t.push(_.paddingRight>0?_.paddingRight/_.scale+"px":0),t.push(_.paddingBottom>0?`${_.paddingBottom}px`:0),_.paddingLeft>0?(t.push(_.paddingLeft/_.scale+"px"),P.push(`translateX(${-_.paddingLeft/_.scale}px)`)):t.push(0),C.style.padding=t.join(" "),P.length&&(C.style.transform=P.join(" "))):(C.style.padding=null,C.style.transform=_.originalTransform))}}}},1890:(fe,v,Z)=>{"use strict";var d=Z(1052).default;Object.defineProperty(v,"__esModule",{value:!0}),v.PDFDataTransportStream=void 0;var te=Z(7410),D=Z(8419);v.PDFDataTransportStream=class{constructor(o,i){(0,te.assert)(i,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=o.progressiveDone||!1,this._contentDispositionFilename=o.contentDispositionFilename||null;const c=o.initialData;if((null==c?void 0:c.length)>0){const g=new Uint8Array(c).buffer;this._queuedChunks.push(g)}this._pdfDataRangeTransport=i,this._isStreamingSupported=!o.disableStream,this._isRangeSupported=!o.disableRange,this._contentLength=o.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((g,y)=>{this._onReceiveData({begin:g,chunk:y})}),this._pdfDataRangeTransport.addProgressListener((g,y)=>{this._onProgress({loaded:g,total:y})}),this._pdfDataRangeTransport.addProgressiveReadListener(g=>{this._onReceiveData({chunk:g})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(o){const i=new Uint8Array(o.chunk).buffer;if(void 0===o.begin)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const c=this._rangeReaders.some(function(g){return g._begin===o.begin&&(g._enqueue(i),!0)});(0,te.assert)(c,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var o,i;return null!=(i=null==(o=this._fullRequestReader)?void 0:o._loaded)?i:0}_onProgress(o){if(void 0===o.total){const i=this._rangeReaders[0];(null==i?void 0:i.onProgress)&&i.onProgress({loaded:o.loaded})}else{const i=this._fullRequestReader;(null==i?void 0:i.onProgress)&&i.onProgress({loaded:o.loaded,total:o.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(o){const i=this._rangeReaders.indexOf(o);i>=0&&this._rangeReaders.splice(i,1)}getFullReader(){(0,te.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const o=this._queuedChunks;return this._queuedChunks=null,new Y(this,o,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(o,i){if(i<=this._progressiveDataLength)return null;const c=new L(this,o,i);return this._pdfDataRangeTransport.requestDataRange(o,i),this._rangeReaders.push(c),c}cancelAllRequests(o){this._fullRequestReader&&this._fullRequestReader.cancel(o);for(const i of this._rangeReaders.slice(0))i.cancel(o);this._pdfDataRangeTransport.abort()}};class Y{constructor(o,i,c=!1,g=null){this._stream=o,this._done=c||!1,this._filename=(0,D.isPdfFile)(g)?g:null,this._queuedChunks=i||[],this._loaded=0;for(const y of this._queuedChunks)this._loaded+=y.byteLength;this._requests=[],this._headersReady=Promise.resolve(),o._fullRequestReader=this,this.onProgress=null}_enqueue(o){this._done||(this._requests.length>0?this._requests.shift().resolve({value:o,done:!1}):this._queuedChunks.push(o),this._loaded+=o.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var o=this;return d(function*(){if(o._queuedChunks.length>0)return{value:o._queuedChunks.shift(),done:!1};if(o._done)return{value:void 0,done:!0};const i=(0,te.createPromiseCapability)();return o._requests.push(i),i.promise})()}cancel(o){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class L{constructor(o,i,c){this._stream=o,this._begin=i,this._end=c,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(o){if(!this._done){if(0===this._requests.length)this._queuedChunk=o;else{this._requests.shift().resolve({value:o,done:!1});for(const c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var o=this;return d(function*(){if(o._queuedChunk){const c=o._queuedChunk;return o._queuedChunk=null,{value:c,done:!1}}if(o._done)return{value:void 0,done:!0};const i=(0,te.createPromiseCapability)();return o._requests.push(i),i.promise})()}cancel(o){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},8348:(fe,v)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.GlobalWorkerOptions=void 0;const Z=Object.create(null);v.GlobalWorkerOptions=Z,Z.workerPort=void 0===Z.workerPort?null:Z.workerPort,Z.workerSrc=void 0===Z.workerSrc?"":Z.workerSrc},3829:(fe,v,Z)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.XfaLayer=void 0;var d=Z(7410),te=Z(3893);v.XfaLayer=class{static setupStorage(Y,L,n,o,i){const c=o.getValue(L,{value:null});switch(n.name){case"textarea":if(null!==c.value&&(Y.textContent=c.value),"print"===i)break;Y.addEventListener("input",g=>{o.setValue(L,{value:g.target.value})});break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(c.value===n.attributes.xfaOn?Y.setAttribute("checked",!0):c.value===n.attributes.xfaOff&&Y.removeAttribute("checked"),"print"===i)break;Y.addEventListener("change",g=>{o.setValue(L,{value:g.target.getAttribute(g.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==c.value&&Y.setAttribute("value",c.value),"print"===i)break;Y.addEventListener("input",g=>{o.setValue(L,{value:g.target.value})})}break;case"select":if(null!==c.value)for(const g of n.children)g.attributes.value===c.value&&(g.attributes.selected=!0);Y.addEventListener("input",g=>{const y=g.target.options;o.setValue(L,{value:-1===y.selectedIndex?"":y[y.selectedIndex].value})})}}static setAttributes({html:Y,element:L,storage:n=null,intent:o,linkService:i}){var y;const{attributes:c}=L,g=Y instanceof HTMLAnchorElement;"radio"===c.type&&(c.name=`${c.name}-${o}`);for(const[u,r]of Object.entries(c))if(null!=r&&"dataId"!==u)if("style"!==u)if("textContent"===u)Y.textContent=r;else if("class"===u)r.length&&Y.setAttribute(u,r.join(" "));else{if(g&&("href"===u||"newWindow"===u))continue;Y.setAttribute(u,r)}else Object.assign(Y.style,r);g&&(i.addLinkAttributes||(0,d.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),null==(y=i.addLinkAttributes)||y.call(i,Y,c.href,c.newWindow)),n&&c.dataId&&this.setupStorage(Y,c.dataId,L,n)}static render(Y){var r;const L=Y.annotationStorage,n=Y.linkService,o=Y.xfaHtml,i=Y.intent||"display",c=document.createElement(o.name);o.attributes&&this.setAttributes({html:c,element:o,intent:i,linkService:n});const g=[[o,-1,c]],y=Y.div;if(y.appendChild(c),Y.viewport){const T=`matrix(${Y.viewport.transform.join(",")})`;y.style.transform=T}"richText"!==i&&y.setAttribute("class","xfaLayer xfaFont");const u=[];for(;g.length>0;){const[T,R,E]=g[g.length-1];if(R+1===T.children.length){g.pop();continue}const P=T.children[++g[g.length-1][1]];if(null===P)continue;const{name:t}=P;if("#text"===t){const S=document.createTextNode(P.value);u.push(S),E.appendChild(S);continue}let s;if(s=(null==(r=null==P?void 0:P.attributes)?void 0:r.xmlns)?document.createElementNS(P.attributes.xmlns,t):document.createElement(t),E.appendChild(s),P.attributes&&this.setAttributes({html:s,element:P,storage:L,intent:i,linkService:n}),P.children&&P.children.length>0)g.push([P,-1,s]);else if(P.value){const S=document.createTextNode(P.value);te.XfaText.shouldBuildText(t)&&u.push(S),s.appendChild(S)}}for(const T of y.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))T.setAttribute("readOnly",!0);return{textDivs:u}}static update(Y){const L=`matrix(${Y.viewport.transform.join(",")})`;Y.div.style.transform=L,Y.div.hidden=!1}}},3893:(fe,v)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.XfaText=void 0;class Z{static textContent(te){const D=[],se={items:D,styles:Object.create(null)};return function Y(L){var i;if(!L)return;let n=null;const o=L.name;if("#text"===o)n=L.value;else{if(!Z.shouldBuildText(o))return;(null==(i=null==L?void 0:L.attributes)?void 0:i.textContent)?n=L.attributes.textContent:L.value&&(n=L.value)}if(null!==n&&D.push({str:n}),L.children)for(const c of L.children)Y(c)}(te),se}static shouldBuildText(te){return!("textarea"===te||"input"===te||"option"===te||"select"===te)}}v.XfaText=Z},3186:(fe,v,Z)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),Object.defineProperty(v,"AnnotationLayer",{enumerable:!0,get:function(){return se.AnnotationLayer}}),Object.defineProperty(v,"AnnotationMode",{enumerable:!0,get:function(){return d.AnnotationMode}}),Object.defineProperty(v,"CMapCompressionType",{enumerable:!0,get:function(){return d.CMapCompressionType}}),Object.defineProperty(v,"GlobalWorkerOptions",{enumerable:!0,get:function(){return Y.GlobalWorkerOptions}}),Object.defineProperty(v,"InvalidPDFException",{enumerable:!0,get:function(){return d.InvalidPDFException}}),Object.defineProperty(v,"LoopbackPort",{enumerable:!0,get:function(){return te.LoopbackPort}}),Object.defineProperty(v,"MissingPDFException",{enumerable:!0,get:function(){return d.MissingPDFException}}),Object.defineProperty(v,"OPS",{enumerable:!0,get:function(){return d.OPS}}),Object.defineProperty(v,"PDFDataRangeTransport",{enumerable:!0,get:function(){return te.PDFDataRangeTransport}}),Object.defineProperty(v,"PDFDateString",{enumerable:!0,get:function(){return D.PDFDateString}}),Object.defineProperty(v,"PDFWorker",{enumerable:!0,get:function(){return te.PDFWorker}}),Object.defineProperty(v,"PasswordResponses",{enumerable:!0,get:function(){return d.PasswordResponses}}),Object.defineProperty(v,"PermissionFlag",{enumerable:!0,get:function(){return d.PermissionFlag}}),Object.defineProperty(v,"PixelsPerInch",{enumerable:!0,get:function(){return D.PixelsPerInch}}),Object.defineProperty(v,"RenderingCancelledException",{enumerable:!0,get:function(){return D.RenderingCancelledException}}),Object.defineProperty(v,"SVGGraphics",{enumerable:!0,get:function(){return o.SVGGraphics}}),Object.defineProperty(v,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return d.UNSUPPORTED_FEATURES}}),Object.defineProperty(v,"UnexpectedResponseException",{enumerable:!0,get:function(){return d.UnexpectedResponseException}}),Object.defineProperty(v,"Util",{enumerable:!0,get:function(){return d.Util}}),Object.defineProperty(v,"VerbosityLevel",{enumerable:!0,get:function(){return d.VerbosityLevel}}),Object.defineProperty(v,"XfaLayer",{enumerable:!0,get:function(){return i.XfaLayer}}),Object.defineProperty(v,"build",{enumerable:!0,get:function(){return te.build}}),Object.defineProperty(v,"createPromiseCapability",{enumerable:!0,get:function(){return d.createPromiseCapability}}),Object.defineProperty(v,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return d.createValidAbsoluteUrl}}),Object.defineProperty(v,"getDocument",{enumerable:!0,get:function(){return te.getDocument}}),Object.defineProperty(v,"getFilenameFromUrl",{enumerable:!0,get:function(){return D.getFilenameFromUrl}}),Object.defineProperty(v,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return D.getPdfFilenameFromUrl}}),Object.defineProperty(v,"getXfaPageViewport",{enumerable:!0,get:function(){return D.getXfaPageViewport}}),Object.defineProperty(v,"isPdfFile",{enumerable:!0,get:function(){return D.isPdfFile}}),Object.defineProperty(v,"loadScript",{enumerable:!0,get:function(){return D.loadScript}}),Object.defineProperty(v,"renderTextLayer",{enumerable:!0,get:function(){return n.renderTextLayer}}),Object.defineProperty(v,"shadow",{enumerable:!0,get:function(){return d.shadow}}),Object.defineProperty(v,"version",{enumerable:!0,get:function(){return te.version}});var d=Z(7410),te=Z(9420),D=Z(8419),se=Z(5668),Y=Z(8348),L=Z(7538),n=Z(6166),o=Z(448),i=Z(3829);if(L.isNodeJS){const{PDFNodeStream:y}=Z(9467);(0,te.setPDFNetworkStreamFactory)(u=>new y(u))}else{const{PDFNetworkStream:y}=Z(6583),{PDFFetchStream:u}=Z(2128);(0,te.setPDFNetworkStreamFactory)(r=>(0,D.isValidFetchUrl)(r.url)?new u(r):new y(r))}},1841:(fe,v,Z)=>{"use strict";Z(7538)},7538:(fe,v)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.isNodeJS=void 0;const Z=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);v.isNodeJS=Z},382:(fe,v,Z)=>{"use strict";var d=Z(1052).default;Object.defineProperty(v,"__esModule",{value:!0}),v.MessageHandler=void 0;var te=Z(7410);function Y(n){switch(n instanceof Error||"object"==typeof n&&null!==n||(0,te.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new te.AbortException(n.message);case"MissingPDFException":return new te.MissingPDFException(n.message);case"PasswordException":return new te.PasswordException(n.message,n.code);case"UnexpectedResponseException":return new te.UnexpectedResponseException(n.message,n.status);case"UnknownErrorException":return new te.UnknownErrorException(n.message,n.details);default:return new te.UnknownErrorException(n.message,n.toString())}}v.MessageHandler=class{constructor(o,i,c){this.sourceName=o,this.targetName=i,this.comObj=c,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=g=>{const y=g.data;if(y.targetName!==this.sourceName)return;if(y.stream)return void this._processStreamMessage(y);if(y.callback){const r=y.callbackId,T=this.callbackCapabilities[r];if(!T)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],1===y.callback)T.resolve(y.data);else{if(2!==y.callback)throw new Error("Unexpected callback case");T.reject(Y(y.reason))}return}const u=this.actionHandler[y.action];if(!u)throw new Error(`Unknown action from worker: ${y.action}`);if(y.callbackId){const r=this.sourceName,T=y.sourceName;new Promise(function(R){R(u(y.data))}).then(function(R){c.postMessage({sourceName:r,targetName:T,callback:1,callbackId:y.callbackId,data:R})},function(R){c.postMessage({sourceName:r,targetName:T,callback:2,callbackId:y.callbackId,reason:Y(R)})})}else y.streamId?this._createStreamSink(y):u(y.data)},c.addEventListener("message",this._onComObjOnMessage)}on(o,i){const c=this.actionHandler;if(c[o])throw new Error(`There is already an actionName called "${o}"`);c[o]=i}send(o,i,c){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:o,data:i},c)}sendWithPromise(o,i,c){const g=this.callbackId++,y=(0,te.createPromiseCapability)();this.callbackCapabilities[g]=y;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:o,callbackId:g,data:i},c)}catch(u){y.reject(u)}return y.promise}sendWithStream(o,i,c,g){const y=this.streamId++,u=this.sourceName,r=this.targetName,T=this.comObj;return new ReadableStream({start:R=>{const E=(0,te.createPromiseCapability)();return this.streamControllers[y]={controller:R,startCall:E,pullCall:null,cancelCall:null,isClosed:!1},T.postMessage({sourceName:u,targetName:r,action:o,streamId:y,data:i,desiredSize:R.desiredSize},g),E.promise},pull:R=>{const E=(0,te.createPromiseCapability)();return this.streamControllers[y].pullCall=E,T.postMessage({sourceName:u,targetName:r,stream:6,streamId:y,desiredSize:R.desiredSize}),E.promise},cancel:R=>{(0,te.assert)(R instanceof Error,"cancel must have a valid reason");const E=(0,te.createPromiseCapability)();return this.streamControllers[y].cancelCall=E,this.streamControllers[y].isClosed=!0,T.postMessage({sourceName:u,targetName:r,stream:1,streamId:y,reason:Y(R)}),E.promise}},c)}_createStreamSink(o){const i=o.streamId,c=this.sourceName,g=o.sourceName,y=this.comObj,u=this,r=this.actionHandler[o.action],T={enqueue(R,E=1,P){if(this.isCancelled)return;const t=this.desiredSize;this.desiredSize-=E,t>0&&this.desiredSize<=0&&(this.sinkCapability=(0,te.createPromiseCapability)(),this.ready=this.sinkCapability.promise),y.postMessage({sourceName:c,targetName:g,stream:4,streamId:i,chunk:R},P)},close(){this.isCancelled||(this.isCancelled=!0,y.postMessage({sourceName:c,targetName:g,stream:3,streamId:i}),delete u.streamSinks[i])},error(R){(0,te.assert)(R instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,y.postMessage({sourceName:c,targetName:g,stream:5,streamId:i,reason:Y(R)}))},sinkCapability:(0,te.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:o.desiredSize,ready:null};T.sinkCapability.resolve(),T.ready=T.sinkCapability.promise,this.streamSinks[i]=T,new Promise(function(R){R(r(o.data,T))}).then(function(){y.postMessage({sourceName:c,targetName:g,stream:8,streamId:i,success:!0})},function(R){y.postMessage({sourceName:c,targetName:g,stream:8,streamId:i,reason:Y(R)})})}_processStreamMessage(o){const i=o.streamId,c=this.sourceName,g=o.sourceName,y=this.comObj,u=this.streamControllers[i],r=this.streamSinks[i];switch(o.stream){case 8:o.success?u.startCall.resolve():u.startCall.reject(Y(o.reason));break;case 7:o.success?u.pullCall.resolve():u.pullCall.reject(Y(o.reason));break;case 6:if(!r){y.postMessage({sourceName:c,targetName:g,stream:7,streamId:i,success:!0});break}r.desiredSize<=0&&o.desiredSize>0&&r.sinkCapability.resolve(),r.desiredSize=o.desiredSize,new Promise(function(T){T(r.onPull&&r.onPull())}).then(function(){y.postMessage({sourceName:c,targetName:g,stream:7,streamId:i,success:!0})},function(T){y.postMessage({sourceName:c,targetName:g,stream:7,streamId:i,reason:Y(T)})});break;case 4:if((0,te.assert)(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(o.chunk);break;case 3:if((0,te.assert)(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),this._deleteStreamController(u,i);break;case 5:(0,te.assert)(u,"error should have stream controller"),u.controller.error(Y(o.reason)),this._deleteStreamController(u,i);break;case 2:o.success?u.cancelCall.resolve():u.cancelCall.reject(Y(o.reason)),this._deleteStreamController(u,i);break;case 1:if(!r)break;new Promise(function(T){T(r.onCancel&&r.onCancel(Y(o.reason)))}).then(function(){y.postMessage({sourceName:c,targetName:g,stream:2,streamId:i,success:!0})},function(T){y.postMessage({sourceName:c,targetName:g,stream:2,streamId:i,reason:Y(T)})}),r.sinkCapability.reject(Y(o.reason)),r.isCancelled=!0,delete this.streamSinks[i];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(o,i){var c=this;return d(function*(){yield Promise.allSettled([o.startCall&&o.startCall.promise,o.pullCall&&o.pullCall.promise,o.cancelCall&&o.cancelCall.promise]),delete c.streamControllers[i]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},1289:(fe,v)=>{"use strict";function Z(te){return Math.floor(255*Math.max(0,Math.min(1,te))).toString(16).padStart(2,"0")}Object.defineProperty(v,"__esModule",{value:!0}),v.ColorConverters=void 0,v.ColorConverters=class{static CMYK_G([D,se,Y,L]){return["G",1-Math.min(1,.3*D+.59*Y+.11*se+L)]}static G_CMYK([D]){return["CMYK",0,0,0,1-D]}static G_RGB([D]){return["RGB",D,D,D]}static G_HTML([D]){const se=Z(D);return`#${se}${se}${se}`}static RGB_G([D,se,Y]){return["G",.3*D+.59*se+.11*Y]}static RGB_HTML([D,se,Y]){return`#${Z(D)}${Z(se)}${Z(Y)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([D,se,Y,L]){return["RGB",1-Math.min(1,D+L),1-Math.min(1,Y+L),1-Math.min(1,se+L)]}static CMYK_HTML(D){return this.RGB_HTML(this.CMYK_RGB(D))}static RGB_CMYK([D,se,Y]){const L=1-D,n=1-se,o=1-Y;return["CMYK",L,n,o,Math.min(L,n,o)]}}},7410:(fe,v,Z)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.VerbosityLevel=v.Util=v.UnknownErrorException=v.UnexpectedResponseException=v.UNSUPPORTED_FEATURES=v.TextRenderingMode=v.StreamType=v.RenderingIntentFlag=v.PermissionFlag=v.PasswordResponses=v.PasswordException=v.PageActionEventType=v.OPS=v.MissingPDFException=v.IsLittleEndianCached=v.IsEvalSupportedCached=v.InvalidPDFException=v.ImageKind=v.IDENTITY_MATRIX=v.FormatError=v.FontType=v.FONT_IDENTITY_MATRIX=v.DocumentActionEventType=v.CMapCompressionType=v.BaseException=v.AnnotationType=v.AnnotationStateModelType=v.AnnotationReviewState=v.AnnotationReplyType=v.AnnotationMode=v.AnnotationMarkedState=v.AnnotationFlag=v.AnnotationFieldFlag=v.AnnotationBorderStyleType=v.AnnotationActionEventType=v.AbortException=void 0,v.arrayByteLength=W,v.arraysToBytes=function(ae){const z=ae.length;if(1===z&&ae[0]instanceof Uint8Array)return ae[0];let J=0;for(let ve=0;ve<z;ve++)J+=W(ae[ve]);let pe=0;const be=new Uint8Array(J);for(let ve=0;ve<z;ve++){let Ce=ae[ve];Ce instanceof Uint8Array||(Ce="string"==typeof Ce?H(Ce):new Uint8Array(Ce));const Ue=Ce.byteLength;be.set(Ce,pe),pe+=Ue}return be},v.assert=function(ae,z){ae||U(z)},v.bytesToString=function(ae){("object"!=typeof ae||null===ae||void 0===ae.length)&&U("Invalid argument for bytesToString");const z=ae.length,J=8192;if(z<J)return String.fromCharCode.apply(null,ae);const pe=[];for(let be=0;be<z;be+=J){const ve=Math.min(be+J,z),Ce=ae.subarray(be,ve);pe.push(String.fromCharCode.apply(null,Ce))}return pe.join("")},v.createPromiseCapability=function(){const ae=Object.create(null);let z=!1;return Object.defineProperty(ae,"settled",{get:()=>z}),ae.promise=new Promise(function(J,pe){ae.resolve=function(be){z=!0,J(be)},ae.reject=function(be){z=!0,pe(be)}}),ae},v.createValidAbsoluteUrl=function(ae,z=null,J=null){if(!ae)return null;try{if(J&&"string"==typeof ae){if(J.addDefaultProtocol&&ae.startsWith("www.")){const be=ae.match(/\./g);be&&be.length>=2&&(ae=`http://${ae}`)}if(J.tryConvertEncoding)try{ae=Te(ae)}catch(be){}}const pe=z?new URL(ae,z):new URL(ae);if(function(ae){if(!ae)return!1;switch(ae.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(pe))return pe}catch(pe){}return null},v.escapeString=function(ae){return ae.replace(/([()\\\n\r])/g,z=>"\n"===z?"\\n":"\r"===z?"\\r":`\\${z}`)},v.getModificationDate=function(ae=new Date){return[ae.getUTCFullYear().toString(),(ae.getUTCMonth()+1).toString().padStart(2,"0"),ae.getUTCDate().toString().padStart(2,"0"),ae.getUTCHours().toString().padStart(2,"0"),ae.getUTCMinutes().toString().padStart(2,"0"),ae.getUTCSeconds().toString().padStart(2,"0")].join("")},v.getVerbosityLevel=function(){return V},v.info=function(ae){V>=S.INFOS&&console.log(`Info: ${ae}`)},v.isArrayBuffer=function(ae){return"object"==typeof ae&&null!==ae&&void 0!==ae.byteLength},v.isArrayEqual=function(ae,z){if(ae.length!==z.length)return!1;for(let J=0,pe=ae.length;J<pe;J++)if(ae[J]!==z[J])return!1;return!0},v.isAscii=function(ae){return/^[\x00-\x7F]*$/.test(ae)},v.isSameOrigin=function(ae,z){let J;try{if(J=new URL(ae),!J.origin||"null"===J.origin)return!1}catch(be){return!1}const pe=new URL(z,J);return J.origin===pe.origin},v.objectFromMap=function(ae){const z=Object.create(null);for(const[J,pe]of ae)z[J]=pe;return z},v.objectSize=function(ae){return Object.keys(ae).length},v.setVerbosityLevel=function(ae){Number.isInteger(ae)&&(V=ae)},v.shadow=p,v.string32=function(ae){return String.fromCharCode(ae>>24&255,ae>>16&255,ae>>8&255,255&ae)},v.stringToBytes=H,v.stringToPDFString=function(ae){if(ae[0]>="\xef"){let J;if("\xfe"===ae[0]&&"\xff"===ae[1]?J="utf-16be":"\xff"===ae[0]&&"\xfe"===ae[1]?J="utf-16le":"\xef"===ae[0]&&"\xbb"===ae[1]&&"\xbf"===ae[2]&&(J="utf-8"),J)try{const pe=new TextDecoder(J,{fatal:!0}),be=H(ae);return pe.decode(be)}catch(pe){G(`stringToPDFString: "${pe}".`)}}const z=[];for(let J=0,pe=ae.length;J<pe;J++){const be=me[ae.charCodeAt(J)];z.push(be?String.fromCharCode(be):ae.charAt(J))}return z.join("")},v.stringToUTF16BEString=function(ae){const z=["\xfe\xff"];for(let J=0,pe=ae.length;J<pe;J++){const be=ae.charCodeAt(J);z.push(String.fromCharCode(be>>8&255),String.fromCharCode(255&be))}return z.join("")},v.stringToUTF8String=Te,v.unreachable=U,v.utf8StringToString=function(ae){return unescape(encodeURIComponent(ae))},v.warn=G,Z(1841),v.IDENTITY_MATRIX=[1,0,0,1,0,0],v.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],v.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},v.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},v.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},v.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},v.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},v.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},v.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},v.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},v.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},v.AnnotationReplyType={GROUP:"Group",REPLY:"R"},v.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},v.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},v.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},v.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},v.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},v.PageActionEventType={O:"PageOpen",C:"PageClose"},v.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},v.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const S={ERRORS:0,WARNINGS:1,INFOS:5};v.VerbosityLevel=S,v.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},v.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},v.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},v.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let V=S.WARNINGS;function G(ae){V>=S.WARNINGS&&console.log(`Warning: ${ae}`)}function U(ae){throw new Error(ae)}function p(ae,z,J){return Object.defineProperty(ae,z,{value:J,enumerable:!0,configurable:!0,writable:!1}),J}const b=function(){function z(J,pe){this.constructor===z&&U("Cannot initialize BaseException."),this.message=J,this.name=pe}return z.prototype=new Error,z.constructor=z,z}();function H(ae){"string"!=typeof ae&&U("Invalid argument for stringToBytes");const z=ae.length,J=new Uint8Array(z);for(let pe=0;pe<z;++pe)J[pe]=255&ae.charCodeAt(pe);return J}function W(ae){return void 0!==ae.length?ae.length:void 0!==ae.byteLength?ae.byteLength:void U("Invalid argument for arrayByteLength")}v.BaseException=b,v.PasswordException=class extends b{constructor(z,J){super(z,"PasswordException"),this.code=J}},v.UnknownErrorException=class extends b{constructor(z,J){super(z,"UnknownErrorException"),this.details=J}},v.InvalidPDFException=class extends b{constructor(z){super(z,"InvalidPDFException")}},v.MissingPDFException=class extends b{constructor(z){super(z,"MissingPDFException")}},v.UnexpectedResponseException=class extends b{constructor(z,J){super(z,"UnexpectedResponseException"),this.status=J}},v.FormatError=class extends b{constructor(z){super(z,"FormatError")}},v.AbortException=class extends b{constructor(z){super(z,"AbortException")}},v.IsLittleEndianCached={get value(){return p(this,"value",function(){const ae=new Uint8Array(4);return ae[0]=1,1===new Uint32Array(ae.buffer,0,1)[0]}())}},v.IsEvalSupportedCached={get value(){return p(this,"value",function(){try{return new Function(""),!0}catch(ae){return!1}}())}};const re=[...Array(256).keys()].map(ae=>ae.toString(16).padStart(2,"0"));class de{static makeHexColor(z,J,pe){return`#${re[z]}${re[J]}${re[pe]}`}static transform(z,J){return[z[0]*J[0]+z[2]*J[1],z[1]*J[0]+z[3]*J[1],z[0]*J[2]+z[2]*J[3],z[1]*J[2]+z[3]*J[3],z[0]*J[4]+z[2]*J[5]+z[4],z[1]*J[4]+z[3]*J[5]+z[5]]}static applyTransform(z,J){return[z[0]*J[0]+z[1]*J[2]+J[4],z[0]*J[1]+z[1]*J[3]+J[5]]}static applyInverseTransform(z,J){const pe=J[0]*J[3]-J[1]*J[2];return[(z[0]*J[3]-z[1]*J[2]+J[2]*J[5]-J[4]*J[3])/pe,(-z[0]*J[1]+z[1]*J[0]+J[4]*J[1]-J[5]*J[0])/pe]}static getAxialAlignedBoundingBox(z,J){const pe=de.applyTransform(z,J),be=de.applyTransform(z.slice(2,4),J),ve=de.applyTransform([z[0],z[3]],J),Ce=de.applyTransform([z[2],z[1]],J);return[Math.min(pe[0],be[0],ve[0],Ce[0]),Math.min(pe[1],be[1],ve[1],Ce[1]),Math.max(pe[0],be[0],ve[0],Ce[0]),Math.max(pe[1],be[1],ve[1],Ce[1])]}static inverseTransform(z){const J=z[0]*z[3]-z[1]*z[2];return[z[3]/J,-z[1]/J,-z[2]/J,z[0]/J,(z[2]*z[5]-z[4]*z[3])/J,(z[4]*z[1]-z[5]*z[0])/J]}static apply3dTransform(z,J){return[z[0]*J[0]+z[1]*J[1]+z[2]*J[2],z[3]*J[0]+z[4]*J[1]+z[5]*J[2],z[6]*J[0]+z[7]*J[1]+z[8]*J[2]]}static singularValueDecompose2dScale(z){const J=[z[0],z[2],z[1],z[3]],pe=z[0]*J[0]+z[1]*J[2],Ce=z[2]*J[1]+z[3]*J[3],Ue=(pe+Ce)/2,Ve=Math.sqrt((pe+Ce)**2-4*(pe*Ce-(z[2]*J[0]+z[3]*J[2])*(z[0]*J[1]+z[1]*J[3])))/2,Ie=Ue-Ve||1;return[Math.sqrt(Ue+Ve||1),Math.sqrt(Ie)]}static normalizeRect(z){const J=z.slice(0);return z[0]>z[2]&&(J[0]=z[2],J[2]=z[0]),z[1]>z[3]&&(J[1]=z[3],J[3]=z[1]),J}static intersect(z,J){function pe(Ue,Ve){return Ue-Ve}const be=[z[0],z[2],J[0],J[2]].sort(pe),ve=[z[1],z[3],J[1],J[3]].sort(pe),Ce=[];return z=de.normalizeRect(z),J=de.normalizeRect(J),be[0]===z[0]&&be[1]===J[0]||be[0]===J[0]&&be[1]===z[0]?(Ce[0]=be[1],Ce[2]=be[2],ve[0]===z[1]&&ve[1]===J[1]||ve[0]===J[1]&&ve[1]===z[1]?(Ce[1]=ve[1],Ce[3]=ve[2],Ce):null):null}static bezierBoundingBox(z,J,pe,be,ve,Ce,Ue,Ve){const He=[],Ie=[[],[]];let $e,Ge,Ke,Fe,et,ze,Ye,tt;for(let nt=0;nt<2;++nt)if(0===nt?(Ge=6*z-12*pe+6*ve,$e=-3*z+9*pe-9*ve+3*Ue,Ke=3*pe-3*z):(Ge=6*J-12*be+6*Ce,$e=-3*J+9*be-9*Ce+3*Ve,Ke=3*be-3*J),Math.abs($e)<1e-12){if(Math.abs(Ge)<1e-12)continue;Fe=-Ke/Ge,0<Fe&&Fe<1&&He.push(Fe)}else Ye=Ge*Ge-4*Ke*$e,tt=Math.sqrt(Ye),!(Ye<0)&&(et=(-Ge+tt)/(2*$e),0<et&&et<1&&He.push(et),ze=(-Ge-tt)/(2*$e),0<ze&&ze<1&&He.push(ze));let Oe,Je=He.length;const Qe=Je;for(;Je--;)Fe=He[Je],Oe=1-Fe,Ie[0][Je]=Oe*Oe*Oe*z+3*Oe*Oe*Fe*pe+3*Oe*Fe*Fe*ve+Fe*Fe*Fe*Ue,Ie[1][Je]=Oe*Oe*Oe*J+3*Oe*Oe*Fe*be+3*Oe*Fe*Fe*Ce+Fe*Fe*Fe*Ve;return Ie[0][Qe]=z,Ie[1][Qe]=J,Ie[0][Qe+1]=Ue,Ie[1][Qe+1]=Ve,Ie[0].length=Ie[1].length=Qe+2,[Math.min(...Ie[0]),Math.min(...Ie[1]),Math.max(...Ie[0]),Math.max(...Ie[1])]}}v.Util=de;const me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Te(ae){return decodeURIComponent(escape(ae))}},9875:(fe,v)=>{var te,Vt,se,Wt,L,Ht;Object.defineProperty(v,"__esModule",{value:!0}),v.GrabToPan=void 0;const Z="grab-to-pan-grab";te=new WeakSet,Vt=function(i){if(0!==i.button||this.ignoreTarget(i.target))return;this.scrollLeftStart=this.element.scrollLeft,this.scrollTopStart=this.element.scrollTop,this.clientXStart=i.clientX,this.clientYStart=i.clientY,this.document.addEventListener("mousemove",this._onMouseMove,!0),this.document.addEventListener("mouseup",this._endPan,!0),this.element.addEventListener("scroll",this._endPan,!0),i.preventDefault(),i.stopPropagation();const c=document.activeElement;c&&!c.contains(i.target)&&c.blur()},se=new WeakSet,Wt=function(i){if(this.element.removeEventListener("scroll",this._endPan,!0),!(1&i.buttons))return void this._endPan();const y=this.scrollTopStart-(i.clientY-this.clientYStart),u=this.scrollLeftStart-(i.clientX-this.clientXStart);this.element.scrollTo?this.element.scrollTo({top:y,left:u,behavior:"instant"}):(this.element.scrollTop=y,this.element.scrollLeft=u),this.overlay.parentNode||document.body.appendChild(this.overlay)},L=new WeakSet,Ht=function(){this.element.removeEventListener("scroll",this._endPan,!0),this.document.removeEventListener("mousemove",this._onMouseMove,!0),this.document.removeEventListener("mouseup",this._endPan,!0),this.overlay.remove()},v.GrabToPan=class{constructor(i){Me(this,te),Me(this,se),Me(this,L),this.element=i.element,this.document=i.element.ownerDocument,"function"==typeof i.ignoreTarget&&(this.ignoreTarget=i.ignoreTarget),this.onActiveChanged=i.onActiveChanged,this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.toggle=this.toggle.bind(this),this._onMouseDown=Be(this,te,Vt).bind(this),this._onMouseMove=Be(this,se,Wt).bind(this),this._endPan=Be(this,L,Ht).bind(this),(this.overlay=document.createElement("div")).className="grab-to-pan-grabbing"}activate(){var i;this.active||(this.active=!0,this.element.addEventListener("mousedown",this._onMouseDown,!0),this.element.classList.add(Z),null==(i=this.onActiveChanged)||i.call(this,!0))}deactivate(){var i;this.active&&(this.active=!1,this.element.removeEventListener("mousedown",this._onMouseDown,!0),this._endPan(),this.element.classList.remove(Z),null==(i=this.onActiveChanged)||i.call(this,!1))}toggle(){this.active?this.deactivate():this.activate()}ignoreTarget(i){return i.matches("a[href], a[href] *, input, textarea, button, button *, select, option")}}},7243:(fe,v,Z)=>{"use strict";v.V1=void 0;var te=Z(9875),D=Z(7152);const se_SELECT=0,se_HAND=1,se_ZOOM=2;v.V1=class{constructor({container:n,eventBus:o,cursorToolOnLoad:i=se_SELECT}){this.container=n,this.eventBus=o,this.active=se_SELECT,this.activeBeforePresentationMode=null,this.handTool=new te.GrabToPan({element:this.container}),this._addEventListeners(),Promise.resolve().then(()=>{this.switchTool(i)})}get activeTool(){return this.active}switchTool(n){if(null!==this.activeBeforePresentationMode||n===this.active)return;const o=()=>{switch(this.active){case se_SELECT:break;case se_HAND:this.handTool.deactivate()}};switch(n){case se_SELECT:o();break;case se_HAND:o(),this.handTool.activate();break;case se_ZOOM:default:return void console.error(`switchTool: "${n}" is an unsupported value.`)}this.active=n,this._dispatchEvent()}_dispatchEvent(){this.eventBus.dispatch("cursortoolchanged",{source:this,tool:this.active})}_addEventListeners(){this.eventBus._on("switchcursortool",n=>{this.switchTool(n.tool)}),this.eventBus._on("presentationmodechanged",n=>{switch(n.state){case D.PresentationModeState.FULLSCREEN:{const o=this.active;this.switchTool(se_SELECT),this.activeBeforePresentationMode=o;break}case D.PresentationModeState.NORMAL:{const o=this.activeBeforePresentationMode;this.activeBeforePresentationMode=null,this.switchTool(o);break}}})}}},3565:(fe,v,Z)=>{"use strict";v.l=void 0;var te=Z(3186),D=Z(7152);v.l=class{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(n){this.pdfViewer=n}setThumbnailViewer(n){this.pdfThumbnailViewer=n}isHighestPriority(n){return this.highestPriorityPage===n.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(n){var o;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(n)&&(this.isThumbnailViewEnabled&&(null==(o=this.pdfThumbnailViewer)?void 0:o.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(n,o,i,c=!1){const g=n.views,y=g.length;if(0===y)return null;for(let E=0;E<y;E++){const P=g[E].view;if(!this.isViewFinished(P))return P}const u=n.first.id,r=n.last.id;if(r-u+1>y){const E=n.ids;for(let P=1,t=r-u;P<t;P++){const s=i?u+P:r-P;if(E.has(s))continue;const S=o[s-1];if(!this.isViewFinished(S))return S}}let T=i?r:u-2,R=o[T];return R&&!this.isViewFinished(R)||c&&(T+=i?1:-1,R=o[T],R&&!this.isViewFinished(R))?R:null}isViewFinished(n){return n.renderingState===D.RenderingStates.FINISHED}renderView(n){switch(n.renderingState){case D.RenderingStates.FINISHED:return!1;case D.RenderingStates.PAUSED:this.highestPriorityPage=n.renderingId,n.resume();break;case D.RenderingStates.RUNNING:this.highestPriorityPage=n.renderingId;break;case D.RenderingStates.INITIAL:this.highestPriorityPage=n.renderingId,n.draw().finally(()=>{this.renderHighestPriority()}).catch(o=>{o instanceof te.RenderingCancelledException||console.error(`renderView: "${o}"`)})}return!0}}},4305:(fe,v,Z)=>{var c,d=Z(1052).default;Object.defineProperty(v,"__esModule",{value:!0}),v.TempImageFactory=v.PDFThumbnailView=void 0;var te=Z(7152),D=Z(3186);class o{static getCanvas(y,u){const r=ye(this,c)||De(this,c,document.createElement("canvas"));r.width=y,r.height=u,r.mozOpaque=!0;const T=r.getContext("2d",{alpha:!1});return T.save(),T.fillStyle="rgb(255, 255, 255)",T.fillRect(0,0,y,u),T.restore(),[r,r.getContext("2d")]}static destroyCanvas(){const y=ye(this,c);y&&(y.width=0,y.height=0),De(this,c,null)}}c=new WeakMap,Me(o,c,null),v.TempImageFactory=o,v.PDFThumbnailView=class{constructor({container:y,id:u,defaultViewport:r,optionalContentConfigPromise:T,linkService:R,renderingQueue:E,checkSetImageDisabled:P,l10n:t}){this.id=u,this.renderingId="thumbnail"+u,this.pageLabel=null,this.pdfPage=null,this.rotation=0,this.viewport=r,this.pdfPageRotate=r.rotation,this._optionalContentConfigPromise=T||null,this.linkService=R,this.renderingQueue=E,this.renderTask=null,this.renderingState=te.RenderingStates.INITIAL,this.resume=null,this._checkSetImageDisabled=P||function(){return!1};const s=this.viewport.width,C=s/this.viewport.height;this.canvasWidth=98,this.canvasHeight=this.canvasWidth/C|0,this.scale=this.canvasWidth/s,this.l10n=t;const _=document.createElement("a");_.href=R.getAnchorUrl("#page="+u),this._thumbPageTitle.then(j=>{_.title=j}),_.onclick=function(){return R.goToPage(u),!1},this.anchor=_;const N=document.createElement("div");N.className="thumbnail",N.setAttribute("data-page-number",this.id),this.div=N;const F=document.createElement("div");F.className="thumbnailSelectionRing",F.style.width=this.canvasWidth+2+"px",F.style.height=this.canvasHeight+2+"px",this.ring=F,N.appendChild(F),_.appendChild(N),y.appendChild(_)}setPdfPage(y){this.pdfPage=y,this.pdfPageRotate=y.rotate,this.viewport=y.getViewport({scale:1,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}reset(){this.cancelRendering(),this.renderingState=te.RenderingStates.INITIAL;const y=this.viewport.width;this.canvasHeight=this.canvasWidth/(y/this.viewport.height)|0,this.scale=this.canvasWidth/y,this.div.removeAttribute("data-loaded");const T=this.ring;T.textContent="",T.style.width=this.canvasWidth+2+"px",T.style.height=this.canvasHeight+2+"px",this.canvas&&(this.canvas.width=0,this.canvas.height=0,delete this.canvas),this.image&&(this.image.removeAttribute("src"),delete this.image)}update({rotation:y=null}){"number"==typeof y&&(this.rotation=y),this.viewport=this.viewport.clone({scale:1,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}cancelRendering(){this.renderTask&&(this.renderTask.cancel(),this.renderTask=null),this.resume=null}_getPageDrawContext(y=1){const u=document.createElement("canvas");u.mozOpaque=!0;const r=u.getContext("2d",{alpha:!1}),T=new te.OutputScale;return u.width=y*this.canvasWidth*T.sx|0,u.height=y*this.canvasHeight*T.sy|0,{ctx:r,canvas:u,transform:T.scaled?[T.sx,0,0,T.sy,0,0]:null}}_convertCanvasToImage(y){if(this.renderingState!==te.RenderingStates.FINISHED)throw new Error("_convertCanvasToImage: Rendering has not finished.");const u=this._reduceImage(y),r=document.createElement("img");r.className="thumbnailImage",this._thumbPageCanvas.then(T=>{r.setAttribute("aria-label",T)}),r.style.width=this.canvasWidth+"px",r.style.height=this.canvasHeight+"px",r.src=u.toDataURL(),this.image=r,this.div.setAttribute("data-loaded",!0),this.ring.appendChild(r),u.width=0,u.height=0}draw(){var y=this;if(this.renderingState!==te.RenderingStates.INITIAL)return console.error("Must be in new state before drawing"),Promise.resolve();const{pdfPage:u}=this;if(!u)return this.renderingState=te.RenderingStates.FINISHED,Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=te.RenderingStates.RUNNING;const r=function(){var _=d(function*(N=null){if(S===y.renderTask&&(y.renderTask=null),!(N instanceof D.RenderingCancelledException)&&(y.renderingState=te.RenderingStates.FINISHED,y._convertCanvasToImage(R),N))throw N});return function(){return _.apply(this,arguments)}}(),{ctx:T,canvas:R,transform:E}=this._getPageDrawContext(2),P=this.viewport.clone({scale:2*this.scale}),S=this.renderTask=u.render({canvasContext:T,transform:E,viewport:P,optionalContentConfigPromise:this._optionalContentConfigPromise});S.onContinue=_=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=te.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=te.RenderingStates.RUNNING,_()});_()};const C=S.promise.then(function(){return r(null)},function(_){return r(_)});return C.finally(()=>{var N;R.width=0,R.height=0,this.linkService.isPageCached(this.id)||null==(N=this.pdfPage)||N.cleanup()}),C}setImage(y){if(this._checkSetImageDisabled()||this.renderingState!==te.RenderingStates.INITIAL)return;const{canvas:u,pdfPage:r}=y;!u||(this.pdfPage||this.setPdfPage(r),this.renderingState=te.RenderingStates.FINISHED,this._convertCanvasToImage(u))}_reduceImage(y){const{ctx:u,canvas:r}=this._getPageDrawContext();if(y.width<=2*r.width)return u.drawImage(y,0,0,y.width,y.height,0,0,r.width,r.height),r;let T=r.width<<3,R=r.height<<3;const[E,P]=o.getCanvas(T,R);for(;T>y.width||R>y.height;)T>>=1,R>>=1;for(P.drawImage(y,0,0,y.width,y.height,0,0,T,R);T>2*r.width;)P.drawImage(E,0,0,T,R,0,0,T>>1,R>>1),T>>=1,R>>=1;return u.drawImage(E,0,0,T,R,0,0,r.width,r.height),r}get _thumbPageTitle(){var y;return this.l10n.get("thumb_page_title",{page:null!=(y=this.pageLabel)?y:this.id})}get _thumbPageCanvas(){var y;return this.l10n.get("thumb_page_canvas",{page:null!=(y=this.pageLabel)?y:this.id})}setPageLabel(y){this.pageLabel="string"==typeof y?y:null,this._thumbPageTitle.then(u=>{this.anchor.title=u}),this.renderingState===te.RenderingStates.FINISHED&&this._thumbPageCanvas.then(u=>{var r;null==(r=this.image)||r.setAttribute("aria-label",u)})}}},1894:(fe,v,Z)=>{var o,Gt,c,zt,te=Z(1052).default;v.p=void 0;var D=Z(7152),se=Z(4305);const L="selected";o=new WeakSet,Gt=function(u){var r=this;return te(function*(){if(u.pdfPage)return u.pdfPage;try{const T=yield r.pdfDocument.getPage(u.id);return u.pdfPage||u.setPdfPage(T),T}catch(T){return console.error("Unable to get page for thumb view",T),null}})()},c=new WeakSet,zt=function(u){var r,T;return 1===(null==(r=u.first)?void 0:r.id)||(null==(T=u.last)?void 0:T.id)!==this._thumbnails.length&&this.scroll.down},v.p=class{constructor({container:u,eventBus:r,linkService:T,renderingQueue:R,l10n:E}){Me(this,o),Me(this,c),this.container=u,this.linkService=T,this.renderingQueue=R,this.l10n=E,this.scroll=(0,D.watchScroll)(this.container,this._scrollUpdated.bind(this)),this._resetView(),r._on("optionalcontentconfigchanged",()=>{this._setImageDisabled=!0})}_scrollUpdated(){this.renderingQueue.renderHighestPriority()}getThumbnail(u){return this._thumbnails[u]}_getVisibleThumbs(){return(0,D.getVisibleElements)({scrollEl:this.container,views:this._thumbnails})}scrollThumbnailIntoView(u){if(!this.pdfDocument)return;const r=this._thumbnails[u-1];if(!r)return void console.error('scrollThumbnailIntoView: Invalid "pageNumber" parameter.');u!==this._currentPageNumber&&(this._thumbnails[this._currentPageNumber-1].div.classList.remove(L),r.div.classList.add(L));const{first:T,last:R,views:E}=this._getVisibleThumbs();if(E.length>0){let P=!1;if(u<=T.id||u>=R.id)P=!0;else for(const{id:t,percent:s}of E)if(t===u){P=s<100;break}P&&(0,D.scrollIntoView)(r.div,{top:-19})}this._currentPageNumber=u}get pagesRotation(){return this._pagesRotation}set pagesRotation(u){if(!(0,D.isValidRotation)(u))throw new Error("Invalid thumbnails rotation angle.");if(!this.pdfDocument||this._pagesRotation===u)return;this._pagesRotation=u;const r={rotation:u};for(const T of this._thumbnails)T.update(r)}cleanup(){for(let u=0,r=this._thumbnails.length;u<r;u++)this._thumbnails[u]&&this._thumbnails[u].renderingState!==D.RenderingStates.FINISHED&&this._thumbnails[u].reset();se.TempImageFactory.destroyCanvas()}_resetView(){this._thumbnails=[],this._currentPageNumber=1,this._pageLabels=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._setImageDisabled=!1,this.container.textContent=""}setDocument(u){if(this.pdfDocument&&(this._cancelRendering(),this._resetView()),this.pdfDocument=u,!u)return;const r=u.getPage(1),T=u.getOptionalContentConfig();r.then(R=>{this._optionalContentConfigPromise=T;const E=u.numPages,P=R.getViewport({scale:1}),t=()=>this._setImageDisabled;for(let C=1;C<=E;++C){const _=new se.PDFThumbnailView({container:this.container,id:C,defaultViewport:P.clone(),optionalContentConfigPromise:T,linkService:this.linkService,renderingQueue:this.renderingQueue,checkSetImageDisabled:t,l10n:this.l10n});this._thumbnails.push(_)}const s=this._thumbnails[0];s&&s.setPdfPage(R),this._thumbnails[this._currentPageNumber-1].div.classList.add(L)}).catch(R=>{console.error("Unable to initialize thumbnail viewer",R)})}_cancelRendering(){for(let u=0,r=this._thumbnails.length;u<r;u++)this._thumbnails[u]&&this._thumbnails[u].cancelRendering()}setPageLabels(u){var r,T;if(this.pdfDocument){u?Array.isArray(u)&&this.pdfDocument.numPages===u.length?this._pageLabels=u:(this._pageLabels=null,console.error("PDFThumbnailViewer_setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let R=0,E=this._thumbnails.length;R<E;R++)this._thumbnails[R].setPageLabel(null!=(T=null==(r=this._pageLabels)?void 0:r[R])?T:null)}}forceRendering(){const u=this._getVisibleThumbs(),r=Be(this,c,zt).call(this,u),T=this.renderingQueue.getHighestPriority(u,this._thumbnails,r);return!!T&&(Be(this,o,Gt).call(this,T).then(()=>{this.renderingQueue.renderView(T)}),!0)}}},7152:(fe,v)=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.animationStarted=v.VERTICAL_PADDING=v.UNKNOWN_SCALE=v.TextLayerMode=v.SpreadMode=v.SidebarView=v.ScrollMode=v.SCROLLBAR_PADDING=v.RenderingStates=v.RendererType=v.ProgressBar=v.PresentationModeState=v.OutputScale=v.MIN_SCALE=v.MAX_SCALE=v.MAX_AUTO_SCALE=v.DEFAULT_SCALE_VALUE=v.DEFAULT_SCALE_DELTA=v.DEFAULT_SCALE=v.AutoPrintRegExp=void 0,v.apiPageLayoutToViewerModes=function(k){let I=T.VERTICAL,H=R.NONE;switch(k){case"SinglePage":I=T.PAGE;break;case"OneColumn":break;case"TwoPageLeft":I=T.PAGE;case"TwoColumnLeft":H=R.ODD;break;case"TwoPageRight":I=T.PAGE;case"TwoColumnRight":H=R.EVEN}return{scrollMode:I,spreadMode:H}},v.apiPageModeToSidebarView=function(k){switch(k){case"UseNone":return y.NONE;case"UseThumbs":return y.THUMBS;case"UseOutlines":return y.OUTLINE;case"UseAttachments":return y.ATTACHMENTS;case"UseOC":return y.LAYERS}return y.NONE},v.approximateFraction=function(k){if(Math.floor(k)===k)return[k,1];const I=1/k;if(I>8)return[1,8];if(Math.floor(I)===I)return[1,I];const W=k>1?I:k;let x,Q=0,oe=1,le=1,ue=1;for(;;){const q=Q+le,ce=oe+ue;if(ce>8)break;W<=q/ce?(le=q,ue=ce):(Q=q,oe=ce)}return x=W-Q/oe<le/ue-W?W===k?[Q,oe]:[oe,Q]:W===k?[le,ue]:[ue,le],x},v.backtrackBeforeAllVisibleElements=B,v.binarySearchFirstItem=F,v.getActiveOrFocusedElement=function(){let k=document,I=k.activeElement||k.querySelector(":focus");for(;null==I?void 0:I.shadowRoot;)k=I.shadowRoot,I=k.activeElement||k.querySelector(":focus");return I},v.getPageSizeInches=function({view:k,userUnit:I,rotate:H}){const[W,Q,oe,le]=k,ue=H%180!=0,x=(oe-W)/72*I,q=(le-Q)/72*I;return{width:ue?q:x,height:ue?x:q}},v.getVisibleElements=function({scrollEl:k,views:I,sortByVisibility:H=!1,horizontal:W=!1,rtl:Q=!1}){const oe=k.scrollTop,le=oe+k.clientHeight,ue=k.scrollLeft,x=ue+k.clientWidth,ne=[],re=new Set,de=I.length;let me=F(I,W?function(Ae){const Te=Ae.div,ke=Te.offsetLeft+Te.clientLeft;return Q?ke<x:ke+Te.clientWidth>ue}:function(Ae){const Te=Ae.div;return Te.offsetTop+Te.clientTop+Te.clientHeight>oe});me>0&&me<de&&!W&&(me=B(me,I,oe));let ge=W?x:-1;for(let Ae=me;Ae<de;Ae++){const Te=I[Ae],ke=Te.div,Se=ke.offsetLeft+ke.clientLeft,Re=ke.offsetTop+ke.clientTop,We=ke.clientWidth,je=ke.clientHeight,ae=Se+We,z=Re+je;if(-1===ge)z>=le&&(ge=z);else if((W?Se:Re)>ge)break;if(z<=oe||Re>=le||ae<=ue||Se>=x)continue;const J=Math.max(0,oe-Re)+Math.max(0,z-le),ve=(We-(Math.max(0,ue-Se)+Math.max(0,ae-x)))/We;ne.push({id:Te.id,x:Se,y:Re,view:Te,percent:(je-J)/je*ve*100|0,widthPercent:100*ve|0}),re.add(Te.id)}const we=ne[0],xe=ne[ne.length-1];return H&&ne.sort(function(Ae,Te){const ke=Ae.percent-Te.percent;return Math.abs(ke)>.001?-ke:Ae.id-Te.id}),{first:we,last:xe,views:ne,ids:re}},v.isPortraitOrientation=function(k){return k.width<=k.height},v.isValidRotation=function(k){return Number.isInteger(k)&&k%90==0},v.isValidScrollMode=function(k){return Number.isInteger(k)&&Object.values(T).includes(k)&&k!==T.UNKNOWN},v.isValidSpreadMode=function(k){return Number.isInteger(k)&&Object.values(R).includes(k)&&k!==R.UNKNOWN},v.noContextMenuHandler=function(k){k.preventDefault()},v.normalizeWheelEventDelta=function(k){let I=$(k);return 0===k.deltaMode?I/=900:1===k.deltaMode&&(I/=30),I},v.normalizeWheelEventDirection=$,v.parseQueryString=function(k){const I=new Map;for(const[H,W]of new URLSearchParams(k))I.set(H.toLowerCase(),W);return I},v.removeNullCharacters=function(k,I=!1){return"string"!=typeof k?(console.error("The argument must be a string."),k):(I&&(k=k.replace(_," ")),k.replace(C,""))},v.roundToDivide=function(k,I){const H=k%I;return 0===H?k:Math.round(k-H+I)},v.scrollIntoView=function(k,I,H=!1){let W=k.offsetParent;if(!W)return void console.error("offsetParent is not set -- cannot scroll");let Q=k.offsetTop+k.clientTop,oe=k.offsetLeft+k.clientLeft;for(;W.clientHeight===W.scrollHeight&&W.clientWidth===W.scrollWidth||H&&(W.classList.contains("markedContent")||"hidden"===getComputedStyle(W).overflow);)if(Q+=W.offsetTop,oe+=W.offsetLeft,W=W.offsetParent,!W)return;I&&(void 0!==I.top&&(Q+=I.top),void 0!==I.left&&(oe+=I.left,W.scrollLeft=oe)),W.scrollTop=Q},v.watchScroll=function(k,I){const H=function(oe){Q||(Q=window.requestAnimationFrame(function(){Q=null;const ue=k.scrollLeft,x=W.lastX;ue!==x&&(W.right=ue>x),W.lastX=ue;const q=k.scrollTop,ce=W.lastY;q!==ce&&(W.down=q>ce),W.lastY=q,I(W)}))},W={right:!0,down:!0,lastX:k.scrollLeft,lastY:k.scrollTop,_eventHandler:H};let Q=null;return k.addEventListener("scroll",H,!0),W},v.DEFAULT_SCALE_VALUE="auto",v.DEFAULT_SCALE=1,v.DEFAULT_SCALE_DELTA=1.1,v.MIN_SCALE=.1,v.MAX_SCALE=10,v.UNKNOWN_SCALE=0,v.MAX_AUTO_SCALE=1.25,v.SCROLLBAR_PADDING=40,v.VERTICAL_PADDING=5,v.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},v.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const y={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};v.SidebarView=y,v.RendererType={CANVAS:"canvas",SVG:"svg"},v.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const T={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};v.ScrollMode=T;const R={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};v.SpreadMode=R,v.AutoPrintRegExp=/\bprint\s*\(/,v.OutputScale=class{constructor(){const I=window.devicePixelRatio||1;this.sx=I,this.sy=I}get scaled(){return 1!==this.sx||1!==this.sy}};const C=/\x00/g,_=/[\x01-\x1F]/g;function F(k,I,H=0){let W=H,Q=k.length-1;if(Q<0||!I(k[Q]))return k.length;if(I(k[W]))return W;for(;W<Q;){const oe=W+Q>>1;I(k[oe])?Q=oe:W=oe+1}return W}function B(k,I,H){if(k<2)return k;let W=I[k].div,Q=W.offsetTop+W.clientTop;Q>=H&&(W=I[k-1].div,Q=W.offsetTop+W.clientTop);for(let oe=k-2;oe>=0&&(W=I[oe].div,!(W.offsetTop+W.clientTop+W.clientHeight<=Q));--oe)k=oe;return k}function $(k){let I=Math.hypot(k.deltaX,k.deltaY);const H=Math.atan2(k.deltaY,k.deltaX);return-.25*Math.PI<H&&H<.75*Math.PI&&(I=-I),I}const w=new Promise(function(k){"undefined"!=typeof window?window.requestAnimationFrame(k):setTimeout(k,20)});v.animationStarted=w,v.ProgressBar=class{constructor(I,{height:H,width:W,units:Q}={}){this.visible=!0,this.div=document.querySelector(I+" .progress"),this.bar=this.div.parentNode,this.height=H||100,this.width=W||100,this.units=Q||"%",this.div.style.height=this.height+this.units,this.percent=0}_updateBar(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}get percent(){return this._percent}set percent(I){this._indeterminate=isNaN(I),this._percent=Math.min(Math.max(I,0),100),this._updateBar()}setWidth(I){if(!I)return;const W=I.parentNode.offsetWidth-I.offsetWidth;W>0&&document.documentElement.style.setProperty("--loadingBar-end-offset",`${W}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},6837:function(fe,v,Z){var d=Z(1052).default;fe.exports=(()=>{"use strict";var te=[,(L,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DefaultXfaLayerFactory=n.DefaultTextLayerFactory=n.DefaultStructTreeLayerFactory=n.DefaultAnnotationLayerFactory=void 0;var i=o(2),c=o(4),g=o(5),y=o(7),u=o(8),r=o(9);n.DefaultAnnotationLayerFactory=class{createAnnotationLayerBuilder(s,S,C=null,_="",N=!0,F=c.NullL10n,V=!1,j=null,O=null,B=null,G=null){return new i.AnnotationLayerBuilder({pageDiv:s,pdfPage:S,imageResourcesPath:_,renderForms:N,linkService:new g.SimpleLinkService,l10n:F,annotationStorage:C,enableScripting:V,hasJSActionsPromise:j,fieldObjectsPromise:B,mouseState:O,annotationCanvasMap:G})}};n.DefaultStructTreeLayerFactory=class{createStructTreeLayerBuilder(s){return new y.StructTreeLayerBuilder({pdfPage:s})}};n.DefaultTextLayerFactory=class{createTextLayerBuilder(s,S,C,_=!1,N,F){return new u.TextLayerBuilder({textLayerDiv:s,pageIndex:S,viewport:C,enhanceTextSelection:_,eventBus:N,highlighter:F})}};n.DefaultXfaLayerFactory=class{createXfaLayerBuilder(s,S,C=null,_=null){return new r.XfaLayerBuilder({pageDiv:s,pdfPage:S,annotationStorage:C,linkService:new g.SimpleLinkService,xfaHtml:_})}}},(L,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AnnotationLayerBuilder=void 0;var i=o(3),c=o(4);n.AnnotationLayerBuilder=class{constructor({pageDiv:u,pdfPage:r,linkService:T,downloadManager:R,annotationStorage:E=null,imageResourcesPath:P="",renderForms:t=!0,l10n:s=c.NullL10n,enableScripting:S=!1,hasJSActionsPromise:C=null,fieldObjectsPromise:_=null,mouseState:N=null,annotationCanvasMap:F=null}){this.pageDiv=u,this.pdfPage=r,this.linkService=T,this.downloadManager=R,this.imageResourcesPath=P,this.renderForms=t,this.l10n=s,this.annotationStorage=E,this.enableScripting=S,this._hasJSActionsPromise=C,this._fieldObjectsPromise=_,this._mouseState=N,this._annotationCanvasMap=F,this.div=null,this._cancelled=!1}render(u,r="display"){var T=this;return d(function*(){const[R,E=!1,P=null]=yield Promise.all([T.pdfPage.getAnnotations({intent:r}),T._hasJSActionsPromise,T._fieldObjectsPromise]);if(T._cancelled||0===R.length)return;const t={viewport:u.clone({dontFlip:!0}),div:T.div,annotations:R,page:T.pdfPage,imageResourcesPath:T.imageResourcesPath,renderForms:T.renderForms,linkService:T.linkService,downloadManager:T.downloadManager,annotationStorage:T.annotationStorage,enableScripting:T.enableScripting,hasJSActions:E,fieldObjects:P,mouseState:T._mouseState,annotationCanvasMap:T._annotationCanvasMap};T.div?i.AnnotationLayer.update(t):(T.div=document.createElement("div"),T.div.className="annotationLayer",T.pageDiv.appendChild(T.div),t.div=T.div,i.AnnotationLayer.render(t),T.l10n.translate(T.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},L=>{let n;n="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:Z(8552),L.exports=n},(L,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.NullL10n=void 0,n.fixupLangCode=function(r){return c[null==r?void 0:r.toLowerCase()]||r},n.getL10nFallback=i;const o={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function i(r,T){switch(r){case"find_match_count":r=`find_match_count[${1===T.total?"one":"other"}]`;break;case"find_match_count_limit":r=`find_match_count_limit[${1===T.limit?"one":"other"}]`}return o[r]||""}const c={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};n.NullL10n={getLanguage:()=>d(function*(){return"en-us"})(),getDirection:()=>d(function*(){return"ltr"})(),get:(r,T=null,R=i(r,T))=>d(function*(){return function(r,T){return T?r.replace(/\{\{\s*(\w+)\s*\}\}/g,(R,E)=>E in T?T[E]:"{{"+E+"}}"):r}(R,T)})(),translate:r=>d(function*(){})()}},(L,n,o)=>{var T,R,At,P,qt;Object.defineProperty(n,"__esModule",{value:!0}),n.SimpleLinkService=n.PDFLinkService=n.LinkTarget=void 0;var i=o(6);const g={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function y(S,{url:C,target:_,rel:N,enabled:F=!0}={}){if(!C||"string"!=typeof C)throw new Error('A valid "url" parameter must provided.');const V=(0,i.removeNullCharacters)(C);F?S.href=S.title=V:(S.href="",S.title=`Disabled: ${V}`,S.onclick=()=>!1);let j="";switch(_){case g.NONE:break;case g.SELF:j="_self";break;case g.BLANK:j="_blank";break;case g.PARENT:j="_parent";break;case g.TOP:j="_top"}S.target=j,S.rel="string"==typeof N?N:"noopener noreferrer nofollow"}n.LinkTarget=g;const s=class{constructor({eventBus:C,externalLinkTarget:_=null,externalLinkRel:N=null,ignoreDestinationZoom:F=!1}={}){Me(this,R),Me(this,T,new Map),this.eventBus=C,this.externalLinkTarget=_,this.externalLinkRel=N,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=F,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(C,_=null){this.baseUrl=_,this.pdfDocument=C,ye(this,T).clear()}setViewer(C){this.pdfViewer=C}setHistory(C){this.pdfHistory=C}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(C){this.pdfViewer.currentPageNumber=C}get rotation(){return this.pdfViewer.pagesRotation}set rotation(C){this.pdfViewer.pagesRotation=C}goToDestination(C){var _=this;return d(function*(){var V;if(!_.pdfDocument)return;let N,F;"string"==typeof C?(N=C,F=yield _.pdfDocument.getDestination(C)):(N=null,F=yield C),Array.isArray(F)?Be(V=_,R,At).call(V,C,N,F):console.error(`PDFLinkService.goToDestination: "${F}" is not a valid destination array, for dest="${C}".`)})()}goToPage(C){if(!this.pdfDocument)return;const _="string"==typeof C&&this.pdfViewer.pageLabelToPageNumber(C)||0|C;Number.isInteger(_)&&_>0&&_<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(_)),this.pdfViewer.scrollPageIntoView({pageNumber:_})):console.error(`PDFLinkService.goToPage: "${C}" is not a valid page.`)}addLinkAttributes(C,_,N=!1){y(C,{url:_,target:N?g.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(C){if("string"==typeof C){if(C.length>0)return this.getAnchorUrl("#"+escape(C))}else if(Array.isArray(C)){const _=JSON.stringify(C);if(_.length>0)return this.getAnchorUrl("#"+escape(_))}return this.getAnchorUrl("")}getAnchorUrl(C){return(this.baseUrl||"")+C}setHash(C){var F;if(!this.pdfDocument)return;let _,N;if(C.includes("=")){const V=(0,i.parseQueryString)(C);if(V.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:V.get("search").replace(/"/g,""),phraseSearch:"true"===V.get("phrase")}),V.has("page")&&(_=0|V.get("page")||1),V.has("zoom")){const j=V.get("zoom").split(","),O=j[0],B=parseFloat(O);O.includes("Fit")?"Fit"===O||"FitB"===O?N=[null,{name:O}]:"FitH"===O||"FitBH"===O||"FitV"===O||"FitBV"===O?N=[null,{name:O},j.length>1?0|j[1]:null]:"FitR"===O?5!==j.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):N=[null,{name:O},0|j[1],0|j[2],0|j[3],0|j[4]]:console.error(`PDFLinkService.setHash: "${O}" is not a valid zoom value.`):N=[null,{name:"XYZ"},j.length>1?0|j[1]:null,j.length>2?0|j[2]:null,B?B/100:O]}N?this.pdfViewer.scrollPageIntoView({pageNumber:_||this.page,destArray:N,allowNegativeOffset:!0}):_&&(this.page=_),V.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:V.get("pagemode")}),V.has("nameddest")&&this.goToDestination(V.get("nameddest"))}else{N=unescape(C);try{N=JSON.parse(N),Array.isArray(N)||(N=N.toString())}catch(V){}if("string"==typeof N||Be(F=s,P,qt).call(F,N))return void this.goToDestination(N);console.error(`PDFLinkService.setHash: "${unescape(C)}" is not a valid destination.`)}}executeNamedAction(C){var _,N;switch(C){case"GoBack":null==(_=this.pdfHistory)||_.back();break;case"GoForward":null==(N=this.pdfHistory)||N.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:C})}cachePageRef(C,_){if(!_)return;const N=0===_.gen?`${_.num}R`:`${_.num}R${_.gen}`;ye(this,T).set(N,C)}_cachedPageNumber(C){if(!C)return null;const _=0===C.gen?`${C.num}R`:`${C.num}R${C.gen}`;return ye(this,T).get(_)||null}isPageVisible(C){return this.pdfViewer.isPageVisible(C)}isPageCached(C){return this.pdfViewer.isPageCached(C)}};let u=s;T=new WeakMap,R=new WeakSet,At=function(C,_=null,N){const F=N[0];let V;if("object"==typeof F&&null!==F){if(V=this._cachedPageNumber(F),!V)return void this.pdfDocument.getPageIndex(F).then(j=>{this.cachePageRef(j+1,F),Be(this,R,At).call(this,C,_,N)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${F}" is not a valid page reference, for dest="${C}".`)})}else{if(!Number.isInteger(F))return void console.error(`PDFLinkService.#goToDestinationHelper: "${F}" is not a valid destination reference, for dest="${C}".`);V=F+1}!V||V<1||V>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${V}" is not a valid page number, for dest="${C}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:_,explicitDest:N,pageNumber:V})),this.pdfViewer.scrollPageIntoView({pageNumber:V,destArray:N,ignoreDestinationZoom:this._ignoreDestinationZoom}))},P=new WeakSet,qt=function(C){if(!Array.isArray(C))return!1;const _=C.length;if(_<2)return!1;const N=C[0];if(!("object"==typeof N&&Number.isInteger(N.num)&&Number.isInteger(N.gen)||Number.isInteger(N)&&N>=0))return!1;const F=C[1];if("object"!=typeof F||"string"!=typeof F.name)return!1;let V=!0;switch(F.name){case"XYZ":if(5!==_)return!1;break;case"Fit":case"FitB":return 2===_;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==_)return!1;break;case"FitR":if(6!==_)return!1;V=!1;break;default:return!1}for(let j=2;j<_;j++){const O=C[j];if(!("number"==typeof O||V&&null===O))return!1}return!0},Me(u,P),n.PDFLinkService=u;n.SimpleLinkService=class{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(C){}get rotation(){return 0}set rotation(C){}goToDestination(C){return d(function*(){})()}goToPage(C){}addLinkAttributes(C,_,N=!1){y(C,{url:_,enabled:this.externalLinkEnabled})}getDestinationHash(C){return"#"}getAnchorUrl(C){return"#"}setHash(C){}executeNamedAction(C){}cachePageRef(C,_){}isPageVisible(C){return!0}isPageCached(C){return!0}}},(L,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.animationStarted=n.VERTICAL_PADDING=n.UNKNOWN_SCALE=n.TextLayerMode=n.SpreadMode=n.SidebarView=n.ScrollMode=n.SCROLLBAR_PADDING=n.RenderingStates=n.RendererType=n.ProgressBar=n.PresentationModeState=n.OutputScale=n.MIN_SCALE=n.MAX_SCALE=n.MAX_AUTO_SCALE=n.DEFAULT_SCALE_VALUE=n.DEFAULT_SCALE_DELTA=n.DEFAULT_SCALE=n.AutoPrintRegExp=void 0,n.apiPageLayoutToViewerModes=function(x){let q=_.VERTICAL,ce=N.NONE;switch(x){case"SinglePage":q=_.PAGE;break;case"OneColumn":break;case"TwoPageLeft":q=_.PAGE;case"TwoColumnLeft":ce=N.ODD;break;case"TwoPageRight":q=_.PAGE;case"TwoColumnRight":ce=N.EVEN}return{scrollMode:q,spreadMode:ce}},n.apiPageModeToSidebarView=function(x){switch(x){case"UseNone":return s.NONE;case"UseThumbs":return s.THUMBS;case"UseOutlines":return s.OUTLINE;case"UseAttachments":return s.ATTACHMENTS;case"UseOC":return s.LAYERS}return s.NONE},n.approximateFraction=function(x){if(Math.floor(x)===x)return[x,1];const q=1/x;if(q>8)return[1,8];if(Math.floor(q)===q)return[1,q];const ne=x>1?q:x;let we,re=0,de=1,me=1,ge=1;for(;;){const xe=re+me,Ae=de+ge;if(Ae>8)break;ne<=xe/Ae?(me=xe,ge=Ae):(re=xe,de=Ae)}return we=ne-re/de<me/ge-ne?ne===x?[re,de]:[de,re]:ne===x?[me,ge]:[ge,me],we},n.backtrackBeforeAllVisibleElements=b,n.binarySearchFirstItem=m,n.getActiveOrFocusedElement=function(){let x=document,q=x.activeElement||x.querySelector(":focus");for(;null==q?void 0:q.shadowRoot;)x=q.shadowRoot,q=x.activeElement||x.querySelector(":focus");return q},n.getPageSizeInches=function({view:x,userUnit:q,rotate:ce}){const[ne,re,de,me]=x,ge=ce%180!=0,we=(de-ne)/72*q,xe=(me-re)/72*q;return{width:ge?xe:we,height:ge?we:xe}},n.getVisibleElements=function({scrollEl:x,views:q,sortByVisibility:ce=!1,horizontal:ne=!1,rtl:re=!1}){const de=x.scrollTop,me=de+x.clientHeight,ge=x.scrollLeft,we=ge+x.clientWidth;const Te=[],ke=new Set,Se=q.length;let Re=m(q,ne?function(z){const J=z.div,pe=J.offsetLeft+J.clientLeft;return re?pe<we:pe+J.clientWidth>ge}:function(z){const J=z.div;return J.offsetTop+J.clientTop+J.clientHeight>de});Re>0&&Re<Se&&!ne&&(Re=b(Re,q,de));let We=ne?we:-1;for(let z=Re;z<Se;z++){const J=q[z],pe=J.div,be=pe.offsetLeft+pe.clientLeft,ve=pe.offsetTop+pe.clientTop,Ce=pe.clientWidth,Ue=pe.clientHeight,Ve=be+Ce,He=ve+Ue;if(-1===We)He>=me&&(We=He);else if((ne?be:ve)>We)break;if(He<=de||ve>=me||Ve<=ge||be>=we)continue;const Ie=Math.max(0,de-ve)+Math.max(0,He-me),Ke=(Ce-(Math.max(0,ge-be)+Math.max(0,Ve-we)))/Ce;Te.push({id:J.id,x:be,y:ve,view:J,percent:(Ue-Ie)/Ue*Ke*100|0,widthPercent:100*Ke|0}),ke.add(J.id)}const je=Te[0],ae=Te[Te.length-1];return ce&&Te.sort(function(z,J){const pe=z.percent-J.percent;return Math.abs(pe)>.001?-pe:z.id-J.id}),{first:je,last:ae,views:Te,ids:ke}},n.isPortraitOrientation=function(x){return x.width<=x.height},n.isValidRotation=function(x){return Number.isInteger(x)&&x%90==0},n.isValidScrollMode=function(x){return Number.isInteger(x)&&Object.values(_).includes(x)&&x!==_.UNKNOWN},n.isValidSpreadMode=function(x){return Number.isInteger(x)&&Object.values(N).includes(x)&&x!==N.UNKNOWN},n.noContextMenuHandler=function(x){x.preventDefault()},n.normalizeWheelEventDelta=function(x){let q=f(x);return 0===x.deltaMode?q/=900:1===x.deltaMode&&(q/=30),q},n.normalizeWheelEventDirection=f,n.parseQueryString=function(x){const q=new Map;for(const[ce,ne]of new URLSearchParams(x))q.set(ce.toLowerCase(),ne);return q},n.removeNullCharacters=function(x,q=!1){return"string"!=typeof x?(console.error("The argument must be a string."),x):(q&&(x=x.replace(U," ")),x.replace(G,""))},n.roundToDivide=function(x,q){const ce=x%q;return 0===ce?x:Math.round(x-ce+q)},n.scrollIntoView=function(x,q,ce=!1){let ne=x.offsetParent;if(!ne)return void console.error("offsetParent is not set -- cannot scroll");let re=x.offsetTop+x.clientTop,de=x.offsetLeft+x.clientLeft;for(;ne.clientHeight===ne.scrollHeight&&ne.clientWidth===ne.scrollWidth||ce&&(ne.classList.contains("markedContent")||"hidden"===getComputedStyle(ne).overflow);)if(re+=ne.offsetTop,de+=ne.offsetLeft,ne=ne.offsetParent,!ne)return;q&&(void 0!==q.top&&(re+=q.top),void 0!==q.left&&(de+=q.left,ne.scrollLeft=de)),ne.scrollTop=re},n.watchScroll=function(x,q){const ce=function(de){re||(re=window.requestAnimationFrame(function(){re=null;const ge=x.scrollLeft,we=ne.lastX;ge!==we&&(ne.right=ge>we),ne.lastX=ge;const xe=x.scrollTop,Ae=ne.lastY;xe!==Ae&&(ne.down=xe>Ae),ne.lastY=xe,q(ne)}))},ne={right:!0,down:!0,lastX:x.scrollLeft,lastY:x.scrollTop,_eventHandler:ce};let re=null;return x.addEventListener("scroll",ce,!0),ne},n.DEFAULT_SCALE_VALUE="auto",n.DEFAULT_SCALE=1,n.DEFAULT_SCALE_DELTA=1.1,n.MIN_SCALE=.1,n.MAX_SCALE=10,n.UNKNOWN_SCALE=0,n.MAX_AUTO_SCALE=1.25,n.SCROLLBAR_PADDING=40,n.VERTICAL_PADDING=5;n.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},n.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const s={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};n.SidebarView=s,n.RendererType={CANVAS:"canvas",SVG:"svg"},n.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const _={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};n.ScrollMode=_;const N={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};n.SpreadMode=N,n.AutoPrintRegExp=/\bprint\s*\(/;n.OutputScale=class{constructor(){const q=window.devicePixelRatio||1;this.sx=q,this.sy=q}get scaled(){return 1!==this.sx||1!==this.sy}};const G=/\x00/g,U=/[\x01-\x1F]/g;function m(x,q,ce=0){let ne=ce,re=x.length-1;if(re<0||!q(x[re]))return x.length;if(q(x[ne]))return ne;for(;ne<re;){const de=ne+re>>1;q(x[de])?re=de:ne=de+1}return ne}function b(x,q,ce){if(x<2)return x;let ne=q[x].div,re=ne.offsetTop+ne.clientTop;re>=ce&&(ne=q[x-1].div,re=ne.offsetTop+ne.clientTop);for(let de=x-2;de>=0&&(ne=q[de].div,!(ne.offsetTop+ne.clientTop+ne.clientHeight<=re));--de)x=de;return x}function f(x){let q=Math.hypot(x.deltaX,x.deltaY);const ce=Math.atan2(x.deltaY,x.deltaX);return-.25*Math.PI<ce&&ce<.75*Math.PI&&(q=-q),q}const H=new Promise(function(x){window.requestAnimationFrame(x)});n.animationStarted=H;n.ProgressBar=class{constructor(q,{height:ce,width:ne,units:re}={}){this.visible=!0,this.div=document.querySelector(q+" .progress"),this.bar=this.div.parentNode,this.height=ce||100,this.width=ne||100,this.units=re||"%",this.div.style.height=this.height+this.units,this.percent=0}_updateBar(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}get percent(){return this._percent}set percent(q){this._indeterminate=isNaN(q),this._percent=function(x,q,ce){return Math.min(Math.max(x,q),ce)}(q,0,100),this._updateBar()}setWidth(q){if(!q)return;const ne=q.parentNode.offsetWidth-q.offsetWidth;ne>0&&document.documentElement.style.setProperty("--loadingBar-end-offset",`${ne}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(L,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.StructTreeLayerBuilder=void 0;const o={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},i=/^H(\d+)$/;n.StructTreeLayerBuilder=class{constructor({pdfPage:y}){this.pdfPage=y}render(y){return this._walk(y)}_setAttributes(y,u){void 0!==y.alt&&u.setAttribute("aria-label",y.alt),void 0!==y.id&&u.setAttribute("aria-owns",y.id),void 0!==y.lang&&u.setAttribute("lang",y.lang)}_walk(y){if(!y)return null;const u=document.createElement("span");if("role"in y){const{role:r}=y,T=r.match(i);T?(u.setAttribute("role","heading"),u.setAttribute("aria-level",T[1])):o[r]&&u.setAttribute("role",o[r])}if(this._setAttributes(y,u),y.children)if(1===y.children.length&&"id"in y.children[0])this._setAttributes(y.children[0],u);else for(const r of y.children)u.appendChild(this._walk(r));return u}}},(L,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TextLayerBuilder=void 0;var i=o(3);n.TextLayerBuilder=class{constructor({textLayerDiv:u,eventBus:r,pageIndex:T,viewport:R,highlighter:E=null,enhanceTextSelection:P=!1}){this.textLayerDiv=u,this.eventBus=r,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=T+1,this.viewport=R,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=E,this.enhanceTextSelection=P,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const u=document.createElement("div");u.className="endOfContent",this.textLayerDiv.appendChild(u)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(u=0){var T;if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,null==(T=this.highlighter)||T.setTextMapping(this.textDivs,this.textContentItemsStr);const r=document.createDocumentFragment();this.textLayerRenderTask=(0,i.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:r,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:u,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{var R;this.textLayerDiv.appendChild(r),this._finishRendering(),null==(R=this.highlighter)||R.enable()},function(R){})}cancel(){var u;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),null==(u=this.highlighter)||u.disable()}setTextContentStream(u){this.cancel(),this.textContentStream=u}setTextContent(u){this.cancel(),this.textContent=u}_bindMouse(){const u=this.textLayerDiv;let r=null;u.addEventListener("mousedown",T=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(r&&(clearTimeout(r),r=null));const R=u.querySelector(".endOfContent");if(!R)return;let E=T.target!==u;if(E=E&&"none"!==window.getComputedStyle(R).getPropertyValue("-moz-user-select"),E){const P=u.getBoundingClientRect(),t=Math.max(0,(T.pageY-P.top)/P.height);R.style.top=(100*t).toFixed(2)+"%"}R.classList.add("active")}),u.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(r=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),r=null},300));const T=u.querySelector(".endOfContent");!T||(T.style.top="",T.classList.remove("active"))})}}},(L,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.XfaLayerBuilder=void 0;var i=o(3);n.XfaLayerBuilder=class{constructor({pageDiv:y,pdfPage:u,annotationStorage:r=null,linkService:T,xfaHtml:R=null}){this.pageDiv=y,this.pdfPage=u,this.annotationStorage=r,this.linkService=T,this.xfaHtml=R,this.div=null,this._cancelled=!1}render(y,u="display"){if("print"===u){const r={viewport:y.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:u},T=document.createElement("div");this.pageDiv.appendChild(T),r.div=T;const R=i.XfaLayer.render(r);return Promise.resolve(R)}return this.pdfPage.getXfa().then(r=>{if(this._cancelled||!r)return{textDivs:[]};const T={viewport:y.clone({dontFlip:!0}),div:this.div,xfaHtml:r,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:u};return this.div?i.XfaLayer.update(T):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),T.div=this.div,i.XfaLayer.render(T))}).catch(r=>{console.error(r)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(L,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFViewer=n.PDFSinglePageViewer=void 0;var i=o(6),c=o(11);n.PDFViewer=class extends c.BaseViewer{};n.PDFSinglePageViewer=class extends c.BaseViewer{_resetView(){super._resetView(),this._scrollMode=i.ScrollMode.PAGE,this._spreadMode=i.SpreadMode.NONE}set scrollMode(r){}_updateScrollMode(){}set spreadMode(r){}_updateSpreadMode(){}}},(L,n,o)=>{var F,V,j,yt,B,G,U,$,m,l,a,p,Xt,w,$t,f,lt,M,Yt,k,Qt,H,Kt,Q,Jt;Object.defineProperty(n,"__esModule",{value:!0}),n.PagesCountLimit=n.PDFPageViewBuffer=n.BaseViewer=void 0;var i=o(3),c=o(6),g=o(2),y=o(4),u=o(12),r=o(14),T=o(5),R=o(7),E=o(15),P=o(8),t=o(9);const S="enablePermissions",C={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};n.PagesCountLimit=C;class _{constructor(x){Me(this,j),Me(this,F,new Set),Me(this,V,0),De(this,V,x)}push(x){const q=ye(this,F);q.has(x)&&q.delete(x),q.add(x),q.size>ye(this,V)&&Be(this,j,yt).call(this)}resize(x,q=null){De(this,V,x);const ce=ye(this,F);if(q){const ne=ce.size;let re=1;for(const de of ce)if(q.has(de.id)&&(ce.delete(de),ce.add(de)),++re>ne)break}for(;ce.size>ye(this,V);)Be(this,j,yt).call(this)}has(x){return ye(this,F).has(x)}[Symbol.iterator](){return ye(this,F).keys()}}F=new WeakMap,V=new WeakMap,j=new WeakSet,yt=function(){const x=ye(this,F).keys().next().value;null==x||x.destroy(),ye(this,F).delete(x)},n.PDFPageViewBuffer=_;const le=class{constructor(x){var ce,ne,re,de;if(Me(this,p),Me(this,w),Me(this,f),Me(this,M),Me(this,k),Me(this,H),Me(this,Q),Me(this,B,null),Me(this,G,i.AnnotationMode.ENABLE_FORMS),Me(this,U,null),Me(this,$,!1),Me(this,m,0),Me(this,l,null),Me(this,a,null),this.constructor===le)throw new Error("Cannot initialize BaseViewer.");const q="2.13.216";if(i.version!==q)throw new Error(`The API version "${i.version}" does not match the Viewer version "${q}".`);if(this.container=x.container,this.viewer=x.viewer||x.container.firstElementChild,"DIV"!==(null==(ce=this.container)?void 0:ce.tagName.toUpperCase())||"DIV"!==(null==(ne=this.viewer)?void 0:ne.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=x.eventBus,this.linkService=x.linkService||new T.SimpleLinkService,this.downloadManager=x.downloadManager||null,this.findController=x.findController||null,this._scriptingManager=x.scriptingManager||null,this.removePageBorders=x.removePageBorders||!1,this.textLayerMode=null!=(re=x.textLayerMode)?re:c.TextLayerMode.ENABLE,De(this,G,null!=(de=x.annotationMode)?de:i.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=x.imageResourcesPath||"",this.enablePrintAutoRotate=x.enablePrintAutoRotate||!1,this.renderer=x.renderer||c.RendererType.CANVAS,this.useOnlyCssZoom=x.useOnlyCssZoom||!1,this.maxCanvasPixels=x.maxCanvasPixels,this.l10n=x.l10n||y.NullL10n,De(this,$,x.enablePermissions||!1),this.defaultRenderingQueue=!x.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new r.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=x.renderingQueue,this._doc=document.documentElement,this.scroll=(0,c.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=c.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(x){return this._pages[x]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(x){return null==x?void 0:x.pdfPage})}get renderForms(){return ye(this,G)===i.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(x){if(!Number.isInteger(x))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(x,!0)||console.error(`currentPageNumber: "${x}" is not a valid page.`)}_setCurrentPageNumber(x,q=!1){var ne,re;if(this._currentPageNumber===x)return q&&this._resetCurrentPageView(),!0;if(!(0<x&&x<=this.pagesCount))return!1;const ce=this._currentPageNumber;return this._currentPageNumber=x,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:x,pageLabel:null!=(re=null==(ne=this._pageLabels)?void 0:ne[x-1])?re:null,previous:ce}),q&&this._resetCurrentPageView(),!0}get currentPageLabel(){var x,q;return null!=(q=null==(x=this._pageLabels)?void 0:x[this._currentPageNumber-1])?q:null}set currentPageLabel(x){if(!this.pdfDocument)return;let q=0|x;if(this._pageLabels){const ce=this._pageLabels.indexOf(x);ce>=0&&(q=ce+1)}this._setCurrentPageNumber(q,!0)||console.error(`currentPageLabel: "${x}" is not a valid page.`)}get currentScale(){return this._currentScale!==c.UNKNOWN_SCALE?this._currentScale:c.DEFAULT_SCALE}set currentScale(x){if(isNaN(x))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(x,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(x){!this.pdfDocument||this._setScale(x,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(x){if(!(0,c.isValidRotation)(x))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((x%=360)<0&&(x+=360),this._pagesRotation===x))return;this._pagesRotation=x;const q=this._currentPageNumber,ce={rotation:x};for(const ne of this._pages)ne.update(ce);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:x,pageNumber:q}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(x){var q=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=x,!x)return;const ce=x.isPureXfa,ne=x.numPages,re=x.getPage(1),de=x.getOptionalContentConfig(),me=ye(this,$)?x.getPermissions():Promise.resolve();if(ne>C.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const ge=this._scrollMode=c.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:ge})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:ne})},()=>{}),this._onBeforeDraw=ge=>{const we=this._pages[ge.pageNumber-1];!we||ye(this,B).push(we)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=ge=>{ge.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:ge.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,ye(this,a)&&(document.removeEventListener("visibilitychange",ye(this,a)),De(this,a,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([re,me]).then(([ge,we])=>{if(x!==this.pdfDocument)return;this._firstPageCapability.resolve(ge),this._optionalContentConfigPromise=de,Be(this,p,Xt).call(this,we);const xe=this._scrollMode===c.ScrollMode.PAGE?null:this.viewer,Ae=this.currentScale,Te=ge.getViewport({scale:Ae*i.PixelsPerInch.PDF_TO_CSS_UNITS}),ke=this.textLayerMode===c.TextLayerMode.DISABLE||ce?null:this,Se=ye(this,G)!==i.AnnotationMode.DISABLE?this:null,Re=ce?this:null;for(let je=1;je<=ne;++je){const ae=new u.PDFPageView({container:xe,eventBus:this.eventBus,id:je,scale:Ae,defaultViewport:Te.clone(),optionalContentConfigPromise:de,renderingQueue:this.renderingQueue,textLayerFactory:ke,textLayerMode:this.textLayerMode,annotationLayerFactory:Se,annotationMode:ye(this,G),xfaLayerFactory:Re,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,l10n:this.l10n});this._pages.push(ae)}const We=this._pages[0];We&&(We.setPdfPage(ge),this.linkService.cachePageRef(1,ge.ref)),this._scrollMode===c.ScrollMode.PAGE?Be(this,f,lt).call(this):this._spreadMode!==c.SpreadMode.NONE&&this._updateSpreadMode(),Be(this,w,$t).call(this).then(d(function*(){if(q.findController&&q.findController.setDocument(x),q._scriptingManager&&q._scriptingManager.setDocument(x),x.loadingParams.disableAutoFetch||ne>C.FORCE_LAZY_PAGE_INIT)return void q._pagesCapability.resolve();let je=ne-1;if(je<=0)q._pagesCapability.resolve();else for(let ae=2;ae<=ne;++ae){const z=x.getPage(ae).then(J=>{const pe=q._pages[ae-1];pe.pdfPage||pe.setPdfPage(J),q.linkService.cachePageRef(ae,J.ref),0==--je&&q._pagesCapability.resolve()},J=>{console.error(`Unable to get page ${ae} to initialize viewer`,J),0==--je&&q._pagesCapability.resolve()});ae%C.PAUSE_EAGER_PAGE_INIT==0&&(yield z)}})),this.eventBus.dispatch("pagesinit",{source:this}),x.getMetadata().then(({info:je})=>{x===this.pdfDocument&&je.Language&&(this.viewer.lang=je.Language)}),this.defaultRenderingQueue&&this.update()}).catch(ge=>{console.error("Unable to initialize viewer",ge),this._pagesCapability.reject(ge)})}setPageLabels(x){var q,ce;if(this.pdfDocument){x?Array.isArray(x)&&this.pdfDocument.numPages===x.length?this._pageLabels=x:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let ne=0,re=this._pages.length;ne<re;ne++)this._pages[ne].setPageLabel(null!=(ce=null==(q=this._pageLabels)?void 0:q[ne])?ce:null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=c.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,De(this,B,new _(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,i.createPromiseCapability)(),this._onePageRenderedCapability=(0,i.createPromiseCapability)(),this._pagesCapability=(0,i.createPromiseCapability)(),this._scrollMode=c.ScrollMode.VERTICAL,this._previousScrollMode=c.ScrollMode.UNKNOWN,this._spreadMode=c.SpreadMode.NONE,De(this,l,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),ye(this,a)&&(document.removeEventListener("visibilitychange",ye(this,a)),De(this,a,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(S),null!==ye(this,U)&&(De(this,G,ye(this,U)),De(this,U,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_scrollIntoView({pageDiv:x,pageSpot:q=null,pageNumber:ce=null}){if(this._scrollMode===c.ScrollMode.PAGE&&(ce&&this._setCurrentPageNumber(ce),Be(this,f,lt).call(this),this.update()),!q&&!this.isInPresentationMode){const ne=x.offsetLeft+x.clientLeft,re=ne+x.clientWidth,{scrollLeft:de,clientWidth:me}=this.container;(this._scrollMode===c.ScrollMode.HORIZONTAL||ne<de||re>de+me)&&(q={left:0,top:0})}(0,c.scrollIntoView)(x,q)}_setScaleUpdatePages(x,q,ce=!1,ne=!1){if(this._currentScaleValue=q.toString(),Be(this,M,Yt).call(this,x))return void(ne&&this.eventBus.dispatch("scalechanging",{source:this,scale:x,presetValue:q}));this._doc.style.setProperty("--zoom-factor",x),this._doc.style.setProperty("--viewport-scale-factor",x*i.PixelsPerInch.PDF_TO_CSS_UNITS);const re={scale:x};for(const de of this._pages)de.update(re);if(this._currentScale=x,!ce){let me,de=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(de=this._location.pageNumber,me=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:de,destArray:me,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:x,presetValue:ne?q:void 0}),this.defaultRenderingQueue&&this.update(),De(this,m,this.container.clientHeight)}get _pageWidthScaleFactor(){return this._spreadMode!==c.SpreadMode.NONE&&this._scrollMode!==c.ScrollMode.HORIZONTAL?2:1}_setScale(x,q=!1){let ce=parseFloat(x);if(ce>0)this._setScaleUpdatePages(ce,x,q,!1);else{const ne=this._pages[this._currentPageNumber-1];if(!ne)return;let re=c.SCROLLBAR_PADDING,de=c.VERTICAL_PADDING;this.isInPresentationMode?re=de=4:this.removePageBorders&&(re=de=0),this._scrollMode===c.ScrollMode.HORIZONTAL&&([re,de]=[de,re]);const me=(this.container.clientWidth-re)/ne.width*ne.scale/this._pageWidthScaleFactor,ge=(this.container.clientHeight-de)/ne.height*ne.scale;switch(x){case"page-actual":ce=1;break;case"page-width":ce=me;break;case"page-height":ce=ge;break;case"page-fit":ce=Math.min(me,ge);break;case"auto":const we=(0,c.isPortraitOrientation)(ne)?me:Math.min(ge,me);ce=Math.min(c.MAX_AUTO_SCALE,we);break;default:return void console.error(`_setScale: "${x}" is an unknown zoom value.`)}this._setScaleUpdatePages(ce,x,q,!0)}}_resetCurrentPageView(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}pageLabelToPageNumber(x){if(!this._pageLabels)return null;const q=this._pageLabels.indexOf(x);return q<0?null:q+1}scrollPageIntoView({pageNumber:x,destArray:q=null,allowNegativeOffset:ce=!1,ignoreDestinationZoom:ne=!1}){if(!this.pdfDocument)return;const re=Number.isInteger(x)&&this._pages[x-1];if(!re)return void console.error(`scrollPageIntoView: "${x}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!q)return void this._setCurrentPageNumber(x,!0);let xe,Ae,de=0,me=0,ge=0,we=0;const Te=re.rotation%180!=0,ke=(Te?re.height:re.width)/re.scale/i.PixelsPerInch.PDF_TO_CSS_UNITS,Se=(Te?re.width:re.height)/re.scale/i.PixelsPerInch.PDF_TO_CSS_UNITS;let Re=0;switch(q[1].name){case"XYZ":de=q[2],me=q[3],Re=q[4],de=null!==de?de:0,me=null!==me?me:Se;break;case"Fit":case"FitB":Re="page-fit";break;case"FitH":case"FitBH":me=q[2],Re="page-width",null===me&&this._location?(de=this._location.left,me=this._location.top):("number"!=typeof me||me<0)&&(me=Se);break;case"FitV":case"FitBV":de=q[2],ge=ke,we=Se,Re="page-height";break;case"FitR":de=q[2],me=q[3],ge=q[4]-de,we=q[5]-me,xe=(this.container.clientWidth-(this.removePageBorders?0:c.SCROLLBAR_PADDING))/ge/i.PixelsPerInch.PDF_TO_CSS_UNITS,Ae=(this.container.clientHeight-(this.removePageBorders?0:c.VERTICAL_PADDING))/we/i.PixelsPerInch.PDF_TO_CSS_UNITS,Re=Math.min(Math.abs(xe),Math.abs(Ae));break;default:return void console.error(`scrollPageIntoView: "${q[1].name}" is not a valid destination type.`)}if(ne||(Re&&Re!==this._currentScale?this.currentScaleValue=Re:this._currentScale===c.UNKNOWN_SCALE&&(this.currentScaleValue=c.DEFAULT_SCALE_VALUE)),"page-fit"===Re&&!q[4])return void this._scrollIntoView({pageDiv:re.div,pageNumber:x});const We=[re.viewport.convertToViewportPoint(de,me),re.viewport.convertToViewportPoint(de+ge,me+we)];let je=Math.min(We[0][0],We[1][0]),ae=Math.min(We[0][1],We[1][1]);ce||(je=Math.max(je,0),ae=Math.max(ae,0)),this._scrollIntoView({pageDiv:re.div,pageSpot:{left:je,top:ae},pageNumber:x})}_updateLocation(x){const q=this._currentScale,ce=this._currentScaleValue,ne=parseFloat(ce)===q?Math.round(1e4*q)/100:ce,re=x.id;let de="#page="+re;de+="&zoom="+ne;const ge=this.container,we=this._pages[re-1].getPagePoint(ge.scrollLeft-x.x,ge.scrollTop-x.y),xe=Math.round(we[0]),Ae=Math.round(we[1]);de+=","+xe+","+Ae,this._location={pageNumber:re,scale:ne,top:Ae,left:xe,rotation:this._pagesRotation,pdfOpenParams:de}}update(){const x=this._getVisiblePages(),q=x.views,ce=q.length;if(0===ce)return;const ne=Math.max(10,2*ce+1);if(ye(this,B).resize(ne,x.ids),this.renderingQueue.renderHighestPriority(x),!this.isInPresentationMode){const re=this._spreadMode===c.SpreadMode.NONE&&(this._scrollMode===c.ScrollMode.PAGE||this._scrollMode===c.ScrollMode.VERTICAL);let de=this._currentPageNumber,me=!1;for(const ge of q){if(ge.percent<100)break;if(ge.id===de&&re){me=!0;break}}me||(de=q[0].id),this._setCurrentPageNumber(de)}this._updateLocation(x.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(x){return this.container.contains(x)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===c.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===c.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getCurrentVisiblePage(){if(!this.pagesCount)return{views:[]};const x=this._pages[this._currentPageNumber-1],q=x.div,ce={id:x.id,x:q.offsetLeft+q.clientLeft,y:q.offsetTop+q.clientTop,view:x};return{first:ce,last:ce,views:[ce],ids:new Set([x.id])}}_getVisiblePages(){if(this.isInPresentationMode)return this._getCurrentVisiblePage();const x=this._scrollMode===c.ScrollMode.PAGE?ye(this,l).pages:this._pages,q=this._scrollMode===c.ScrollMode.HORIZONTAL;return(0,c.getVisibleElements)({scrollEl:this.container,views:x,sortByVisibility:!0,horizontal:q,rtl:q&&this._isContainerRtl})}isPageVisible(x){return!!this.pdfDocument&&(Number.isInteger(x)&&x>0&&x<=this.pagesCount?this._getVisiblePages().ids.has(x):(console.error(`isPageVisible: "${x}" is not a valid page.`),!1))}isPageCached(x){if(!this.pdfDocument)return!1;if(!(Number.isInteger(x)&&x>0&&x<=this.pagesCount))return console.error(`isPageCached: "${x}" is not a valid page.`),!1;const q=this._pages[x-1];return ye(this,B).has(q)}cleanup(){for(let x=0,q=this._pages.length;x<q;x++)this._pages[x]&&this._pages[x].renderingState!==c.RenderingStates.FINISHED&&this._pages[x].reset()}_cancelRendering(){for(let x=0,q=this._pages.length;x<q;x++)this._pages[x]&&this._pages[x].cancelRendering()}forceRendering(x){const q=x||this._getVisiblePages(),ce=Be(this,H,Kt).call(this,q),re=this.renderingQueue.getHighestPriority(q,this._pages,ce,this._spreadMode!==c.SpreadMode.NONE&&this._scrollMode!==c.ScrollMode.HORIZONTAL);return Be(this,Q,Jt).call(this,q.ids),!!re&&(Be(this,k,Qt).call(this,re).then(()=>{this.renderingQueue.renderView(re)}),!0)}createTextLayerBuilder(x,q,ce,ne=!1,re,de){return new P.TextLayerBuilder({textLayerDiv:x,eventBus:re,pageIndex:q,viewport:ce,enhanceTextSelection:!this.isInPresentationMode&&ne,highlighter:de})}createTextHighlighter(x,q){return new E.TextHighlighter({eventBus:q,pageIndex:x,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(x,q,ce=null,ne="",re=!0,de=y.NullL10n,me=null,ge=null,we=null,xe=null,Ae=null){var Te,ke,Se,Re;return new g.AnnotationLayerBuilder({pageDiv:x,pdfPage:q,annotationStorage:ce||(null==(Te=this.pdfDocument)?void 0:Te.annotationStorage),imageResourcesPath:ne,renderForms:re,linkService:this.linkService,downloadManager:this.downloadManager,l10n:de,enableScripting:null!=me?me:this.enableScripting,hasJSActionsPromise:ge||(null==(ke=this.pdfDocument)?void 0:ke.hasJSActions()),fieldObjectsPromise:xe||(null==(Se=this.pdfDocument)?void 0:Se.getFieldObjects()),mouseState:we||(null==(Re=this._scriptingManager)?void 0:Re.mouseState),annotationCanvasMap:Ae})}createXfaLayerBuilder(x,q,ce=null){var ne;return new t.XfaLayerBuilder({pageDiv:x,pdfPage:q,annotationStorage:ce||(null==(ne=this.pdfDocument)?void 0:ne.annotationStorage),linkService:this.linkService})}createStructTreeLayerBuilder(x){return new R.StructTreeLayerBuilder({pdfPage:x})}get hasEqualPageSizes(){const x=this._pages[0];for(let q=1,ce=this._pages.length;q<ce;++q){const ne=this._pages[q];if(ne.width!==x.width||ne.height!==x.height)return!1}return!0}getPagesOverview(){return this._pages.map(x=>{const q=x.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,c.isPortraitOrientation)(q)?{width:q.width,height:q.height,rotation:q.rotation}:{width:q.height,height:q.width,rotation:(q.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(x){if(!(x instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${x}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=x;const q={optionalContentConfigPromise:x};for(const ce of this._pages)ce.update(q);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:x})}get scrollMode(){return this._scrollMode}set scrollMode(x){if(this._scrollMode!==x){if(!(0,c.isValidScrollMode)(x))throw new Error(`Invalid scroll mode: ${x}`);this.pagesCount>C.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=x,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:x}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(x=null){const q=this._scrollMode,ce=this.viewer;ce.classList.toggle("scrollHorizontal",q===c.ScrollMode.HORIZONTAL),ce.classList.toggle("scrollWrapped",q===c.ScrollMode.WRAPPED),this.pdfDocument&&x&&(q===c.ScrollMode.PAGE?Be(this,f,lt).call(this):this._previousScrollMode===c.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(x,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(x){if(this._spreadMode!==x){if(!(0,c.isValidSpreadMode)(x))throw new Error(`Invalid spread mode: ${x}`);this._spreadMode=x,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:x}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(x=null){if(!this.pdfDocument)return;const q=this.viewer,ce=this._pages;if(this._scrollMode===c.ScrollMode.PAGE)Be(this,f,lt).call(this);else if(q.textContent="",this._spreadMode===c.SpreadMode.NONE)for(let ne=0,re=ce.length;ne<re;++ne)q.appendChild(ce[ne].div);else{const ne=this._spreadMode-1;let re=null;for(let de=0,me=ce.length;de<me;++de)null===re?(re=document.createElement("div"),re.className="spread",q.appendChild(re)):de%2===ne&&(re=re.cloneNode(!1),q.appendChild(re)),re.appendChild(ce[de].div)}!x||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(x,!0),this.update())}_getPageAdvance(x,q=!1){switch(this._scrollMode){case c.ScrollMode.WRAPPED:{const{views:ce}=this._getVisiblePages(),ne=new Map;for(const{id:re,y:de,percent:me,widthPercent:ge}of ce){if(0===me||ge<100)continue;let we=ne.get(de);we||ne.set(de,we||(we=[])),we.push(re)}for(const re of ne.values()){const de=re.indexOf(x);if(-1===de)continue;const me=re.length;if(1===me)break;if(q)for(let ge=de-1,we=0;ge>=we;ge--){const Ae=re[ge+1]-1;if(re[ge]<Ae)return x-Ae}else for(let ge=de+1,we=me;ge<we;ge++){const Ae=re[ge-1]+1;if(re[ge]>Ae)return Ae-x}if(q){const ge=re[0];if(ge<x)return x-ge+1}else{const ge=re[me-1];if(ge>x)return ge-x+1}break}break}case c.ScrollMode.HORIZONTAL:break;case c.ScrollMode.PAGE:case c.ScrollMode.VERTICAL:{if(this._spreadMode===c.SpreadMode.NONE)break;const ce=this._spreadMode-1;if(q&&x%2!==ce)break;if(!q&&x%2===ce)break;const{views:ne}=this._getVisiblePages(),re=q?x-1:x+1;for(const{id:de,percent:me,widthPercent:ge}of ne)if(de===re){if(me>0&&100===ge)return 2;break}break}}return 1}nextPage(){const x=this._currentPageNumber,q=this.pagesCount;if(x>=q)return!1;const ce=this._getPageAdvance(x,!1)||1;return this.currentPageNumber=Math.min(x+ce,q),!0}previousPage(){const x=this._currentPageNumber;if(x<=1)return!1;const q=this._getPageAdvance(x,!0)||1;return this.currentPageNumber=Math.max(x-q,1),!0}increaseScale(x=1){let q=this._currentScale;do{q=(q*c.DEFAULT_SCALE_DELTA).toFixed(2),q=Math.ceil(10*q)/10,q=Math.min(c.MAX_SCALE,q)}while(--x>0&&q<c.MAX_SCALE);this.currentScaleValue=q}decreaseScale(x=1){let q=this._currentScale;do{q=(q/c.DEFAULT_SCALE_DELTA).toFixed(2),q=Math.floor(10*q)/10,q=Math.max(c.MIN_SCALE,q)}while(--x>0&&q>c.MIN_SCALE);this.currentScaleValue=q}};let N=le;B=new WeakMap,G=new WeakMap,U=new WeakMap,$=new WeakMap,m=new WeakMap,l=new WeakMap,a=new WeakMap,p=new WeakSet,Xt=function(x){!x||(x.includes(i.PermissionFlag.COPY)||this.viewer.classList.add(S),!x.includes(i.PermissionFlag.MODIFY_ANNOTATIONS)&&!x.includes(i.PermissionFlag.FILL_INTERACTIVE_FORMS)&&ye(this,G)===i.AnnotationMode.ENABLE_FORMS&&(De(this,U,ye(this,G)),De(this,G,i.AnnotationMode.ENABLE)))},w=new WeakSet,$t=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const x=new Promise(q=>{De(this,a,()=>{"hidden"===document.visibilityState&&(q(),document.removeEventListener("visibilitychange",ye(this,a)),De(this,a,null))}),document.addEventListener("visibilitychange",ye(this,a))});return Promise.race([this._onePageRenderedCapability.promise,x])},f=new WeakSet,lt=function(){if(this._scrollMode!==c.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const x=this._currentPageNumber,q=ye(this,l),ce=this.viewer;if(ce.textContent="",q.pages.length=0,this._spreadMode===c.SpreadMode.NONE){const ne=this._pages[x-1];if(this.isInPresentationMode){const re=document.createElement("div");re.className="spread";const de=document.createElement("div");de.className="dummyPage",de.style.height=`${this.container.clientHeight}px`,re.appendChild(de),re.appendChild(ne.div),ce.appendChild(re)}else ce.appendChild(ne.div);q.pages.push(ne)}else{const ne=new Set,re=this._spreadMode-1;x%2!==re?(ne.add(x-1),ne.add(x)):(ne.add(x-2),ne.add(x-1));let de=null;for(const me of ne){const ge=this._pages[me];!ge||(null===de?(de=document.createElement("div"),de.className="spread",ce.appendChild(de)):me%2===re&&(de=de.cloneNode(!1),ce.appendChild(de)),de.appendChild(ge.div),q.pages.push(ge))}}q.scrollDown=x>=q.previousPageNumber,q.previousPageNumber=x},M=new WeakSet,Yt=function(x){return(!this.isInPresentationMode||this.container.clientHeight===ye(this,m))&&(x===this._currentScale||Math.abs(x-this._currentScale)<1e-15)},k=new WeakSet,Qt=function(x){var q=this;return d(function*(){var ce,ne;if(x.pdfPage)return x.pdfPage;try{const re=yield q.pdfDocument.getPage(x.id);return x.pdfPage||x.setPdfPage(re),(null==(ne=(ce=q.linkService)._cachedPageNumber)?void 0:ne.call(ce,re.ref))||q.linkService.cachePageRef(x.id,re.ref),re}catch(re){return console.error("Unable to get page for page view",re),null}})()},H=new WeakSet,Kt=function(x){var q,ce;if(1===(null==(q=x.first)?void 0:q.id))return!0;if((null==(ce=x.last)?void 0:ce.id)===this.pagesCount)return!1;switch(this._scrollMode){case c.ScrollMode.PAGE:return ye(this,l).scrollDown;case c.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},Q=new WeakSet,Jt=function(x){for(const q of x){const ce=this._pages[q-1];null==ce||ce.toggleLoadingIconSpinner(!0)}for(const q of ye(this,B))x.has(q.id)||q.toggleLoadingIconSpinner(!1)},n.BaseViewer=N},(L,n,o)=>{var T;Object.defineProperty(n,"__esModule",{value:!0}),n.PDFPageView=void 0;var i=o(3),c=o(6),g=o(13),y=o(4);const u=g.compatibilityParams.maxCanvasPixels||16777216;T=new WeakMap,n.PDFPageView=class{constructor(E){var S,C,_,N;Me(this,T,i.AnnotationMode.ENABLE_FORMS);const P=E.container,t=E.defaultViewport;this.id=E.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=E.scale||c.DEFAULT_SCALE,this.viewport=t,this.pdfPageRotate=t.rotation,this._optionalContentConfigPromise=E.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=null!=(S=E.textLayerMode)?S:c.TextLayerMode.ENABLE,De(this,T,null!=(C=E.annotationMode)?C:i.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=E.imageResourcesPath||"",this.useOnlyCssZoom=E.useOnlyCssZoom||!1,this.maxCanvasPixels=E.maxCanvasPixels||u,this.eventBus=E.eventBus,this.renderingQueue=E.renderingQueue,this.textLayerFactory=E.textLayerFactory,this.annotationLayerFactory=E.annotationLayerFactory,this.xfaLayerFactory=E.xfaLayerFactory,this.textHighlighter=null==(_=E.textHighlighterFactory)?void 0:_.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=E.structTreeLayerFactory,this.renderer=E.renderer||c.RendererType.CANVAS,this.l10n=E.l10n||y.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=c.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!(null==(N=this.renderingQueue)?void 0:N.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const s=document.createElement("div");s.className="page",s.style.width=Math.floor(this.viewport.width)+"px",s.style.height=Math.floor(this.viewport.height)+"px",s.setAttribute("data-page-number",this.id),s.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(F=>{s.setAttribute("aria-label",F)}),this.div=s,null==P||P.appendChild(s)}setPdfPage(E){this.pdfPage=E,this.pdfPageRotate=E.rotate,this.viewport=E.getViewport({scale:this.scale*i.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var E=this;return d(function*(){let P=null;try{yield E.annotationLayer.render(E.viewport,"display")}catch(t){P=t}finally{E.eventBus.dispatch("annotationlayerrendered",{source:E,pageNumber:E.id,error:P})}})()}_renderXfaLayer(){var E=this;return d(function*(){let P=null;try{const t=yield E.xfaLayer.render(E.viewport,"display");E.textHighlighter&&E._buildXfaTextContentItems(t.textDivs)}catch(t){P=t}finally{E.eventBus.dispatch("xfalayerrendered",{source:E,pageNumber:E.id,error:P})}})()}_buildXfaTextContentItems(E){var P=this;return d(function*(){const t=yield P.pdfPage.getTextContent(),s=[];for(const S of t.items)s.push(S.str);P.textHighlighter.setTextMapping(E,s),P.textHighlighter.enable()})()}_resetZoomLayer(E=!1){if(!this.zoomLayer)return;const P=this.zoomLayer.firstChild;this.paintedViewportMap.delete(P),P.width=0,P.height=0,E&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:E=!1,keepAnnotationLayer:P=!1,keepXfaLayer:t=!1}={}){var F,V;this.cancelRendering({keepAnnotationLayer:P,keepXfaLayer:t}),this.renderingState=c.RenderingStates.INITIAL;const s=this.div;s.style.width=Math.floor(this.viewport.width)+"px",s.style.height=Math.floor(this.viewport.height)+"px";const S=s.childNodes,C=E&&this.zoomLayer||null,_=P&&(null==(F=this.annotationLayer)?void 0:F.div)||null,N=t&&(null==(V=this.xfaLayer)?void 0:V.div)||null;for(let j=S.length-1;j>=0;j--){const O=S[j];switch(O){case C:case _:case N:continue}O.remove()}s.removeAttribute("data-loaded"),_&&this.annotationLayer.hide(),N&&this.xfaLayer.hide(),C||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(j=>{var O;null==(O=this.loadingIconDiv)||O.setAttribute("aria-label",j)}),s.appendChild(this.loadingIconDiv)}update({scale:E=0,rotation:P=null,optionalContentConfigPromise:t=null}){if("object"!=typeof arguments[0])return console.error("PDFPageView.update called with separate parameters, please use an object instead."),void this.update({scale:arguments[0],rotation:arguments[1],optionalContentConfigPromise:arguments[2]});this.scale=E||this.scale,"number"==typeof P&&(this.rotation=P),t instanceof Promise&&(this._optionalContentConfigPromise=t);const S=this.scale*i.PixelsPerInch.PDF_TO_CSS_UNITS;if(this.viewport=this.viewport.clone({scale:S,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:_}=document.documentElement;_.setProperty("--zoom-factor",this.scale),_.setProperty("--viewport-scale-factor",S)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let C=!1;if(this.canvas&&this.maxCanvasPixels>0){const _=this.outputScale;(Math.floor(this.viewport.width)*_.sx|0)*(Math.floor(this.viewport.height)*_.sy|0)>this.maxCanvasPixels&&(C=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&C)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:E=!1,keepXfaLayer:P=!1}={}){var t;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!E||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!P||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,null==(t=this.textHighlighter)||t.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:E,redrawAnnotationLayer:P=!1,redrawXfaLayer:t=!1}){const s=this.viewport.width,S=this.viewport.height,C=this.div;E.style.width=E.parentNode.style.width=C.style.width=Math.floor(s)+"px",E.style.height=E.parentNode.style.height=C.style.height=Math.floor(S)+"px";const _=this.viewport.rotation-this.paintedViewportMap.get(E).rotation,N=Math.abs(_);let F=1,V=1;if((90===N||270===N)&&(F=S/s,V=s/S),E.style.transform=`rotate(${_}deg) scale(${F}, ${V})`,this.textLayer){const j=this.textLayer.viewport,B=Math.abs(this.viewport.rotation-j.rotation);let G=s/j.width;(90===B||270===B)&&(G=s/j.height);const U=this.textLayer.textLayerDiv;let $,m;switch(B){case 0:$=m=0;break;case 90:$=0,m="-"+U.style.height;break;case 180:$="-"+U.style.width,m="-"+U.style.height;break;case 270:$="-"+U.style.width,m=0;break;default:console.error("Bad rotation value.")}U.style.transform=`rotate(${B}deg) scale(${G}) translate(${$}, ${m})`,U.style.transformOrigin="0% 0%"}P&&this.annotationLayer&&this._renderAnnotationLayer(),t&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(E,P){return this.viewport.convertToPdfPoint(E,P)}toggleLoadingIconSpinner(E=!1){var P;null==(P=this.loadingIconDiv)||P.classList.toggle("notVisible",!E)}draw(){var V,j,O,E=this;this.renderingState!==c.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:P,pdfPage:t}=this;if(!t)return this.renderingState=c.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=c.RenderingStates.RUNNING;const s=document.createElement("div");s.style.width=P.style.width,s.style.height=P.style.height,s.classList.add("canvasWrapper"),(null==(V=this.annotationLayer)?void 0:V.div)?P.insertBefore(s,this.annotationLayer.div):P.appendChild(s);let S=null;if(this.textLayerMode!==c.TextLayerMode.DISABLE&&this.textLayerFactory){const B=document.createElement("div");B.className="textLayer",B.style.width=s.style.width,B.style.height=s.style.height,(null==(j=this.annotationLayer)?void 0:j.div)?P.insertBefore(B,this.annotationLayer.div):P.appendChild(B),S=this.textLayerFactory.createTextLayerBuilder(B,this.id-1,this.viewport,this.textLayerMode===c.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=S,ye(this,T)!==i.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(P,t,null,this.imageResourcesPath,ye(this,T)===i.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),(null==(O=this.xfaLayer)?void 0:O.div)&&P.appendChild(this.xfaLayer.div);let C=null;this.renderingQueue&&(C=B=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=c.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=c.RenderingStates.RUNNING,B()});B()});const _=function(){var B=d(function*(G=null){if(N===E.paintTask&&(E.paintTask=null),G instanceof i.RenderingCancelledException)E._renderError=null;else if(E._renderError=G,E.renderingState=c.RenderingStates.FINISHED,E.loadingIconDiv&&(E.loadingIconDiv.remove(),delete E.loadingIconDiv),E._resetZoomLayer(!0),E.eventBus.dispatch("pagerendered",{source:E,pageNumber:E.id,cssTransform:!1,timestamp:performance.now(),error:E._renderError}),G)throw G});return function(){return B.apply(this,arguments)}}(),N=this.renderer===c.RendererType.SVG?this.paintOnSvg(s):this.paintOnCanvas(s);N.onRenderContinue=C,this.paintTask=N;const F=N.promise.then(()=>_(null).then(()=>{if(S){const B=t.streamTextContent({includeMarkedContent:!0});S.setTextContentStream(B),S.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(B){return _(B)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(P,t,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=B=>{B.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(G=>{if(!G||!this.canvas)return;const U=this.structTreeLayer.render(G);U.classList.add("structTree"),this.canvas.appendChild(U)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(t)),P.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),F}paintOnCanvas(E){const P=(0,i.createPromiseCapability)(),t={promise:P.promise,onRenderContinue(U){U()},cancel(){G.cancel()}},s=this.viewport,S=document.createElement("canvas");S.hidden=!0;let C=!0;const _=function(){C&&(S.hidden=!1,C=!1)};E.appendChild(S),this.canvas=S,S.mozOpaque=!0;const N=S.getContext("2d",{alpha:!1}),F=this.outputScale=new c.OutputScale;if(this.useOnlyCssZoom){const U=s.clone({scale:i.PixelsPerInch.PDF_TO_CSS_UNITS});F.sx*=U.width/s.width,F.sy*=U.height/s.height}if(this.maxCanvasPixels>0){const $=Math.sqrt(this.maxCanvasPixels/(s.width*s.height));F.sx>$||F.sy>$?(F.sx=$,F.sy=$,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const V=(0,c.approximateFraction)(F.sx),j=(0,c.approximateFraction)(F.sy);S.width=(0,c.roundToDivide)(s.width*F.sx,V[0]),S.height=(0,c.roundToDivide)(s.height*F.sy,j[0]),S.style.width=(0,c.roundToDivide)(s.width,V[1])+"px",S.style.height=(0,c.roundToDivide)(s.height,j[1])+"px",this.paintedViewportMap.set(S,s);const B={canvasContext:N,transform:F.scaled?[F.sx,0,0,F.sy,0,0]:null,viewport:this.viewport,annotationMode:ye(this,T),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap},G=this.pdfPage.render(B);return G.onContinue=function(U){_(),t.onRenderContinue?t.onRenderContinue(U):U()},G.promise.then(function(){_(),P.resolve()},function(U){_(),P.reject(U)}),t}paintOnSvg(E){let P=!1;const t=()=>{if(P)throw new i.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},s=this.pdfPage,S=this.viewport.clone({scale:i.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:s.getOperatorList({annotationMode:ye(this,T)}).then(_=>(t(),new i.SVGGraphics(s.commonObjs,s.objs).getSVG(_,S).then(F=>{t(),this.svg=F,this.paintedViewportMap.set(F,S),F.style.width=E.style.width,F.style.height=E.style.height,this.renderingState=c.RenderingStates.FINISHED,E.appendChild(F)}))),onRenderContinue(_){_()},cancel(){P=!0}}}setPageLabel(E){this.pageLabel="string"==typeof E?E:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(L,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.compatibilityParams=n.OptionKind=n.AppOptions=void 0;const o=Object.create(null);n.compatibilityParams=o;{const u=navigator.userAgent||"",r=navigator.platform||"",T=navigator.maxTouchPoints||1,R=/Android/.test(u);(/\b(iPad|iPhone|iPod)(?=;)/.test(u)||"MacIntel"===r&&T>1||R)&&(o.maxCanvasPixels=5242880)}const i={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};n.OptionKind=i;const c={annotationMode:{value:2,kind:i.VIEWER+i.PREFERENCE},cursorToolOnLoad:{value:0,kind:i.VIEWER+i.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:i.VIEWER},defaultZoomValue:{value:"",kind:i.VIEWER+i.PREFERENCE},disableHistory:{value:!1,kind:i.VIEWER},disablePageLabels:{value:!1,kind:i.VIEWER+i.PREFERENCE},enablePermissions:{value:!1,kind:i.VIEWER+i.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:i.VIEWER+i.PREFERENCE},enableScripting:{value:!0,kind:i.VIEWER+i.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:i.VIEWER},externalLinkTarget:{value:0,kind:i.VIEWER+i.PREFERENCE},historyUpdateUrl:{value:!1,kind:i.VIEWER+i.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:i.VIEWER+i.PREFERENCE},imageResourcesPath:{value:"./images/",kind:i.VIEWER},maxCanvasPixels:{value:16777216,compatibility:o.maxCanvasPixels,kind:i.VIEWER},pdfBugEnabled:{value:!1,kind:i.VIEWER+i.PREFERENCE},printResolution:{value:150,kind:i.VIEWER},renderer:{value:"canvas",kind:i.VIEWER},sidebarViewOnLoad:{value:-1,kind:i.VIEWER+i.PREFERENCE},scrollModeOnLoad:{value:-1,kind:i.VIEWER+i.PREFERENCE},spreadModeOnLoad:{value:-1,kind:i.VIEWER+i.PREFERENCE},textLayerMode:{value:1,kind:i.VIEWER+i.PREFERENCE},useOnlyCssZoom:{value:!1,kind:i.VIEWER+i.PREFERENCE},viewerCssTheme:{value:0,kind:i.VIEWER+i.PREFERENCE},viewOnLoad:{value:0,kind:i.VIEWER+i.PREFERENCE},cMapPacked:{value:!0,kind:i.API},cMapUrl:{value:"../web/cmaps/",kind:i.API},disableAutoFetch:{value:!1,kind:i.API+i.PREFERENCE},disableFontFace:{value:!1,kind:i.API+i.PREFERENCE},disableRange:{value:!1,kind:i.API+i.PREFERENCE},disableStream:{value:!1,kind:i.API+i.PREFERENCE},docBaseUrl:{value:"",kind:i.API},enableXfa:{value:!0,kind:i.API+i.PREFERENCE},fontExtraProperties:{value:!1,kind:i.API},isEvalSupported:{value:!0,kind:i.API},maxImageSize:{value:-1,kind:i.API},pdfBug:{value:!1,kind:i.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:i.API},verbosity:{value:1,kind:i.API},workerPort:{value:null,kind:i.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:i.WORKER}};c.disablePreferences={value:!1,kind:i.VIEWER},c.locale={value:navigator.language||"en-US",kind:i.VIEWER},c.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:i.VIEWER},c.renderer.kind+=i.PREFERENCE;const g=Object.create(null);n.AppOptions=class{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(r){var E;const T=g[r];if(void 0!==T)return T;const R=c[r];return void 0!==R?null!=(E=R.compatibility)?E:R.value:void 0}static getAll(r=null){var R;const T=Object.create(null);for(const E in c){const P=c[E];if(r){if(0==(r&P.kind))continue;if(r===i.PREFERENCE){const s=P.value,S=typeof s;if("boolean"===S||"string"===S||"number"===S&&Number.isInteger(s)){T[E]=s;continue}throw new Error(`Invalid type for preference: ${E}`)}}const t=g[E];T[E]=void 0!==t?t:null!=(R=P.compatibility)?R:P.value}return T}static set(r,T){g[r]=T}static setAll(r){for(const T in r)g[T]=r[T]}static remove(r){delete g[r]}static _hasUserOptions(){return Object.keys(g).length>0}}},(L,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFRenderingQueue=void 0;var i=o(3),c=o(6);n.PDFRenderingQueue=class{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(r){this.pdfViewer=r}setThumbnailViewer(r){this.pdfThumbnailViewer=r}isHighestPriority(r){return this.highestPriorityPage===r.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(r){var T;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(r)&&(this.isThumbnailViewEnabled&&(null==(T=this.pdfThumbnailViewer)?void 0:T.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(r,T,R,E=!1){const P=r.views,t=P.length;if(0===t)return null;for(let N=0;N<t;N++){const F=P[N].view;if(!this.isViewFinished(F))return F}const s=r.first.id,S=r.last.id;if(S-s+1>t){const N=r.ids;for(let F=1,V=S-s;F<V;F++){const j=R?s+F:S-F;if(N.has(j))continue;const O=T[j-1];if(!this.isViewFinished(O))return O}}let C=R?S:s-2,_=T[C];return _&&!this.isViewFinished(_)||E&&(C+=R?1:-1,_=T[C],_&&!this.isViewFinished(_))?_:null}isViewFinished(r){return r.renderingState===c.RenderingStates.FINISHED}renderView(r){switch(r.renderingState){case c.RenderingStates.FINISHED:return!1;case c.RenderingStates.PAUSED:this.highestPriorityPage=r.renderingId,r.resume();break;case c.RenderingStates.RUNNING:this.highestPriorityPage=r.renderingId;break;case c.RenderingStates.INITIAL:this.highestPriorityPage=r.renderingId,r.draw().finally(()=>{this.renderHighestPriority()}).catch(T=>{T instanceof i.RenderingCancelledException||console.error(`renderView: "${T}"`)})}return!0}}},(L,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TextHighlighter=void 0;n.TextHighlighter=class{constructor({findController:c,eventBus:g,pageIndex:y}){this.findController=c,this.matches=[],this.eventBus=g,this.pageIdx=y,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(c,g){this.textDivs=c,this.textContentItemsStr=g}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=c=>{(c.pageIndex===this.pageIdx||-1===c.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(c,g){if(!c)return[];const{textContentItemsStr:y}=this;let u=0,r=0;const T=y.length-1,R=[];for(let E=0,P=c.length;E<P;E++){let t=c[E];for(;u!==T&&t>=r+y[u].length;)r+=y[u].length,u++;u===y.length&&console.error("Could not find a matching mapping");const s={begin:{divIdx:u,offset:t-r}};for(t+=g[E];u!==T&&t>r+y[u].length;)r+=y[u].length,u++;s.end={divIdx:u,offset:t-r},R.push(s)}return R}_renderMatches(c){if(0===c.length)return;const{findController:g,pageIdx:y}=this,{textContentItemsStr:u,textDivs:r}=this,T=y===g.selected.pageIdx,R=g.selected.matchIdx;let P=null;const t_offset=void 0;function s(N,F){const V=N.divIdx;return r[V].textContent="",S(V,0,N.offset,F)}function S(N,F,V,j){let O=r[N];if(O.nodeType===Node.TEXT_NODE){const U=document.createElement("span");O.parentNode.insertBefore(U,O),U.appendChild(O),r[N]=U,O=U}const B=u[N].substring(F,V),G=document.createTextNode(B);if(j){const U=document.createElement("span");return U.className=`${j} appended`,U.appendChild(G),O.appendChild(U),j.includes("selected")?U.offsetLeft:0}return O.appendChild(G),0}let C=R,_=C+1;if(g.state.highlightAll)C=0,_=c.length;else if(!T)return;for(let N=C;N<_;N++){const F=c[N],V=F.begin,j=F.end,O=T&&N===R,B=O?" selected":"";let G=0;if(P&&V.divIdx===P.divIdx?S(P.divIdx,P.offset,V.offset):(null!==P&&S(P.divIdx,P.offset,t_offset),s(V)),V.divIdx===j.divIdx)G=S(V.divIdx,V.offset,j.offset,"highlight"+B);else{G=S(V.divIdx,V.offset,t_offset,"highlight begin"+B);for(let U=V.divIdx+1,$=j.divIdx;U<$;U++)r[U].className="highlight middle"+B;s(j,"highlight end"+B)}P=j,O&&g.scrollMatchIntoView({element:r[V.divIdx],selectedLeft:G,pageIndex:y,matchIndex:R})}P&&S(P.divIdx,P.offset,t_offset)}_updateMatches(){if(!this.enabled)return;const{findController:c,matches:g,pageIdx:y}=this,{textContentItemsStr:u,textDivs:r}=this;let T=-1;for(let P=0,t=g.length;P<t;P++){const s=g[P];for(let C=Math.max(T,s.begin.divIdx),_=s.end.divIdx;C<=_;C++){const N=r[C];N.textContent=u[C],N.className=""}T=s.end.divIdx+1}(null==c?void 0:c.highlightMatches)&&(this.matches=this._convertMatches(c.pageMatches[y]||null,c.pageMatchesLength[y]||null),this._renderMatches(this.matches))}}},(L,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DownloadManager=void 0;var i=o(3);function c(y,u){const r=document.createElement("a");if(!r.click)throw new Error('DownloadManager: "a.click()" is not supported.');r.href=y,r.target="_parent","download"in r&&(r.download=u),(document.body||document.documentElement).appendChild(r),r.click(),r.remove()}n.DownloadManager=class{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(u,r){(0,i.createValidAbsoluteUrl)(u,"http://example.com")?c(u+"#pdfjs.action=download",r):console.error(`downloadUrl - not a valid URL: ${u}`)}downloadData(u,r,T){c(URL.createObjectURL(new Blob([u],{type:T})),r)}openOrDownloadData(u,r,T){const R=(0,i.isPdfFile)(T),E=R?"application/pdf":"";if(R){let t,P=this._openBlobUrls.get(u);P||(P=URL.createObjectURL(new Blob([r],{type:E})),this._openBlobUrls.set(u,P)),t="?file="+encodeURIComponent(P+"#"+T);try{return window.open(t),!0}catch(s){console.error(`openOrDownloadData: ${s}`),URL.revokeObjectURL(P),this._openBlobUrls.delete(u)}}return this.downloadData(r,T,E),!1}download(u,r,T,R="download"){c(URL.createObjectURL(u),T)}}},(L,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WaitOnType=n.EventBus=n.AutomationEventBus=void 0,n.waitOnEventOrTimeout=function({target:y,name:u,delay:r=0}){return new Promise(function(T,R){if("object"!=typeof y||!u||"string"!=typeof u||!(Number.isInteger(r)&&r>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function E(S){y instanceof c?y._off(u,P):y.removeEventListener(u,P),s&&clearTimeout(s),T(S)}const P=E.bind(null,o.EVENT);y instanceof c?y._on(u,P):y.addEventListener(u,P);const t=E.bind(null,o.TIMEOUT),s=setTimeout(t,r)})};const o={EVENT:"event",TIMEOUT:"timeout"};n.WaitOnType=o;class c{constructor(){this._listeners=Object.create(null)}on(u,r,T=null){this._on(u,r,{external:!0,once:null==T?void 0:T.once})}off(u,r,T=null){this._off(u,r,{external:!0,once:null==T?void 0:T.once})}dispatch(u,r){const T=this._listeners[u];if(!T||0===T.length)return;let R;for(const{listener:E,external:P,once:t}of T.slice(0))t&&this._off(u,E),P?(R||(R=[])).push(E):E(r);if(R){for(const E of R)E(r);R=null}}_on(u,r,T=null){var E;((E=this._listeners)[u]||(E[u]=[])).push({listener:r,external:!0===(null==T?void 0:T.external),once:!0===(null==T?void 0:T.once)})}_off(u,r,T=null){const R=this._listeners[u];if(R)for(let E=0,P=R.length;E<P;E++)if(R[E].listener===r)return void R.splice(E,1)}}n.EventBus=c;n.AutomationEventBus=class extends c{dispatch(u,r){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(L,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.GenericL10n=void 0,o(19);var i=o(4);const c=document.webL10n;n.GenericL10n=class{constructor(u){this._lang=u,this._ready=new Promise((r,T)=>{c.setLanguage((0,i.fixupLangCode)(u),()=>{r(c)})})}getLanguage(){var u=this;return d(function*(){return(yield u._ready).getLanguage()})()}getDirection(){var u=this;return d(function*(){return(yield u._ready).getDirection()})()}get(u,r=null,T=(0,i.getL10nFallback)(u,r)){var R=this;return d(function*(){return(yield R._ready).get(u,r,T)})()}translate(u){var r=this;return d(function*(){return(yield r._ready).translate(u)})()}}},()=>{document.webL10n=function(L,n,o){var i={},c="",g="textContent",y="",u={},r="loading";function s(U,$,m){$=$||function(p){},m=m||function(){};var l=new XMLHttpRequest;l.open("GET",U,true),l.overrideMimeType&&l.overrideMimeType("text/plain; charset=utf-8"),l.onreadystatechange=function(){4==l.readyState&&(200==l.status||0===l.status?$(l.responseText):m())},l.onerror=m,l.ontimeout=m;try{l.send(null)}catch(a){m()}}function S(U,$,m,l){var a=U.replace(/[^\/]*$/,"")||"./";function p(w){return w.lastIndexOf("\\")<0?w:w.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}s(U,function(w){c+=w,function(w,e){var f={},A=/^\s*|\s*$/,M=/^\s*#|^\s*$/,h=/^\s*\[(.*)\]\s*$/,k=/^\s*@import\s+url\((.*)\)\s*$/i,I=/^([^=\s]*)\s*=\s*(.+)$/;function H(Q,oe,le){var ue=Q.replace(A,"").split(/[\r\n]+/),x="*",q=$.split("-",1)[0],ce=!1,ne="";!function re(){for(;;){if(!ue.length)return void le();var de=ue.shift();if(!M.test(de)){if(oe){if(ne=h.exec(de)){x=ne[1].toLowerCase(),ce="*"!==x&&x!==$&&x!==q;continue}if(ce)continue;if(ne=k.exec(de))return void W(a+ne[1],re)}var me=de.match(I);me&&3==me.length&&(f[me[1]]=p(me[2]))}}}()}function W(Q,oe){s(Q,function(le){H(le,!1,oe)},function(){console.warn(Q+" not found."),oe()})}H(w,!0,function(){e(f)})}(w,function(e){for(var f in e){var A,M,h=f.lastIndexOf(".");h>0?(A=f.substring(0,h),M=f.substring(h+1)):(A=f,M=g),i[A]||(i[A]={}),i[A][M]=e[f]}m&&m()})},l)}function C(U,$){U&&(U=U.toLowerCase()),$=$||function(){},i={},c="",y="",y=U;var m=n.querySelectorAll('link[type="application/l10n"]'),l=m.length;if(0!==l){var w,e=0;w=function(){++e>=l&&($(),r="complete")};for(var A=0;A<l;A++)new f(m[A]).load(U,w)}else{var a=function(){var U=n.querySelector('script[type="application/l10n"]');return U?JSON.parse(U.innerHTML):null}();if(a&&a.locales&&a.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(i=a.locales[U])){var p=a.default_locale.toLowerCase();for(var b in a.locales){if((b=b.toLowerCase())===U){i=a.locales[U];break}b===p&&(i=a.locales[p])}}$()}else console.log("no resource to load, early way out");r="complete"}function f(h){var k=h.href;this.load=function(I,H){S(k,I,H,function(){console.warn(k+" not found."),console.warn('"'+I+'" resource not found'),y="",H()})}}}function F(U,$,m){var l=i[U];if(!l){if(console.warn("#"+U+" is undefined."),!m)return null;l=m}var a={};for(var p in l){var b=l[p];b=j(b=V(b,$,U,p),$,U),a[p]=b}return a}function V(U,$,m,l){var p=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(U);if(!p||!p.length)return U;var e,b=p[1],w=p[2];return $&&w in $?e=$[w]:w in i&&(e=i[w]),b in u&&(U=(0,u[b])(U,e,m,l)),U}function j(U,$,m){return U.replace(/\{\{\s*(.+?)\s*\}\}/g,function(a,p){return $&&p in $?$[p]:p in i?i[p]:(console.log("argument {{"+p+"}} for #"+m+" is undefined."),a)})}function O(U){var $=function(U){if(!U)return{};var $=U.getAttribute("data-l10n-id"),m=U.getAttribute("data-l10n-args"),l={};if(m)try{l=JSON.parse(m)}catch(a){console.warn("could not parse arguments for #"+$)}return{id:$,args:l}}(U);if($.id){var m=F($.id,$.args);if(!m)return void console.warn("#"+$.id+" is undefined.");if(m[g]){if(0===function(U){if(U.children)return U.children.length;if(void 0!==U.childElementCount)return U.childElementCount;for(var $=0,m=0;m<U.childNodes.length;m++)$+=1===U.nodeType?1:0;return $}(U))U[g]=m[g];else{for(var l=U.childNodes,a=!1,p=0,b=l.length;p<b;p++)3===l[p].nodeType&&/\S/.test(l[p].nodeValue)&&(a?l[p].nodeValue="":(l[p].nodeValue=m[g],a=!0));if(!a){var w=n.createTextNode(m[g]);U.insertBefore(w,U.firstChild)}}delete m[g]}for(var e in m)U[e]=m[e]}}return u.plural=function(U,$,m,l){var a=parseFloat($);if(isNaN(a)||l!=g)return U;u._pluralRules||(u._pluralRules=function(U){function m(b,w){return-1!==w.indexOf(b)}function l(b,w,e){return w<=b&&b<=e}var a={0:function(b){return"other"},1:function(b){return l(b%100,3,10)?"few":0===b?"zero":l(b%100,11,99)?"many":2==b?"two":1==b?"one":"other"},2:function(b){return 0!==b&&b%10==0?"many":2==b?"two":1==b?"one":"other"},3:function(b){return 1==b?"one":"other"},4:function(b){return l(b,0,1)?"one":"other"},5:function(b){return l(b,0,2)&&2!=b?"one":"other"},6:function(b){return 0===b?"zero":b%10==1&&b%100!=11?"one":"other"},7:function(b){return 2==b?"two":1==b?"one":"other"},8:function(b){return l(b,3,6)?"few":l(b,7,10)?"many":2==b?"two":1==b?"one":"other"},9:function(b){return 0===b||1!=b&&l(b%100,1,19)?"few":1==b?"one":"other"},10:function(b){return l(b%10,2,9)&&!l(b%100,11,19)?"few":b%10!=1||l(b%100,11,19)?"other":"one"},11:function(b){return l(b%10,2,4)&&!l(b%100,12,14)?"few":b%10==0||l(b%10,5,9)||l(b%100,11,14)?"many":b%10==1&&b%100!=11?"one":"other"},12:function(b){return l(b,2,4)?"few":1==b?"one":"other"},13:function(b){return l(b%10,2,4)&&!l(b%100,12,14)?"few":1!=b&&l(b%10,0,1)||l(b%10,5,9)||l(b%100,12,14)?"many":1==b?"one":"other"},14:function(b){return l(b%100,3,4)?"few":b%100==2?"two":b%100==1?"one":"other"},15:function(b){return 0===b||l(b%100,2,10)?"few":l(b%100,11,19)?"many":1==b?"one":"other"},16:function(b){return b%10==1&&11!=b?"one":"other"},17:function(b){return 3==b?"few":0===b?"zero":6==b?"many":2==b?"two":1==b?"one":"other"},18:function(b){return 0===b?"zero":l(b,0,2)&&0!==b&&2!=b?"one":"other"},19:function(b){return l(b,2,10)?"few":l(b,0,1)?"one":"other"},20:function(b){return!l(b%10,3,4)&&b%10!=9||l(b%100,10,19)||l(b%100,70,79)||l(b%100,90,99)?b%1e6==0&&0!==b?"many":b%10!=2||m(b%100,[12,72,92])?b%10!=1||m(b%100,[11,71,91])?"other":"one":"two":"few"},21:function(b){return 0===b?"zero":1==b?"one":"other"},22:function(b){return l(b,0,1)||l(b,11,99)?"one":"other"},23:function(b){return l(b%10,1,2)||b%20==0?"one":"other"},24:function(b){return l(b,3,10)||l(b,13,19)?"few":m(b,[2,12])?"two":m(b,[1,11])?"one":"other"}},p={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[U.replace(/-.*$/,"")];return p in a?a[p]:(console.warn("plural form unknown for ["+U+"]"),function(){return"other"})}(y));var p="["+u._pluralRules(a)+"]";return 0===a&&m+"[zero]"in i?U=i[m+"[zero]"][l]:1==a&&m+"[one]"in i?U=i[m+"[one]"][l]:2==a&&m+"[two]"in i?U=i[m+"[two]"][l]:m+p in i?U=i[m+p][l]:m+"[other]"in i&&(U=i[m+"[other]"][l]),U},{get:function(U,$,m){var p,l=U.lastIndexOf("."),a=g;l>0&&(a=U.substring(l+1),U=U.substring(0,l)),m&&((p={})[a]=m);var b=F(U,$,p);return b&&a in b?b[a]:"{{"+U+"}}"},getData:function(){return i},getText:function(){return c},getLanguage:function(){return y},setLanguage:function(U,$){C(U,function(){$&&$()})},getDirection:function(){var $=y.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf($)>=0?"rtl":"ltr"},translate:function(U){for(var $=function(U){return U?U.querySelectorAll("*[data-l10n-id]"):[]}(U=U||n.documentElement),m=$.length,l=0;l<m;l++)O($[l]);O(U)},getReadyState:function(){return r},ready:function(U){U&&("complete"==r||"interactive"==r?L.setTimeout(function(){U()}):n.addEventListener&&n.addEventListener("localized",function $(){n.removeEventListener("localized",$),U()}))}}}(window,document)},(L,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFFindController=n.FindState=void 0;var i=o(6),c=o(3),g=o(21);const y={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};n.FindState=y;const R={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},E=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),P=[...E.values()].map(j=>String.fromCharCode(j)).join(""),t=/\p{M}+/gu,s=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,S=/([^\p{M}])\p{M}*$/u,C=/^\p{M}*([^\p{M}])/u;let _=null;function N(j){if(!_){const b=Object.keys(R).join("");_=new RegExp(`([${b}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const O=[];let B;for(;null!==(B=t.exec(j));)O.push([B[0].length,B.index]);let G=j.normalize("NFD");const U=[[0,0]];let $=0,m=0,l=0,a=0,p=!1;return G=G.replace(_,(b,w,e,f,A,M)=>{var h;if(M-=l,w){const k=R[b],I=k.length;for(let H=1;H<I;H++)U.push([M-m+H,m-H]);return m-=I-1,k}if(e){const k=e.endsWith("\n"),I=k?e.length-2:e.length;p=!0;let H=I;M+a===(null==(h=O[$])?void 0:h[1])&&(H-=O[$][0],++$);for(let W=1;W<H+1;W++)U.push([M-1-m+W,m-W]);return m-=H,l+=H,k?(U.push([(M+=I-1)-m+1,1+m]),m+=1,l+=1,a+=1,e.slice(0,I)):e}return f?(U.push([M-m+1,1+m]),m+=1,l+=1,a+=1,f.charAt(0)):(U.push([M-m+1,m-1]),m-=1,l+=1,a+=1," ")}),U.push([G.length,m]),[G,U,p]}function F(j,O,B){if(!j)return[O,B];const G=O,U=O+B;let $=(0,i.binarySearchFirstItem)(j,l=>l[0]>=G);j[$][0]>G&&--$;let m=(0,i.binarySearchFirstItem)(j,l=>l[0]>=U,$);return j[m][0]>U&&--m,[G+j[$][1],B+j[m][1]-j[$][1]]}n.PDFFindController=class{constructor({linkService:O,eventBus:B}){this._linkService=O,this._eventBus=B,this._reset(),B._on("find",this._onFind.bind(this)),B._on("findbarclose",this._onFindBarClose.bind(this)),this.executeCommand=(G,U)=>{console.error('Deprecated method `PDFFindController.executeCommand` called, please dispatch a "find"-event using the EventBus instead.');const $=Object.assign(Object.create(null),U,{type:G.substring("find".length)});this._onFind($)}}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(O){this._pdfDocument&&this._reset(),O&&(this._pdfDocument=O,this._firstPageCapability.resolve())}_onFind(O){if(!O)return;const B=this._pdfDocument,{type:G}=O;(null===this._state||this._shouldDirtyMatch(O))&&(this._dirtyMatch=!0),this._state=O,"highlightallchange"!==G&&this._updateUIState(y.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||B&&this._pdfDocument!==B)return;this._extractText();const U=!this._highlightMatches,$=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),G?this._dirtyMatch?this._nextMatch():"again"===G?(this._nextMatch(),U&&this._state.highlightAll&&this._updateAllPages()):"highlightallchange"===G?($?this._nextMatch():this._highlightMatches=!0,this._updateAllPages()):this._nextMatch():this._findTimeout=setTimeout(()=>{this._nextMatch(),this._findTimeout=null},250)})}scrollMatchIntoView({element:O=null,selectedLeft:B=0,pageIndex:G=-1,matchIndex:U=-1}){this._scrollMatches&&O&&-1!==U&&U===this._selected.matchIdx&&-1!==G&&G===this._selected.pageIdx&&(this._scrollMatches=!1,(0,i.scrollIntoView)(O,{top:-50,left:B+-400},!0))}_reset(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,c.createPromiseCapability)()}get _query(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=N(this._state.query)),this._normalizedQuery}_shouldDirtyMatch(O){if(O.query!==this._state.query)return!0;switch(O.type){case"again":const B=this._selected.pageIdx+1,G=this._linkService;return B>=1&&B<=G.pagesCount&&B!==G.page&&!G.isPageVisible(B);case"highlightallchange":return!1}return!0}_isEntireWord(O,B,G){let U=O.slice(0,B).match(S);if(U){const $=O.charCodeAt(B),m=U[1].charCodeAt(0);if((0,g.getCharacterType)($)===(0,g.getCharacterType)(m))return!1}if(U=O.slice(B+G).match(C),U){const $=O.charCodeAt(B+G-1),m=U[1].charCodeAt(0);if((0,g.getCharacterType)($)===(0,g.getCharacterType)(m))return!1}return!0}_calculateRegExpMatch(O,B,G,U){const $=[],m=[],l=this._pageDiffs[G];let a;for(;null!==(a=O.exec(U));){if(B&&!this._isEntireWord(U,a.index,a[0].length))continue;const[p,b]=F(l,a.index,a[0].length);b&&($.push(p),m.push(b))}this._pageMatches[G]=$,this._pageMatchesLength[G]=m}_convertToRegExpString(O,B){const{matchDiacritics:G}=this._state;let U=!1;const $="[ ]*";return(O=O.replace(s,(m,l,a,p,b,w)=>l?`[ ]*\\${l}[ ]*`:a?`[ ]*${a}[ ]*`:p?"[ ]+":G?b||w:b?E.has(b.charCodeAt(0))?b:"":B?(U=!0,`${w}\\p{M}*`):w)).endsWith($)&&(O=O.slice(0,O.length-$.length)),G&&B&&(U=!0,O=`${O}(?=[${P}]|[^\\p{M}]|$)`),[U,O]}_calculateMatch(O){let B=this._query;if(0===B.length)return;const{caseSensitive:G,entireWord:U,phraseSearch:$}=this._state,m=this._pageContents[O],l=this._hasDiacritics[O];let a=!1;if($)[a,B]=this._convertToRegExpString(B,l);else{const w=B.match(/\S+/g);w&&(B=w.sort().reverse().map(e=>{const[f,A]=this._convertToRegExpString(e,l);return a||(a=f),`(${A})`}).join("|"))}B=new RegExp(B,`g${a?"u":""}${G?"":"i"}`),this._calculateRegExpMatch(B,U,O,m),this._state.highlightAll&&this._updatePage(O),this._resumePageIdx===O&&(this._resumePageIdx=null,this._nextPageMatch());const b=this._pageMatches[O].length;b>0&&(this._matchesCountTotal+=b,this._updateUIResultsCount())}_extractText(){if(this._extractTextPromises.length>0)return;let O=Promise.resolve();for(let B=0,G=this._linkService.pagesCount;B<G;B++){const U=(0,c.createPromiseCapability)();this._extractTextPromises[B]=U.promise,O=O.then(()=>this._pdfDocument.getPage(B+1).then($=>$.getTextContent()).then($=>{const m=$.items,l=[];for(let a=0,p=m.length;a<p;a++)l.push(m[a].str),m[a].hasEOL&&l.push("\n");[this._pageContents[B],this._pageDiffs[B],this._hasDiacritics[B]]=N(l.join("")),U.resolve(B)},$=>{console.error(`Unable to get text content for page ${B+1}`,$),this._pageContents[B]="",this._pageDiffs[B]=null,this._hasDiacritics[B]=!1,U.resolve(B)}))}}_updatePage(O){this._scrollMatches&&this._selected.pageIdx===O&&(this._linkService.page=O+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:O})}_updateAllPages(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}_nextMatch(){const O=this._state.findPrevious,B=this._linkService.page-1,G=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=B,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(let $=0;$<G;$++)this._pendingFindMatches.has($)||(this._pendingFindMatches.add($),this._extractTextPromises[$].then(m=>{this._pendingFindMatches.delete(m),this._calculateMatch(m)}))}if(""===this._query)return void this._updateUIState(y.FOUND);if(this._resumePageIdx)return;const U=this._offset;if(this._pagesToSearch=G,null!==U.matchIdx){const $=this._pageMatches[U.pageIdx].length;if(!O&&U.matchIdx+1<$||O&&U.matchIdx>0)return U.matchIdx=O?U.matchIdx-1:U.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(O)}this._nextPageMatch()}_matchesReady(O){const B=this._offset,G=O.length,U=this._state.findPrevious;return G?(B.matchIdx=U?G-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(U),!!(B.wrapped&&(B.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}_nextPageMatch(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let O=null;do{const B=this._offset.pageIdx;if(O=this._pageMatches[B],!O){this._resumePageIdx=B;break}}while(!this._matchesReady(O))}_advanceOffsetPage(O){const B=this._offset,G=this._linkService.pagesCount;B.pageIdx=O?B.pageIdx-1:B.pageIdx+1,B.matchIdx=null,this._pagesToSearch--,(B.pageIdx>=G||B.pageIdx<0)&&(B.pageIdx=O?G-1:0,B.wrapped=!0)}_updateMatch(O=!1){let B=y.NOT_FOUND;const G=this._offset.wrapped;if(this._offset.wrapped=!1,O){const U=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,B=G?y.WRAPPED:y.FOUND,-1!==U&&U!==this._selected.pageIdx&&this._updatePage(U)}this._updateUIState(B,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}_onFindBarClose(O){const B=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||B&&this._pdfDocument!==B||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this._updateUIState(y.FOUND),this._highlightMatches=!1,this._updateAllPages())})}_requestMatchesCount(){var $;const{pageIdx:O,matchIdx:B}=this._selected;let G=0,U=this._matchesCountTotal;if(-1!==B){for(let m=0;m<O;m++)G+=(null==($=this._pageMatches[m])?void 0:$.length)||0;G+=B+1}return(G<1||G>U)&&(G=U=0),{current:G,total:U}}_updateUIResultsCount(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}_updateUIState(O,B=!1){var G,U;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:O,previous:B,matchesCount:this._requestMatchesCount(),rawQuery:null!=(U=null==(G=this._state)?void 0:G.query)?U:null})}}},(L,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CharacterType=void 0,n.getCharacterType=function(s){return function(s){return s<11904}(s)?function(s){return 0==(65408&s)}(s)?function(s){return 32===s||9===s||13===s||10===s}(s)?o.SPACE:function(s){return s>=97&&s<=122||s>=65&&s<=90}(s)||function(s){return s>=48&&s<=57}(s)||95===s?o.ALPHA_LETTER:o.PUNCT:function(s){return 3584==(65408&s)}(s)?o.THAI_LETTER:160===s?o.SPACE:o.ALPHA_LETTER:function(s){return s>=13312&&s<=40959||s>=63744&&s<=64255}(s)?o.HAN_LETTER:function(s){return s>=12448&&s<=12543}(s)?o.KATAKANA_LETTER:function(s){return s>=12352&&s<=12447}(s)?o.HIRAGANA_LETTER:function(s){return s>=65376&&s<=65439}(s)?o.HALFWIDTH_KATAKANA_LETTER:o.ALPHA_LETTER};const o={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};n.CharacterType=o},(L,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFHistory=void 0,n.isDestArraysEqual=E,n.isDestHashesEqual=R;var i=o(6),c=o(17);function r(){return document.location.hash}function R(P,t){return"string"==typeof P&&"string"==typeof t&&(P===t||(0,i.parseQueryString)(P).get("nameddest")===t)}function E(P,t){function s(S,C){if(typeof S!=typeof C||Array.isArray(S)||Array.isArray(C))return!1;if(null!==S&&"object"==typeof S&&null!==C){if(Object.keys(S).length!==Object.keys(C).length)return!1;for(const _ in S)if(!s(S[_],C[_]))return!1;return!0}return S===C||Number.isNaN(S)&&Number.isNaN(C)}if(!Array.isArray(P)||!Array.isArray(t)||P.length!==t.length)return!1;for(let S=0,C=P.length;S<C;S++)if(!s(P[S],t[S]))return!1;return!0}n.PDFHistory=class{constructor({linkService:t,eventBus:s}){this.linkService=t,this.eventBus=s,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",S=>{this._isViewerInPresentationMode=S.state!==i.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",S=>{this._isPagesLoaded=!!S.pagesCount},{once:!0})})}initialize({fingerprint:t,resetHistory:s=!1,updateUrl:S=!1}){if(!t||"string"!=typeof t)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const C=""!==this._fingerprint&&this._fingerprint!==t;this._fingerprint=t,this._updateUrl=!0===S,this._initialized=!0,this._bindEvents();const _=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=r(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(_,!0)||s){const{hash:F,page:V,rotation:j}=this._parseCurrentHash(!0);return!F||C||s?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:F,page:V,rotation:j},!0)}const N=_.destination;this._updateInternalState(N,_.uid,!0),void 0!==N.rotation&&(this._initialRotation=N.rotation),N.dest?(this._initialBookmark=JSON.stringify(N.dest),this._destination.page=null):N.hash?this._initialBookmark=N.hash:N.page&&(this._initialBookmark=`page=${N.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:t=null,explicitDest:s,pageNumber:S}){if(!this._initialized)return;if(t&&"string"!=typeof t)return void console.error(`PDFHistory.push: "${t}" is not a valid namedDest parameter.`);if(!Array.isArray(s))return void console.error(`PDFHistory.push: "${s}" is not a valid explicitDest parameter.`);if(!this._isValidPage(S)&&(null!==S||this._destination))return void console.error(`PDFHistory.push: "${S}" is not a valid pageNumber parameter.`);const C=t||JSON.stringify(s);if(!C)return;let _=!1;if(this._destination&&(R(this._destination.hash,C)||E(this._destination.dest,s))){if(this._destination.page)return;_=!0}this._popStateInProgress&&!_||(this._pushOrReplaceState({dest:s,hash:C,page:S,rotation:this.linkService.rotation},_),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(t){var s;if(this._initialized){if(!this._isValidPage(t))return void console.error(`PDFHistory.pushPage: "${t}" is not a valid page number.`);(null==(s=this._destination)?void 0:s.page)!==t&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${t}`,page:t,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const t=window.history.state;this._isValidState(t)&&t.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const t=window.history.state;this._isValidState(t)&&t.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(t,s=!1){const S=s||!this._destination,C={fingerprint:this._fingerprint,uid:S?this._uid:this._uid+1,destination:t};let _;if(this._updateInternalState(t,C.uid),this._updateUrl&&(null==t?void 0:t.hash)){const N=document.location.href.split("#")[0];N.startsWith("file://")||(_=`${N}#${t.hash}`)}S?window.history.replaceState(C,"",_):window.history.pushState(C,"",_)}_tryPushCurrentPosition(t=!1){if(!this._position)return;let s=this._position;if(t&&(s=Object.assign(Object.create(null),this._position),s.temporary=!0),!this._destination)return void this._pushOrReplaceState(s);if(this._destination.temporary)return void this._pushOrReplaceState(s,!0);if(this._destination.hash===s.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let S=!1;if(this._destination.page>=s.first&&this._destination.page<=s.page){if(void 0!==this._destination.dest||!this._destination.first)return;S=!0}this._pushOrReplaceState(s,S)}_isValidPage(t){return Number.isInteger(t)&&t>0&&t<=this.linkService.pagesCount}_isValidState(t,s=!1){if(!t)return!1;if(t.fingerprint!==this._fingerprint){if(!s)return!1;{if("string"!=typeof t.fingerprint||t.fingerprint.length!==this._fingerprint.length)return!1;const[S]=performance.getEntriesByType("navigation");if("reload"!==(null==S?void 0:S.type))return!1}}return!(!Number.isInteger(t.uid)||t.uid<0||null===t.destination||"object"!=typeof t.destination)}_updateInternalState(t,s,S=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),S&&(null==t?void 0:t.temporary)&&delete t.temporary,this._destination=t,this._uid=s,this._maxUid=Math.max(this._maxUid,s),this._numPositionUpdates=0}_parseCurrentHash(t=!1){const s=unescape(r()).substring(1),S=(0,i.parseQueryString)(s),C=S.get("nameddest")||"";let _=0|S.get("page");return(!this._isValidPage(_)||t&&C.length>0)&&(_=null),{hash:s,page:_,rotation:this.linkService.rotation}}_updateViewarea({location:t}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?`page=${t.pageNumber}`:t.pdfOpenParams.substring(1),page:this.linkService.page,first:t.pageNumber,rotation:t.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:t}){const s=r(),S=this._currentHash!==s;if(this._currentHash=s,!t){this._uid++;const{hash:_,page:N,rotation:F}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:_,page:N,rotation:F},!0)}if(!this._isValidState(t))return;this._popStateInProgress=!0,S&&(this._blockHashChange++,(0,c.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const C=t.destination;this._updateInternalState(C,t.uid,!0),(0,i.isValidRotation)(C.rotation)&&(this.linkService.rotation=C.rotation),C.dest?this.linkService.goToDestination(C.dest):C.hash?this.linkService.setHash(C.hash):C.page&&(this.linkService.page=C.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(L,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFScriptingManager=void 0;var i=o(6),c=o(3);n.PDFScriptingManager=class{constructor({eventBus:u,sandboxBundleSrc:r=null,scriptingFactory:T=null,docPropertiesLookup:R=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=u,this._sandboxBundleSrc=r,this._scriptingFactory=T,this._docPropertiesLookup=R,this._scriptingFactory||window.addEventListener("updatefromsandbox",E=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:E.detail})})}setViewer(u){this._pdfViewer=u}setDocument(u){var r=this;return d(function*(){var P;if(r._pdfDocument&&(yield r._destroyScripting()),r._pdfDocument=u,!u)return;const[T,R,E]=yield Promise.all([u.getFieldObjects(),u.getCalculationOrderIds(),u.getJSActions()]);if(T||E){if(u===r._pdfDocument){try{r._scripting=r._createScripting()}catch(t){return console.error(`PDFScriptingManager.setDocument: "${null==t?void 0:t.message}".`),void(yield r._destroyScripting())}r._internalEvents.set("updatefromsandbox",t=>{(null==t?void 0:t.source)===window&&r._updateFromSandbox(t.detail)}),r._internalEvents.set("dispatcheventinsandbox",t=>{var s;null==(s=r._scripting)||s.dispatchEventInSandbox(t.detail)}),r._internalEvents.set("pagechanging",({pageNumber:t,previous:s})=>{t!==s&&(r._dispatchPageClose(s),r._dispatchPageOpen(t))}),r._internalEvents.set("pagerendered",({pageNumber:t})=>{!r._pageOpenPending.has(t)||t===r._pdfViewer.currentPageNumber&&r._dispatchPageOpen(t)}),r._internalEvents.set("pagesdestroy",function(){var t=d(function*(s){var S,C;yield r._dispatchPageClose(r._pdfViewer.currentPageNumber),yield null==(S=r._scripting)?void 0:S.dispatchEventInSandbox({id:"doc",name:"WillClose"}),null==(C=r._closeCapability)||C.resolve()});return function(s){return t.apply(this,arguments)}}()),r._domEvents.set("mousedown",t=>{r._mouseState.isDown=!0}),r._domEvents.set("mouseup",t=>{r._mouseState.isDown=!1});for(const[t,s]of r._internalEvents)r._eventBus._on(t,s);for(const[t,s]of r._domEvents)window.addEventListener(t,s);try{const t=yield r._getDocProperties();if(u!==r._pdfDocument)return;yield r._scripting.createSandbox({objects:T,calculationOrder:R,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:dt(ut({},t),{actions:E})}),r._eventBus.dispatch("sandboxcreated",{source:r})}catch(t){return console.error(`PDFScriptingManager.setDocument: "${null==t?void 0:t.message}".`),void(yield r._destroyScripting())}yield null==(P=r._scripting)?void 0:P.dispatchEventInSandbox({id:"doc",name:"Open"}),yield r._dispatchPageOpen(r._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{u===r._pdfDocument&&(r._ready=!0)})}}else yield r._destroyScripting()})()}dispatchWillSave(u){var r=this;return d(function*(){var T;return null==(T=r._scripting)?void 0:T.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(u){var r=this;return d(function*(){var T;return null==(T=r._scripting)?void 0:T.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(u){var r=this;return d(function*(){var T;return null==(T=r._scripting)?void 0:T.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(u){var r=this;return d(function*(){var T;return null==(T=r._scripting)?void 0:T.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){var u;return(null==(u=this._destroyCapability)?void 0:u.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,c.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,c.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,c.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,c.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(u){var r=this;return d(function*(){var S;const T=r._pdfViewer.isInPresentationMode||r._pdfViewer.isChangingPresentationMode,{id:R,siblings:E,command:P,value:t}=u;if(!R){switch(P){case"clear":console.clear();break;case"error":console.error(t);break;case"layout":if(T)return;const C=(0,i.apiPageLayoutToViewerModes)(t);r._pdfViewer.spreadMode=C.spreadMode;break;case"page-num":r._pdfViewer.currentPageNumber=t+1;break;case"print":yield r._pdfViewer.pagesPromise,r._eventBus.dispatch("print",{source:r});break;case"println":console.log(t);break;case"zoom":if(T)return;r._pdfViewer.currentScaleValue=t;break;case"SaveAs":r._eventBus.dispatch("save",{source:r});break;case"FirstPage":r._pdfViewer.currentPageNumber=1;break;case"LastPage":r._pdfViewer.currentPageNumber=r._pdfViewer.pagesCount;break;case"NextPage":r._pdfViewer.nextPage();break;case"PrevPage":r._pdfViewer.previousPage();break;case"ZoomViewIn":if(T)return;r._pdfViewer.increaseScale();break;case"ZoomViewOut":if(T)return;r._pdfViewer.decreaseScale()}return}if(T&&u.focus)return;delete u.id,delete u.siblings;const s=E?[R,...E]:[R];for(const C of s){const _=document.getElementById(C);_?_.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:u})):null==(S=r._pdfDocument)||S.annotationStorage.setValue(C,u)}})()}_dispatchPageOpen(u,r=!1){var T=this;return d(function*(){const R=T._pdfDocument,E=T._visitedPages;if(r&&(T._closeCapability=(0,c.createPromiseCapability)()),!T._closeCapability)return;const P=T._pdfViewer.getPageView(u-1);if((null==P?void 0:P.renderingState)!==i.RenderingStates.FINISHED)return void T._pageOpenPending.add(u);T._pageOpenPending.delete(u);const t=d(function*(){var S,C;const s=yield E.has(u)?null:null==(S=P.pdfPage)?void 0:S.getJSActions();R===T._pdfDocument&&(yield null==(C=T._scripting)?void 0:C.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:u,actions:s}))})();E.set(u,t)})()}_dispatchPageClose(u){var r=this;return d(function*(){var P;const T=r._pdfDocument,R=r._visitedPages;if(!r._closeCapability||r._pageOpenPending.has(u))return;const E=R.get(u);!E||(R.set(u,null),yield E,T===r._pdfDocument&&(yield null==(P=r._scripting)?void 0:P.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:u})))})()}_getDocProperties(){var u=this;return d(function*(){if(u._docPropertiesLookup)return u._docPropertiesLookup(u._pdfDocument);const{docPropertiesLookup:r}=o(24);return r(u._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,c.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:u}=o(24);return new u(this._sandboxBundleSrc)}_destroyScripting(){var u=this;return d(function*(){var r,T;if(!u._scripting)return u._pdfDocument=null,void(null==(r=u._destroyCapability)||r.resolve());u._closeCapability&&(yield Promise.race([u._closeCapability.promise,new Promise(R=>{setTimeout(R,1e3)})]).catch(R=>{}),u._closeCapability=null),u._pdfDocument=null;try{yield u._scripting.destroySandbox()}catch(R){}for(const[R,E]of u._internalEvents)u._eventBus._off(R,E);u._internalEvents.clear();for(const[R,E]of u._domEvents)window.removeEventListener(R,E);u._domEvents.clear(),u._pageOpenPending.clear(),u._visitedPages.clear(),u._scripting=null,delete u._mouseState.isDown,u._ready=!1,null==(T=u._destroyCapability)||T.resolve()})()}}},(L,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.GenericScripting=void 0,n.docPropertiesLookup=function(u){return g.apply(this,arguments)};var i=o(3);function g(){return(g=d(function*(u){const T="".split("#")[0];let{info:R,metadata:E,contentDispositionFilename:P,contentLength:t}=yield u.getMetadata();if(!t){const{length:s}=yield u.getDownloadInfo();t=s}return dt(ut({},R),{baseURL:T,filesize:t,filename:P||(0,i.getPdfFilenameFromUrl)(""),metadata:null==E?void 0:E.getRaw(),authors:null==E?void 0:E.get("dc:creator"),numPages:u.numPages,URL:""})})).apply(this,arguments)}n.GenericScripting=class{constructor(r){this._ready=(0,i.loadScript)(r,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(r){var T=this;return d(function*(){(yield T._ready).create(r)})()}dispatchEventInSandbox(r){var T=this;return d(function*(){const R=yield T._ready;setTimeout(()=>R.dispatchEvent(r),0)})()}destroySandbox(){var r=this;return d(function*(){(yield r._ready).nukeSandbox()})()}}}],D={};function se(L){var n=D[L];if(void 0!==n)return n.exports;var o=D[L]={exports:{}};return te[L](o,o.exports,se),o.exports}var Y={};return(()=>{var L=Y;Object.defineProperty(L,"__esModule",{value:!0}),Object.defineProperty(L,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return g.AnnotationLayerBuilder}}),Object.defineProperty(L,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return n.DefaultAnnotationLayerFactory}}),Object.defineProperty(L,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return n.DefaultStructTreeLayerFactory}}),Object.defineProperty(L,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return n.DefaultTextLayerFactory}}),Object.defineProperty(L,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return n.DefaultXfaLayerFactory}}),Object.defineProperty(L,"DownloadManager",{enumerable:!0,get:function(){return y.DownloadManager}}),Object.defineProperty(L,"EventBus",{enumerable:!0,get:function(){return u.EventBus}}),Object.defineProperty(L,"GenericL10n",{enumerable:!0,get:function(){return r.GenericL10n}}),Object.defineProperty(L,"LinkTarget",{enumerable:!0,get:function(){return o.LinkTarget}}),Object.defineProperty(L,"NullL10n",{enumerable:!0,get:function(){return T.NullL10n}}),Object.defineProperty(L,"PDFFindController",{enumerable:!0,get:function(){return R.PDFFindController}}),Object.defineProperty(L,"PDFHistory",{enumerable:!0,get:function(){return E.PDFHistory}}),Object.defineProperty(L,"PDFLinkService",{enumerable:!0,get:function(){return o.PDFLinkService}}),Object.defineProperty(L,"PDFPageView",{enumerable:!0,get:function(){return P.PDFPageView}}),Object.defineProperty(L,"PDFScriptingManager",{enumerable:!0,get:function(){return t.PDFScriptingManager}}),Object.defineProperty(L,"PDFSinglePageViewer",{enumerable:!0,get:function(){return c.PDFSinglePageViewer}}),Object.defineProperty(L,"PDFViewer",{enumerable:!0,get:function(){return c.PDFViewer}}),Object.defineProperty(L,"ProgressBar",{enumerable:!0,get:function(){return i.ProgressBar}}),Object.defineProperty(L,"SimpleLinkService",{enumerable:!0,get:function(){return o.SimpleLinkService}}),Object.defineProperty(L,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return s.StructTreeLayerBuilder}}),Object.defineProperty(L,"TextLayerBuilder",{enumerable:!0,get:function(){return S.TextLayerBuilder}}),Object.defineProperty(L,"XfaLayerBuilder",{enumerable:!0,get:function(){return C.XfaLayerBuilder}}),Object.defineProperty(L,"parseQueryString",{enumerable:!0,get:function(){return i.parseQueryString}});var n=se(1),o=se(5),i=se(6),c=se(10),g=se(2),y=se(16),u=se(17),r=se(18),T=se(4),R=se(20),E=se(22),P=se(12),t=se(23),s=se(7),S=se(8),C=se(9)})(),Y})()},8850:(fe,v,Z)=>{"use strict";Z.r(v),Z.d(v,{DocuCenterModule:()=>Ot});var d=Z(8583),te=Z(3679),D=Z(639);let se=(()=>{class ee{}return ee.\u0275fac=function(X){return new(X||ee)},ee.\u0275mod=D.oAB({type:ee}),ee.\u0275inj=D.cJS({imports:[[d.ez,te.u5]]}),ee})();var Y=Z(6209),L=Z(279);function g(ee,K,X,ie){var Ee,he=arguments.length,_e=he<3?K:null===ie?ie=Object.getOwnPropertyDescriptor(K,X):ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_e=Reflect.decorate(ee,K,X,ie);else for(var Pe=ee.length-1;Pe>=0;Pe--)(Ee=ee[Pe])&&(_e=(he<3?Ee(_e):he>3?Ee(K,X,_e):Ee(K,X))||_e);return he>3&&_e&&Object.defineProperty(K,X,_e),_e}var m=Z(8552),l=Z(5319);const a=D.GuJ,b=Symbol("__destroy"),w=Symbol("__decoratorApplied");function h(ee){ee instanceof l.w&&ee.unsubscribe()}function I(ee,K){return function(){var X;if(ee&&ee.call(this),function(ee,K){ee[K]&&(ee[K].next(),ee[K].complete(),ee[K]=null)}(this,function(ee){return"string"==typeof ee?Symbol(`__destroy__${ee}`):b}()),K.arrayName)return function(ee){Array.isArray(ee)&&ee.forEach(h)}(this[K.arrayName]);if(K.checkProperties)for(const ie in this)(null===(X=K.blackList)||void 0===X?void 0:X.includes(ie))||h(this[ie])}}function Q(ee={}){return K=>{!function(ee){return!!ee[a]}(K)?function(ee,K){ee.prototype.ngOnDestroy=I(ee.prototype.ngOnDestroy,K)}(K,ee):function(ee,K){const X=ee.\u0275pipe;X.onDestroy=I(X.onDestroy,K)}(K,ee),function(ee){ee.prototype[w]=!0}(K)}}var x=Z(1878),q=Z(7709),ce=Z(6215),ne=Z(4402),re=Z(2759),de=Z(6837),me=Z(5345);function ge(ee){return K=>K.lift(new we(ee))}class we{constructor(K){this.notifier=K}call(K,X){const ie=new xe(K),he=(0,me.ft)(this.notifier,new me.IY(ie));return he&&!ie.seenValue?(ie.add(he),X.subscribe(ie)):ie}}class xe extends me.Ds{constructor(K){super(K),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var Ae=(()=>{return(ee=Ae||(Ae={})).DocumentLoad="documentLoad",ee.Namedaction="namedaction",ee.Outlineloaded="outlineloaded",ee.Pagechanging="pagechanging",ee.Pagemode="pagemode",ee.Pagerendered="pagerendered",ee.Pagesinit="pagesinit",ee.Pagesloaded="pagesloaded",ee.Presentationmodechanged="presentationmodechanged",ee.Scalechanged="scalechanging",ee.Switchcursortool="switchcursortool",ee.Updateviewarea="updateviewarea",Ae;var ee})();var Se=Z(5435),Re=Z(7393);class We extends l.w{constructor(K,X){super()}schedule(K,X=0){return this}}let ae=(()=>{class ee{constructor(X,ie=ee.now){this.SchedulerAction=X,this.now=ie}schedule(X,ie=0,he){return new this.SchedulerAction(this,X).schedule(he,ie)}}return ee.now=()=>Date.now(),ee})();class z extends ae{constructor(K,X=ae.now){super(K,()=>z.delegate&&z.delegate!==this?z.delegate.now():X()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(K,X=0,ie){return z.delegate&&z.delegate!==this?z.delegate.schedule(K,X,ie):super.schedule(K,X,ie)}flush(K){const{actions:X}=this;if(this.active)return void X.push(K);let ie;this.active=!0;do{if(ie=K.execute(K.state,K.delay))break}while(K=X.shift());if(this.active=!1,ie){for(;K=X.shift();)K.unsubscribe();throw ie}}}const pe=new z(class extends We{constructor(K,X){super(K,X),this.scheduler=K,this.work=X,this.pending=!1}schedule(K,X=0){if(this.closed)return this;this.state=K;const ie=this.id,he=this.scheduler;return null!=ie&&(this.id=this.recycleAsyncId(he,ie,X)),this.pending=!0,this.delay=X,this.id=this.id||this.requestAsyncId(he,this.id,X),this}requestAsyncId(K,X,ie=0){return setInterval(K.flush.bind(K,this),ie)}recycleAsyncId(K,X,ie=0){if(null!==ie&&this.delay===ie&&!1===this.pending)return X;clearInterval(X)}execute(K,X){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ie=this._execute(K,X);if(ie)return ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(K,X){let he,ie=!1;try{this.work(K)}catch(_e){ie=!0,he=!!_e&&_e||new Error(_e)}if(ie)return this.unsubscribe(),he}_unsubscribe(){const K=this.id,X=this.scheduler,ie=X.actions,he=ie.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==he&&ie.splice(he,1),null!=K&&(this.id=this.recycleAsyncId(X,K,null)),this.delay=null}});class ve{constructor(K,X){this.dueTime=K,this.scheduler=X}call(K,X){return X.subscribe(new Ce(K,this.dueTime,this.scheduler))}}class Ce extends Re.L{constructor(K,X,ie){super(K),this.dueTime=X,this.scheduler=ie,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(K){this.clearDebounce(),this.lastValue=K,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ue,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:K}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(K)}}clearDebounce(){const K=this.debouncedSubscription;null!==K&&(this.remove(K),K.unsubscribe(),this.debouncedSubscription=null)}}function Ue(ee){ee.debouncedNext()}var Ve=(()=>{return(ee=Ve||(Ve={}))[ee.DISABLED=0]="DISABLED",ee[ee.ENABLED=1]="ENABLED",ee[ee.ENHANCED=2]="ENHANCED",Ve;var ee})(),$e=Z(7243),Ge=Z(1894),Ke=Z(3565);const et={get:(ee,{})=>new Promise(X=>X(1))};let ze=class{constructor(K,X){this.ngZone=K,this.uploadCenterService=X,this.pageChange=new q.xQ,this.scaleChange=new q.xQ,this.canAutoResize=!0,this.renderText=!0,this.renderTextMode=Ve.ENABLED,this.stickToPage=!1,this.originalSize=!0,this.fitToPage=!1,this.showBorders=!1,this.currentPage=1,this.pageScrollTimeout=null,this.loadingTask=null,this.cMapsUrl="assets/cmaps",this.externalLinkTarget="_blank",this.destroy$=new q.xQ,this.pageCount$=new ce.X(0),this.setupResizeListener()}get pageCount(){return this.pageCount$.asObservable().pipe((0,Se.h)(x.N))}set page(K){let X=parseInt(K,10)||1;X=this.getValidPageNumber(X),this.currentPage=X}ngOnDestroy(){this.clear(),this.loadingTask=null,this.destroy$.next()}loadSVG(){}changePage(K){this.page=K,this.pdfPageViewer.scrollPageIntoView({pageNumber:K})}changeScaleBy(K){let X=this.uploadCenterService.isSVG?parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--viewer-scale").trim()):this.pdfPageViewer.currentScale;const ie=Math.round(100*X)/100;return!(ie<=.1&&K<0||ie>=32&&K>0||(this.uploadCenterService.isSVG?document.documentElement.style.setProperty("--viewer-scale",`${X+K}`):this.pdfPageViewer.currentScaleValue="number"==typeof K?`${X+K}`:K,0))}setScale(K){let X=this.uploadCenterService.isSVG?parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--viewer-scale").trim()):this.pdfPageViewer.currentScale;this.uploadCenterService.isSVG?document.documentElement.style.setProperty("--viewer-scale",`${this.scaleSVG(K)}`):this.pdfPageViewer.currentScaleValue="number"==typeof K?`${X+K}`:K}changeTool(K){this.pdfCursorTools.switchTool(K)}initWorker(){let K;window.pdfWorkerSrc="assets/pdf.worker.js",window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc&&(K=window.pdfWorkerSrc,(0,x.f)(m.GlobalWorkerOptions,"workerSrc",K))}loadPDF(K){var X;if(!K)throw new Error("There is no src for pdf loading");this.lastLoaded!==K?(this.clear(),this.loadingTask=m.getDocument(this.getDocumentParams(K)),(0,ne.D)(null===(X=this.loadingTask)||void 0===X?void 0:X.promise).subscribe(ie=>{this.pdfProxy=ie,this.pageCount$.next(ie.numPages),this.lastLoaded=K,this.pdfPageViewer||this.setupPageViewer(),this.resetPdfDocument(),this.update()})):this.update()}initialize(){this.setupPageViewer()}changeCanvasMaxPixels(K){this.pdfPageViewer._getVisiblePages().views.forEach(X=>{const ie=X.view;for(ie.renderingQueue.highestPriorityPage=ie.highestPriorityPage=ie.renderingId,ie.maxCanvasPixels=K,ie.annotationLayer&&(ie.annotationLayer.div=null),ie.renderingState=0;ie.div.firstChild;)ie.div.firstChild.remove();ie.reset(),ie.toggleLoadingIconSpinner(!0),ie.draw().finally(()=>ie.toggleLoadingIconSpinner(!1))})}resetPdfDocument(){this.pdfPageViewer.setDocument(this.pdfProxy),this.pdfThumbnailViewer.setDocument(this.pdfProxy),this.pdfPageLinkService.setDocument(this.pdfProxy,null)}scaleSVG(K){const X=document.querySelector(".viewer-container");let{width:ie,height:he}=(null==X?void 0:X.firstElementChild).getBoundingClientRect(),{width:_e,height:Ee}=X.getBoundingClientRect();const Pe=_e/ie,Ne=Ee/he;switch(K){case"page-actual":return 1;case"page-width":return Pe;case"page-height":return Ne;case"page-fit":return Math.min(Pe,Ne);case"auto":return Math.min(1.25,Pe);default:return parseFloat(K)}}setupPageViewer(){(0,x.f)(m,"disableTextLayer",!this.renderText),this.eventBus=((ee,K)=>{const X=new ee.EventBus;return((ee,K)=>{(0,re.R)(ee,Ae.DocumentLoad).pipe(ge(K)).subscribe(()=>{const X=new CustomEvent(Ae.DocumentLoad,{bubbles:!0,cancelable:!0,detail:{}});window.dispatchEvent(X)}),(0,re.R)(ee,Ae.Pagerendered).pipe(ge(K)).subscribe(({pageNumber:X,cssTransform:ie,source:he})=>{const _e=new CustomEvent(Ae.Pagerendered,{bubbles:!0,cancelable:!0,detail:{pageNumber:X,cssTransform:ie}});he.div.dispatchEvent(_e)}),(0,re.R)(ee,Ae.Pagechanging).pipe(ge(K)).subscribe(({pageNumber:X,source:ie})=>{const he=new UIEvent(Ae.Pagechanging);he.pageNumber=X,ie.container.dispatchEvent(he)}),(0,re.R)(ee,Ae.Pagesinit).pipe(ge(K)).subscribe(({source:X})=>{const ie=new CustomEvent(Ae.Pagesinit,{bubbles:!0,cancelable:!0,detail:null});X.container.dispatchEvent(ie)}),(0,re.R)(ee,Ae.Pagesloaded).pipe(ge(K)).subscribe(({pagesCount:X,source:ie})=>{const he=new CustomEvent(Ae.Pagesloaded,{bubbles:!0,cancelable:!0,detail:{pagesCount:X}});ie.container.dispatchEvent(he)}),(0,re.R)(ee,Ae.Scalechanged).pipe(ge(K)).subscribe(({scale:X,presetValue:ie,source:he})=>{const _e=new UIEvent(Ae.Scalechanged);_e.scale=X,_e.presetValue=ie,he.container.dispatchEvent(_e)}),(0,re.R)(ee,Ae.Updateviewarea).pipe(ge(K)).subscribe(({location:X,source:ie})=>{const he=new UIEvent(Ae.Updateviewarea);he.location=X,ie.container.dispatchEvent(he)}),(0,re.R)(ee,Ae.Pagemode).pipe(ge(K)).subscribe(({mode:X,source:ie})=>{const he=new CustomEvent(Ae.Pagemode,{bubbles:!0,cancelable:!0,detail:{mode:X}});ie.pdfViewer.container.dispatchEvent(he)}),(0,re.R)(ee,Ae.Namedaction).pipe(ge(K)).subscribe(({action:X,source:ie})=>{const he=new CustomEvent(Ae.Namedaction,{bubbles:!0,cancelable:!0,detail:{action:X}});ie.pdfViewer.container.dispatchEvent(he)}),(0,re.R)(ee,Ae.Presentationmodechanged).pipe(ge(K)).subscribe(({active:X,switchInProgress:ie})=>{const he=new CustomEvent(Ae.Presentationmodechanged,{bubbles:!0,cancelable:!0,detail:{active:X,switchInProgress:ie}});window.dispatchEvent(he)}),(0,re.R)(ee,Ae.Outlineloaded).pipe(ge(K)).subscribe(({outlineCount:X,source:ie})=>{const he=new CustomEvent(Ae.Outlineloaded,{bubbles:!0,cancelable:!0,detail:{outlineCount:X}});ie.container.dispatchEvent(he)})})(X,K),X})(de,this.destroy$),(0,re.R)(this.eventBus,Ae.Scalechanged).subscribe(({scale:ie})=>{this.scaleChange.next(ie)}),(0,re.R)(this.eventBus,Ae.Pagechanging).subscribe(({pageNumber:ie})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this.pageChange.next(ie)},100)}),this.pdfPageLinkService=new de.PDFLinkService(Object.assign({},this.getPDFLinkServiceConfig()));const K=new Ke.l;K.onIdle=this.clear.bind(this),this.pdfRenderingQueue=K,this.pdfThumbnailViewer=new Ge.p({container:document.getElementById("thumbnailView"),eventBus:this.eventBus,renderingQueue:K,linkService:this.pdfPageLinkService,l10n:et}),this.pdfRenderingQueue.setThumbnailViewer(this.pdfThumbnailViewer),this.pdfCursorTools=new $e.V1({container:this.container.nativeElement,eventBus:this.eventBus});const X=Object.assign(Object.assign({},this.commonPdfOptions()),{linkService:this.pdfPageLinkService});this.pdfPageViewer=new de.PDFViewer(X),this.pdfPageLinkService.setViewer(this.pdfPageViewer),this.pdfRenderingQueue.setViewer(this.pdfPageViewer)}getValidPageNumber(K){var X,ie,he,_e;return K<1?1:K>(null!==(ie=null===(X=this.pdfProxy)||void 0===X?void 0:X.numPages)&&void 0!==ie?ie:0)?null!==(_e=null===(he=this.pdfProxy)||void 0===he?void 0:he.numPages)&&void 0!==_e?_e:0:K}update(){this.page=this.currentPage,this.render()}updateSize(){var K;(0,ne.D)(null===(K=this.pdfProxy)||void 0===K?void 0:K.getPage(this.pdfPageViewer.currentPageNumber)).subscribe(X=>{X.getViewport({scale:this.zoom,rotation:0}),this.pdfThumbnailViewer.forceRendering()})}render(){this.currentPage=this.getValidPageNumber(this.currentPage),this.stickToPage&&setTimeout(()=>{this.pdfPageViewer.currentPageNumber=this.page}),this.updateSize()}commonPdfOptions(){return{useOnlyCssZoom:!1,eventBus:this.eventBus,container:this.element.nativeElement.querySelector(".viewer-container"),viewer:this.element.nativeElement.querySelector(".viewer"),removePageBorders:!this.showBorders,textLayerMode:this.renderText?this.renderTextMode:Ve.DISABLED}}getPDFLinkServiceConfig(){const K={eventBus:this.eventBus},X=this.getLinkTarget(this.externalLinkTarget);return X&&(K.externalLinkTarget=X),K}getLinkTarget(K){switch(K){case"blank":return m.LinkTarget.BLANK;case"none":return m.LinkTarget.NONE;case"self":return m.LinkTarget.SELF;case"parent":return m.LinkTarget.PARENT;case"top":return m.LinkTarget.TOP}return null}clear(){var K;this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this.pdfProxy&&(this.pdfProxy.destroy(),null===(K=this.pdfThumbnailViewer)||void 0===K||K.setDocument(null),this.pdfPageLinkService.setDocument(null,null))}getDocumentParams(K){const X=typeof K;if(!this.cMapsUrl)return K;const ie={cMapUrl:this.cMapsUrl,cMapPacked:!0};return"string"===X?ie.url=K:"object"===X&&(void 0!==K.byteLength?ie.data=K:Object.assign(ie,K)),ie}setupResizeListener(){this.ngZone.runOutsideAngular(()=>{(0,re.R)(window,"resize").pipe(function(ee,K=pe){return X=>X.lift(new ve(ee,K))}(100),(0,Se.h)(()=>this.canAutoResize&&!!this.pdfProxy),ge(this.destroy$)).subscribe(()=>{this.updateSize()})})}};ze.\u0275fac=function(K){return new(K||ze)(D.LFG(D.R0b),D.LFG(L.B))},ze.\u0275prov=D.Yz7({token:ze,factory:ze.\u0275fac}),ze=g([Q()],ze);var Ye=(()=>{return(ee=Ye||(Ye={})).Auto="auto",ee.Actual="page-actual",ee.Fit="page-fit",ee.Height="page-height",ee.Width="page-width",Ye;var ee})();const tt=[{id:Ye.Auto,name:"Automatic Zoom"},{id:"custom",name:""},{id:Ye.Actual,name:"Actual Size"},{id:Ye.Fit,name:"Page Fit"},{id:Ye.Height,name:"Page Height"},{id:Ye.Width,name:"Page Width"},{id:"0.5",name:"50%"},{id:"0.75",name:"75%"},{id:"1",name:"100%"},{id:"1.25",name:"125%"},{id:"1.5",name:"150%"},{id:"2",name:"200%"},{id:"3",name:"300%"},{id:"4",name:"400%"},{id:"16",name:"1600%"},{id:"32",name:"3200%"}];let Je=(()=>{class ee{constructor(){this.sidebarVisible$=new ce.X(!1),this.zoomScale$=new ce.X([]),this.zoomScale$.next(tt)}get sidebarVisible(){return this.sidebarVisible$.asObservable()}get zoomScale(){return this.zoomScale$.asObservable()}toggleSidebar(){this.sidebarVisible$.next(!this.sidebarVisible$.value)}}return ee.\u0275fac=function(X){return new(X||ee)},ee.\u0275prov=D.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})();var Oe=(()=>{return(ee=Oe||(Oe={}))[ee.ToLeft=-1]="ToLeft",ee[ee.ToRight=1]="ToRight",Oe;var ee})();class Qe{constructor(K,X){this.x=K,this.y=X}}let nt=(()=>{class ee{constructor(){this.highlighters=[],this.highlightedElements=[]}initSubscribers(X){(0,re.R)(X,"mousemove").subscribe(ie=>this.highlight(ie)),(0,re.R)(X,"mouseover").subscribe(ie=>this.curElement=ie.target),(0,re.R)(X,"mousedown").subscribe(()=>this.isMouseDown=!0),(0,re.R)(document,"mouseup").subscribe(()=>this.isMouseDown=!1),(0,re.R)(document,"mousedown").subscribe(()=>{this.highlighters.forEach(ie=>ie.remove()),this.highlighters=[],this.highlightedElements=[],this.firstElement=void 0,this.firstElementDirection=void 0})}highlight(X){let ie=this.curElement;this.isMouseDown&&(!this.highlightedElements.length&&!this.firstElement&&(ie=this.findElementInSquare(X.clientX,X.clientY,5)||this.curElement,"path"===ie.tagName&&(this.firstElement=ie,this.firstElementDirection=X.movementX>0?Oe.ToRight:Oe.ToLeft)),X.movementX>=0?this.moveTo(Oe.ToRight,ie,X):X.movementX<0&&this.moveTo(Oe.ToLeft,ie,X),X.movementY>=0?this.handleGoingDown(X):this.handleGoingUp(X))}handleGoingDown(X){}handleGoingUp(X){}moveTo(X,ie,he){const _e=this.highlightedElements[this.highlightedElements.length-1],Ee=new Qe(he.clientX,he.clientY);this.isGoingBack(X)?this.handleHighlightingDownstairs(X,he):_e?this.handleHighlightingUpstairs(_e,X,Ee):this.highlightElement(this.firstElement||ie,X)}handleHighlightingUpstairs(X,ie,he){const _e=Array();let Ee=X;for(;this.isOnSameLine(Ee);){const Pe=this.getNeighbor(Ee,ie);if(!Pe)break;_e.push(Pe),Ee=Pe}_e.forEach(Pe=>{if(!Pe||!this.isOnSameLine(Pe))return;const{x:Ne}=Pe.getBoundingClientRect();(ie===Oe.ToRight?Ne<=he.x:Ne>=he.x)&&this.highlightElement(Pe,ie)})}handleHighlightingDownstairs(X,ie){this.highlightedElements.forEach(he=>{const{x:_e}=he.getBoundingClientRect();if((X===Oe.ToRight?_e<=ie.x:_e>=ie.x)&&this.deHighlightElement(he),!this.highlightedElements.length){const Pe=this.firstElementDirection===X?this.firstElement:this.getNeighbor(this.firstElement,X);if(!Pe||!this.isOnSameLine(Pe))return;this.highlightElement(Pe,X)}})}getRowElements(X){const ie=Array();let he=X;const _e=Array(),Ee=Array();for(;this.isOnSameLine(he);){const Pe=this.getNeighbor(he,Oe.ToLeft);if(!Pe)break;_e.push(he),ie.push(he),he=Pe}if(he=_e[0],!he)return[_e];for(;this.isOnSameLine(he);){const Pe=this.getNeighbor(he,Oe.ToRight);if(!Pe)break;_e.includes(he)||Ee.push(he),he=Pe}return[_e.filter(Pe=>!(Pe instanceof SVGRectElement)),Ee.filter(Pe=>!(Pe instanceof SVGRectElement))]}isOnSameLine(X){if(!this.firstElement||this.firstElement===X)return!0;const he=this.highlightedElements.length?this.highlightedElements:[this.firstElement],_e=Array(),Ee=Array(),Pe=Array();he.forEach(Xe=>{const Ze=Xe.getBoundingClientRect();_e.push(Ze.y),Ee.push(Ze.y+Ze.height/2),Pe.push(Ze.y+Ze.height)});const Ne=X.getBoundingClientRect(),Le=Ne.y>=Math.min(..._e)-6&&Ne.y<=Math.max(..._e)+6,qe=Ne.y+Ne.height/2>=Math.min(...Ee)-6&&Ne.y+Ne.height/2<=Math.max(...Ee)+6,it=Ne.y+Ne.height>=Math.min(...Pe)-6&&Ne.y+Ne.height<=Math.max(...Pe)+6;return Le||qe||it}deHighlightElement(X){[X.previousElementSibling,X.nextElementSibling].forEach(he=>{he instanceof SVGRectElement&&he.remove()}),this.highlightedElements=this.highlightedElements.filter(he=>he!==X)}getNeighbor(X,ie){if(!X)return null;const he=ie===Oe.ToRight?X.nextElementSibling:X.previousElementSibling;return he instanceof SVGElement?he:this.getNeighbor(he,ie)}isGoingBack(X){const ie=this.highlightedElements[this.highlightedElements.length-1];return(X===Oe.ToLeft?null==ie?void 0:ie.previousElementSibling:null==ie?void 0:ie.nextElementSibling)instanceof SVGRectElement}highlightElement(X,ie){if("path"!==X.tagName||this.highlightedElements.includes(X))return;const he=this.createHighlighter(X);ie===Oe.ToRight?X.before(he):X.after(he),this.highlighters.push(he),this.highlightedElements.push(X)}createHighlighter(X){const[ie,he]=this.getCoordinates(X),{width:_e,height:Ee}=X.getBoundingClientRect(),Pe=document.createElementNS("http://www.w3.org/2000/svg","rect");return Pe.setAttribute("x",String(ie)),Pe.setAttribute("y",String(he)),Pe.setAttribute("width",String(_e)),Pe.setAttribute("height",String(Ee)),Pe.setAttribute("fill","rgba(255, 0, 0, .3)"),Pe}getCoordinates(X){const ie=X.getBBox();return[ie.x,ie.y]}findElementInSquare(X,ie,he){const _e=new Qe(X-he,ie-he),Ee=new Qe(X+he,ie+he);let Pe;for(let Ne=_e.x;Ne<=Ee.x;Ne++)for(let Le=_e.y;Le<=Ee.y;Le++){const qe=document.elementFromPoint(Ne,Le);"path"===(null==qe?void 0:qe.tagName)&&(Pe=qe)}return Pe}}return ee.\u0275fac=function(X){return new(X||ee)},ee.\u0275prov=D.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})(),St=(()=>{class ee{constructor(X){this.uploadCenterService=X,this.fileType="",setTimeout(()=>{this.fileType=this.uploadCenterService.isSVG?"SVG":"PDF"})}}return ee.\u0275fac=function(X){return new(X||ee)(D.Y36(L.B))},ee.\u0275cmp=D.Xpm({type:ee,selectors:[["app-viewer-toolbar"]],decls:4,vars:1,consts:[["href","/"]],template:function(X,ie){1&X&&(D.TgZ(0,"a",0),D._uU(1,"go to upload center "),D.qZA(),D.TgZ(2,"div"),D._uU(3),D.qZA()),2&X&&(D.xp6(3),D.hij(" ",ie.fileType," "))},styles:["[_nghost-%COMP%]    {display:flex;width:100%;justify-content:space-evenly;align-items:center;height:var(--view-toolbar-height);box-shadow:0 1px 6px 5px #0000000f;z-index:1}"]}),ee})();var ot=(()=>{return(ee=ot||(ot={}))[ee.Select=0]="Select",ee[ee.Hand=1]="Hand",ee[ee.Zoom=2]="Zoom",ot;var ee})();const vt=[{id:"16777216",name:"4096"},{id:"67108864",name:"8192"}],Ct=["zoomSelect"];function Pt(ee,K){if(1&ee){const X=D.EpF();D.TgZ(0,"div",0),D.TgZ(1,"button",1),D.NdJ("click",function(){return D.CHM(X),D.oxw().changePage(1)}),D._uU(2,"first"),D.qZA(),D.TgZ(3,"button",1),D.NdJ("click",function(){D.CHM(X);const he=D.oxw();return he.changePage(he.currentPage-1)}),D._uU(4,"prev"),D.qZA(),D._UZ(5,"input",6),D.TgZ(6,"span"),D._uU(7),D.qZA(),D.TgZ(8,"button",1),D.NdJ("click",function(){D.CHM(X);const he=D.oxw();return he.changePage(he.currentPage+1)}),D._uU(9,"next"),D.qZA(),D.TgZ(10,"button",1),D.NdJ("click",function(){D.CHM(X);const he=D.oxw();return he.changePage(he.pageCount)}),D._uU(11,"last"),D.qZA(),D.qZA()}if(2&ee){const X=D.oxw();D.xp6(5),D.Q6J("value",X.currentPage),D.xp6(2),D.Oqu(X.pageCount)}}function wt(ee,K){if(1&ee&&(D.TgZ(0,"option",10),D._uU(1),D.qZA()),2&ee){const X=K.$implicit;D.Q6J("value",X.id),D.xp6(1),D.hij(" ",X.name," ")}}function Tt(ee,K){if(1&ee){const X=D.EpF();D.TgZ(0,"div",0),D.TgZ(1,"label"),D._uU(2,"Canvas Pixel size (Pdf)"),D.qZA(),D.TgZ(3,"select",7,8),D.NdJ("change",function(he){return D.CHM(X),D.oxw().changeCanvasSelect(null==he?null:he.target)}),D.YNc(5,wt,2,2,"option",9),D.qZA(),D.qZA()}if(2&ee){const X=D.oxw();D.xp6(5),D.Q6J("ngForOf",X.canvasSizes)}}const Et=function(ee){return{hidden:ee}};function xt(ee,K){if(1&ee&&(D.TgZ(0,"option",11),D._uU(1),D.qZA()),2&ee){const X=K.$implicit;D.Q6J("ngClass",D.VKq(3,Et,"custom"===X.id))("value",X.id),D.xp6(1),D.hij(" ",X.name," ")}}let st=class{constructor(K,X,ie){this.toolService=K,this.viewerService=X,this.uploadCenterService=ie,this.currentPage=1,this.zoomScale=[],this.canvasSizes=vt,this.viewerService.pageChange.subscribe(he=>{this.currentPage=he}),this.viewerService.scaleChange.subscribe(he=>{const _e=this.zoomScale.findIndex(Pe=>"custom"===Pe.id),Ee=Math.round(100*he);this.zoomSelect.nativeElement.options[_e].innerText=`${Ee}%`}),this.viewerService.pageCount.subscribe(he=>{he<1||(this.pageCount=he)}),this.toolService.zoomScale.subscribe(he=>{this.zoomScale=he}),this.documentWheel()}changeCanvasSelect(K){this.viewerService.changeCanvasMaxPixels(parseFloat(K.value))}toggleSide(){this.toolService.toggleSidebar()}changePage(K){this.viewerService.changePage(K)}changeScale(K,X=!0){if(!this.viewerService.changeScaleBy(.1*K))return;const ie=this.zoomScale.findIndex(he=>"custom"===he.id);if(X&&(this.zoomSelect.nativeElement.options[ie].selected=!0,this.uploadCenterService.isSVG)){const he=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--viewer-scale").trim());this.zoomSelect.nativeElement.options[ie].innerText=`${Math.round(100*he)}%`}}changeScaleSelect(K){this.viewerService.setScale(K.value)}changeCursorTool(K){console.log(K)}toggleHand(){this.isHand=!this.isHand,this.viewerService.changeTool(this.isHand?ot.Hand:ot.Select)}onKeydownHandler(K){const X="+"===K.key||"="===K.key;K.ctrlKey&&(X||"-"===K.key||"_"===K.key)&&(K.preventDefault(),this.changeScale(X?1:-1))}documentWheel(){document.getElementsByTagName("body")[0].addEventListener("wheel",K=>{K.ctrlKey&&(K.preventDefault(),this.changeScale(K.deltaY>0?-1:1))},{passive:!1})}};st.\u0275fac=function(K){return new(K||st)(D.Y36(Je),D.Y36(ze),D.Y36(L.B))},st.\u0275cmp=D.Xpm({type:st,selectors:[["app-toolbar"]],viewQuery:function(K,X){if(1&K&&D.Gf(Ct,5),2&K){let ie;D.iGM(ie=D.CRH())&&(X.zoomSelect=ie.first)}},hostBindings:function(K,X){1&K&&D.NdJ("keydown",function(he){return X.onKeydownHandler(he)},!1,D.evT)},decls:15,vars:3,consts:[[1,"button-container"],[3,"click"],["class","button-container",4,"ngIf"],["title","Zoom",3,"change"],["zoomSelect",""],[3,"ngClass","value",4,"ngFor","ngForOf"],["type","number","size","4","min","1",3,"value"],["title","Canvas Max Pixels",3,"change"],["maxPixelsSelect",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngClass","value"]],template:function(K,X){1&K&&(D.TgZ(0,"div",0),D.TgZ(1,"button",1),D.NdJ("click",function(){return X.toggleSide()}),D._uU(2,"toggle side"),D.qZA(),D.qZA(),D.YNc(3,Pt,12,2,"div",2),D.YNc(4,Tt,6,1,"div",2),D.TgZ(5,"div",0),D.TgZ(6,"label"),D._uU(7,"Scale"),D.qZA(),D.TgZ(8,"button",1),D.NdJ("click",function(){return X.changeScale(-1)}),D._uU(9,"-"),D.qZA(),D.TgZ(10,"button",1),D.NdJ("click",function(){return X.changeScale(1)}),D._uU(11,"+"),D.qZA(),D.TgZ(12,"select",3,4),D.NdJ("change",function(he){return X.changeScaleSelect(null==he?null:he.target)}),D.YNc(14,xt,2,5,"option",5),D.qZA(),D.qZA()),2&K&&(D.xp6(3),D.Q6J("ngIf",!X.uploadCenterService.isSVG),D.xp6(1),D.Q6J("ngIf",!X.uploadCenterService.isSVG),D.xp6(10),D.Q6J("ngForOf",X.zoomScale))},directives:[d.O5,d.sg,te.YN,te.Kr,d.mk],styles:["[_nghost-%COMP%]    {display:flex;justify-content:space-between;align-items:center;height:var(--toolbar-height);box-shadow:0 1px 6px 5px #0000000f}[_nghost-%COMP%]     .button-container{display:flex}[_nghost-%COMP%]     .button-container>*{margin-left:.25em}[_nghost-%COMP%]     .hidden{display:none}"]}),st=g([Q()],st);const kt=["viewerContainer"];(0,x.f)(m,"verbosity",m.VerbosityLevel.ERRORS);let rt=class{constructor(K,X,ie,he,_e){this.element=K,this.viewerService=X,this.ToolService=ie,this.uploadCenterService=he,this.highlightingService=_e,this.isVisible=!1,this.isInitialized=!1,this.uploadCenterService.isSVG||this.viewerService.initWorker(),this.ToolService.sidebarVisible.subscribe(Ee=>{document.documentElement.style.setProperty("--sidebar-width",Ee?"200px":"0px")}),this.uploadCenterService.src.subscribe(Ee=>{this.src=Ee,this.isInitialized=!0,this.uploadCenterService.isSVG||this.viewerService.loadPDF(Ee)})}ngAfterViewChecked(){if(this.isInitialized)return;const K=this.viewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=K?!1===this.isVisible&&null!=K&&(this.isVisible=!0,setTimeout(()=>{this.uploadCenterService.isSVG||(this.initialize(),this.viewerService.loadPDF(this.src))})):this.isVisible=!1}ngOnInit(){this.initialize()}ngAfterViewInit(){this.viewerService.element=this.element,this.viewerService.container=this.viewerContainer,this.uploadCenterService.isSVG&&this.loadSVG()}initialize(){!this.isVisible||(this.isInitialized=!0,this.viewerService.initialize())}loadSVG(){this.createPages(),setTimeout(()=>{this.viewerService.loadSVG()})}createPages(){this.src.forEach(K=>{const X=document.createElement("div");X.innerHTML=K,X.className="page--svg",this.viewerContainer.nativeElement.firstChild.appendChild(X)})}};function Rt(ee,K){1&ee&&D._UZ(0,"app-viewer")}function Mt(ee,K){1&ee&&(D.TgZ(0,"a",2),D._uU(1,"go to upload center "),D.qZA())}rt.\u0275fac=function(K){return new(K||rt)(D.Y36(D.SBq),D.Y36(ze),D.Y36(Je),D.Y36(L.B),D.Y36(nt))},rt.\u0275cmp=D.Xpm({type:rt,selectors:[["app-viewer"]],viewQuery:function(K,X){if(1&K&&D.Gf(kt,5),2&K){let ie;D.iGM(ie=D.CRH())&&(X.viewerContainer=ie.first)}},features:[D._Bn([ze])],decls:8,vars:0,consts:[[1,"viewer-wrapper"],[1,"side"],["id","thumbnailView"],[1,"viewer-container"],["viewerContainer",""],[1,"viewer"],[1,"toolbar"]],template:function(K,X){1&K&&(D.TgZ(0,"div",0),D.TgZ(1,"aside",1),D._UZ(2,"div",2),D.qZA(),D.TgZ(3,"div",3,4),D._UZ(5,"div",5),D.qZA(),D._UZ(6,"app-viewer-toolbar"),D.qZA(),D._UZ(7,"app-toolbar",6))},directives:[St,st],styles:['@font-face{font-family:var(--font-name);src:var(--font-url)}[_nghost-%COMP%]    {width:100%;height:100%;display:flex}[_nghost-%COMP%]     .viewer-container{overflow-x:auto;position:absolute;top:var(--view-toolbar-height);bottom:var(--toolbar-height);left:var(--sidebar-width);width:calc(100% - var(--sidebar-width));height:calc(100% - var(--toolbar-height) - var(--view-toolbar-height));transition-duration:.2s;transition-timing-function:ease;background:#e8e8eb}[_nghost-%COMP%]     .viewer-container svg{margin-left:auto;margin-right:auto;display:block;background:white}[_nghost-%COMP%]     .side{position:absolute;top:var(--view-toolbar-height);width:var(--sidebar-width);height:calc(100% - var(--toolbar-height) - var(--view-toolbar-height));overflow:auto}[_nghost-%COMP%]     .viewer-wrapper{display:flex;width:100%}[_nghost-%COMP%]     .toolbar{position:fixed;bottom:0;width:100%}[_nghost-%COMP%]     .grab-to-pan-grab{cursor:url(/assets/images/grab.cur),move!important;cursor:grab!important}[_nghost-%COMP%]     .grab-to-pan-grab *:not(input):not(textarea):not(button):not(select):not(:link){cursor:inherit!important}[_nghost-%COMP%]     .grab-to-pan-grab:active, [_nghost-%COMP%]     .grab-to-pan-grabbing{cursor:url(/assets/images/grabbing.cur),move!important;cursor:grabbing!important;z-index:50000}[_nghost-%COMP%]     .textLayer{position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1}[_nghost-%COMP%]     .textLayer span{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{background-color:#0036ff21;border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select{background-color:#0036ff21;border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-color:#0036ff21;border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%;-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{background-color:#000;content:"";display:block;position:absolute;height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:"";display:block;position:absolute;border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:115%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popup span{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popup p{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .viewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .viewer .page{direction:ltr;width:816px;height:1056px;margin:1px auto -8px;position:relative;overflow:visible;border:9px solid transparent;background-clip:content-box;border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .viewer .page--svg{margin:0 auto 10px;zoom:var(--viewer-scale)}[_nghost-%COMP%]     .viewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .viewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .viewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQAAP///wAAAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJBwAAACwAAAAAGAAYAAAFriAgjiQAQWVaDgr5POSgkoTDjFE0NoQ8iw8HQZQTDQjDn4jhSABhAAOhoTqSDg7qSUQwxEaEwwFhXHhHgzOA1xshxAnfTzotGRaHglJqkJcaVEqCgyoCBQkJBQKDDXQGDYaIioyOgYSXA36XIgYMBWRzXZoKBQUMmil0lgalLSIClgBpO0g+s26nUWddXyoEDIsACq5SsTMMDIECwUdJPw0Mzsu0qHYkw72bBmozIQAh+QQJBwAAACwAAAAAGAAYAAAFsCAgjiTAMGVaDgR5HKQwqKNxIKPjjFCk0KNXC6ATKSI7oAhxWIhezwhENTCQEoeGCdWIPEgzESGxEIgGBWstEW4QCGGAIJEoxGmGt5ZkgCRQQHkGd2CESoeIIwoMBQUMP4cNeQQGDYuNj4iSb5WJnmeGng0CDGaBlIQEJziHk3sABidDAHBgagButSKvAAoyuHuUYHgCkAZqebw0AgLBQyyzNKO3byNuoSS8x8OfwIchACH5BAkHAAAALAAAAAAYABgAAAW4ICCOJIAgZVoOBJkkpDKoo5EI43GMjNPSokXCINKJCI4HcCRIQEQvqIOhGhBHhUTDhGo4diOZyFAoKEQDxra2mAEgjghOpCgz3LTBIxJ5kgwMBShACREHZ1V4Kg1rS44pBAgMDAg/Sw0GBAQGDZGTlY+YmpyPpSQDiqYiDQoCliqZBqkGAgKIS5kEjQ21VwCyp76dBHiNvz+MR74AqSOdVwbQuo+abppo10ssjdkAnc0rf8vgl8YqIQAh+QQJBwAAACwAAAAAGAAYAAAFrCAgjiQgCGVaDgZZFCQxqKNRKGOSjMjR0qLXTyciHA7AkaLACMIAiwOC1iAxCrMToHHYjWQiA4NBEA0Q1RpWxHg4cMXxNDk4OBxNUkPAQAEXDgllKgMzQA1pSYopBgonCj9JEA8REQ8QjY+RQJOVl4ugoYssBJuMpYYjDQSliwasiQOwNakALKqsqbWvIohFm7V6rQAGP6+JQLlFg7KDQLKJrLjBKbvAor3IKiEAIfkECQcAAAAsAAAAABgAGAAABbUgII4koChlmhokw5DEoI4NQ4xFMQoJO4uuhignMiQWvxGBIQC+AJBEUyUcIRiyE6CR0CllW4HABxBURTUw4nC4FcWo5CDBRpQaCoF7VjgsyCUDYDMNZ0mHdwYEBAaGMwwHDg4HDA2KjI4qkJKUiJ6faJkiA4qAKQkRB3E0i6YpAw8RERAjA4tnBoMApCMQDhFTuySKoSKMJAq6rD4GzASiJYtgi6PUcs9Kew0xh7rNJMqIhYchACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJEAQZZo2JIKQxqCOjWCMDDMqxT2LAgELkBMZCoXfyCBQiFwiRsGpku0EshNgUNAtrYPT0GQVNRBWwSKBMp98P24iISgNDAS4ipGA6JUpA2WAhDR4eWM/CAkHBwkIDYcGiTOLjY+FmZkNlCN3eUoLDmwlDW+AAwcODl5bYl8wCVYMDw5UWzBtnAANEQ8kBIM0oAAGPgcREIQnVloAChEOqARjzgAQEbczg8YkWJq8nSUhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJGAYZZoOpKKQqDoORDMKwkgwtiwSBBYAJ2owGL5RgxBziQQMgkwoMkhNqAEDARPSaiMDFdDIiRSFQowMXE8Z6RdpYHWnEAWGPVkajPmARVZMPUkCBQkJBQINgwaFPoeJi4GVlQ2Qc3VJBQcLV0ptfAMJBwdcIl+FYjALQgimoGNWIhAQZA4HXSpLMQ8PIgkOSHxAQhERPw7ASTSFyCMMDqBTJL8tf3y2fCEAIfkECQcAAAAsAAAAABgAGAAABa8gII4k0DRlmg6kYZCoOg5EDBDEaAi2jLO3nEkgkMEIL4BLpBAkVy3hCTAQKGAznM0AFNFGBAbj2cA9jQixcGZAGgECBu/9HnTp+FGjjezJFAwFBQwKe2Z+KoCChHmNjVMqA21nKQwJEJRlbnUFCQlFXlpeCWcGBUACCwlrdw8RKGImBwktdyMQEQciB7oACwcIeA4RVwAODiIGvHQKERAjxyMIB5QlVSTLYLZ0sW8hACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWPM5wNiV0UDUIBNkdoepTfMkA7thIECiyRtUAGq8fm2O4jIBgMBA1eAZ6Knx+gHaJR4QwdCMKBxEJRggFDGgQEREPjjAMBQUKIwIRDhBDC2QNDDEKoEkDoiMHDigICGkJBS2dDA6TAAnAEAkCdQ8ORQcHTAkLcQQODLPMIgIJaCWxJMIkPIoAt3EhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWHM5wNiV0UN3xdLiqr+mENcWpM9TIbrsBkEck8oC0DQqBQGGIz+t3eXtob0ZTPgNrIwQJDgtGAgwCWSIMDg4HiiUIDAxFAAoODwxDBWINCEGdSTQkCQcoegADBaQ6MggHjwAFBZUFCm0HB0kJCUy9bAYHCCPGIwqmRq0jySMGmj6yRiEAIfkECQcAAAAsAAAAABgAGAAABbIgII4k0DRlmg6kYZCsOg4EKhLE2BCxDOAxnIiW84l2L4BLZKipBopW8XRLDkeCiAMyMvQAA+uON4JEIo+vqukkKQ6RhLHplVGN+LyKcXA4Dgx5DWwGDXx+gIKENnqNdzIDaiMECwcFRgQCCowiCAcHCZIlCgICVgSfCEMMnA0CXaU2YSQFoQAKUQMMqjoyAglcAAyBAAIMRUYLCUkFlybDeAYJryLNk6xGNCTQXY0juHghACH5BAkHAAAALAAAAAAYABgAAAWzICCOJNA0ZVoOAmkY5KCSSgSNBDE2hDyLjohClBMNij8RJHIQvZwEVOpIekRQJyJs5AMoHA+GMbE1lnm9EcPhOHRnhpwUl3AsknHDm5RN+v8qCAkHBwkIfw1xBAYNgoSGiIqMgJQifZUjBhAJYj95ewIJCQV7KYpzBAkLLQADCHOtOpY5PgNlAAykAEUsQ1wzCgWdCIdeArczBQVbDJ0NAqyeBb64nQAGArBTt8R8mLuyPyEAOwAAAAAAAAAAAA==) center no-repeat}[_nghost-%COMP%]     .viewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .viewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .viewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .viewer.scrollHorizontal, [_nghost-%COMP%]     .viewer.scrollWrapped{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .viewer.removePageBorders, [_nghost-%COMP%]     .viewer.scrollHorizontal .spread, [_nghost-%COMP%]     .viewer.scrollWrapped .spread{margin-left:0;margin-right:0;height:100%}[_nghost-%COMP%]     .viewer.scrollHorizontal .page, [_nghost-%COMP%]     .viewer.scrollWrapped .page, [_nghost-%COMP%]     .viewer.scrollHorizontal .spread, [_nghost-%COMP%]     .viewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .viewer.scrollHorizontal .page, [_nghost-%COMP%]     .viewer.scrollWrapped .page{margin-left:-3.5px;margin-right:-3.5px}[_nghost-%COMP%]     .viewer.removePageBorders .spread .page, [_nghost-%COMP%]     .viewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .viewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .viewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .spread .page{display:inline-block;vertical-align:middle;margin-left:-3.5px;margin-right:-3.5px}[_nghost-%COMP%]     .pdfPresentationMode .viewer{margin-left:0;margin-right:0}[_nghost-%COMP%]     .pdfPresentationMode .viewer .page, [_nghost-%COMP%]     .pdfPresentationMode .viewer .spread{display:block}[_nghost-%COMP%]     .pdfPresentationMode .viewer .page, [_nghost-%COMP%]     .pdfPresentationMode .viewer.removePageBorders .page{margin-left:auto;margin-right:auto}[_nghost-%COMP%]     .pdfPresentationMode:-webkit-full-screen .viewer .page{margin-bottom:100%;border:0}[_nghost-%COMP%]     .pdfPresentationMode:fullscreen .viewer .page{margin-bottom:100%;border:0}']}),rt=g([Q()],rt);const Lt=[{path:"",component:(()=>{class ee{constructor(X){this.uploadCenterService=X,this.uploadCenterService.src.subscribe(ie=>{this.src=ie})}ngOnDestroy(){this.uploadCenterService.resetFile()}}return ee.\u0275fac=function(X){return new(X||ee)(D.Y36(L.B))},ee.\u0275cmp=D.Xpm({type:ee,selectors:[["app-docu-center"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["grid",""],["href","/",1,"back"]],template:function(X,ie){if(1&X&&(D.YNc(0,Rt,1,0,"app-viewer",0),D.YNc(1,Mt,2,0,"ng-template",null,1,D.W1O)),2&X){const he=D.MAs(2);D.Q6J("ngIf",ie.src)("ngIfElse",he)}},directives:[d.O5,rt],styles:["[_nghost-%COMP%] {height:100%;width:100%}[_nghost-%COMP%]  .back{display:block;padding:1em}"]}),ee})()}];let Ft=(()=>{class ee{}return ee.\u0275fac=function(X){return new(X||ee)},ee.\u0275mod=D.oAB({type:ee}),ee.\u0275inj=D.cJS({imports:[[Y.Bz.forChild(Lt)],Y.Bz]}),ee})(),Ot=(()=>{class ee{}return ee.\u0275fac=function(X){return new(X||ee)},ee.\u0275mod=D.oAB({type:ee}),ee.\u0275inj=D.cJS({imports:[[d.ez,Ft,se]]}),ee})()},1052:fe=>{function v(d,te,D,se,Y,L,n){try{var o=d[L](n),i=o.value}catch(c){return void D(c)}o.done?te(i):Promise.resolve(i).then(se,Y)}fe.exports=function(d){return function(){var te=this,D=arguments;return new Promise(function(se,Y){var L=d.apply(te,D);function n(i){v(L,se,Y,n,o,"next",i)}function o(i){v(L,se,Y,n,o,"throw",i)}n(void 0)})}},fe.exports.default=fe.exports,fe.exports.__esModule=!0},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},263:()=>{},7146:()=>{},9498:()=>{},3500:()=>{},6965:()=>{},546:()=>{}}]);